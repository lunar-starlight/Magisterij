\section{TopoloÅ¡ki modeli}\label{sec:modeli}

% Teorija modelov morda zveni kot zelo abstraktna in filozofska zadeva (govora je
% o matematiÄnih svetovih), vendar je pa ideja sama blizu vsakemu matematiku, ki
% je dokonÄal drugi letnik dodiplomskega Å¡tudija.
% Situacija je namreÄ zelo podobna teoriji grup. Struktura grupe je skupek
% aksiomov (tako kot jih ima konstruktivna logika ali pa teorija mnoÅ¾ic), medtem
% ko so pa grupe same natanko \emph{modeli} teh aksiomov, in na model logike
% mislimo na isti naÄin.

% Seveda pa grupe niso edina struktura, za katero lahko izvedemo to analogijo.
% Lahko tudi gledamo modele monoidne, kolobarske, vektorske,~itd.~strukture, prav
% tako pa lahko gledamo modele topoloÅ¡ke strukture ali pa modele izraÄunljivostne
% strukture (recimo turingove stroje).

% V logiki in teoriji mnoÅ¾ic, se pogosto spraÅ¡ujemo, ali so kakÅ¡ne trditve
% \emph{neodvisne} od aksiomov naÅ¡ega sistema. Na primer aksiom izbire je
% neodvisen od preostalih aksiomov teorije mnoÅ¾ic, hipoteza kontinuuma je
% neodvisna od teorije mnoÅ¾ic z izbiro,~itd. Neodvisnost je mogoÄe malce
% nedostopen pojem, Å¡e posebej za matematike, ki verjamejo v absolutno resnico.
% NamreÄ, kako lahko trditev ni niti resniÄna niti neresniÄna? Ampak bistvo je v
% tem, da trditev ima resniÄnostno vrednost \emph{v vseh modelih}, vendar Äe je ta
% resniÄnostna vrednost razliÄna v razliÄnih modelih, je trditvi ne moremo
% dodeliti, tako da bo bilo to res v vseh modelih! KljuÄno je namreÄ, da noben
% model logike ni \emph{odlikovan}, torej nimamo \quot{standardnega modela}.

% To se vse sliÅ¡i nekoliko komplicirano, a nam je zares Å¾e intimno znano. V
% teoriji grup namreÄ vemo za \quot{komutativnost}, za katero vemo, da se je ne da
% dokazati iz aksiomov grupe, prav tako pa ne velja njena negacija. To pa vemo
% natanko zato, ker obstajajo in komutativne in nekomutativne grupe (oziroma
% modeli aksiomov grup). V teoriji grup prav tako nimamo \quot{standardne grupe},
% za katero velja natanko vse kar velja za vse grupe.

% V logiki takim stvarem pravimo \quot{neodvisne trditve}, v teoriji
% izraÄunljivosti tem pravimo \quot{neizraÄunljive funkcije}, v algebri in
% topologiji pa \quot{lastnosti algebraiÄne strukture oz.~topoloÅ¡kega prostora}.

% Skratka, prehod med aksiomatskim sistemom in modeli nam je kot matematikom znan,
% v algebri smo bili z njim vzgojeni Å¾e od malega, a v logiki te sreÄe Å¾al nismo
% imeli. Tako se moramo na stara leta pruiÄiti teh metod, ki so pa logikom brez
% dvoma enako pomembne kot so grupe algebrajikom, ali pa prostori topologom.

% Kot smo pa omenili v uvodu, pa obstajajo modeli logike, ki so zgrajeni iz
% topoloÅ¡kih prostorov. Tem pravimo topoloÅ¡ki modeli, in vse logiÄne trditve v tem
% modelu se prevedejo v topoloÅ¡ke trditve o topoloÅ¡kem prostoru. Sledi naravno
% vpraÅ¡anje, ali lahko vzpostavimo nekak slovar med neodvisnimi trditvami
% (t.~j.~klasiÄnimi principi v konstruktivni logiki) in topoloÅ¡kimi lastnostmi, ki
% so nam znane.

% Do tega se vrnemo kasneje, v naslednjem razdelku, za zdaj nas pa Äaka malo
% teorije snopov, da lahko topoloÅ¡ke modele sploh definiramo.

% TODO: rewrite

% Oglejmo si najprej primer zveznih funkcij iz \(X\) v \(â„\).
% Zanje se vedno lahko vpraÅ¡amo, Äe so pozitivne, negativne, ali so gladke,
% ipd.~vendar nas pogosto zanima tudi \emph{kje} za doloÄeno funkcijo neka
% lastnost velja. Recimo preprosto, da je \(f : â„ â†’ â„\) identiteta. Tedaj je
% pozitivna na \((0,âˆ)\), negativna na \((-âˆ,0)\), gladka pa na celem \(â„\).
% KlasiÄno je pozitivnost funkcije resniÄnostna vrednost. Z drugimi besedami,
% pozitivnost je predikat na (zveznih) realnih funkcijah. Mi pa zares Å¾elimo
% opredeliti, kje ta lastnost velja, ne zgolj Äe velja na celem prostoru.
% Å½elimo torej, da ima ``prava'' pozitivnost vrednosti v podmnoÅ¾icah prostora
% \(X\), in da bo imela topologija \(X\) kaj vpliva naj bodo to zgolj odprte
% podmnoÅ¾ice.

% Å½elimo pa tudi obravnavati funkcije, ki niso definirane na celotni domeni, na
% primer \(x â†¦ xâ»Â¹\). Tako naÅ¡ primer razÅ¡irimo na mnoÅ¾ico vseh funkcij \(U â†’ â„\),
% kjer je \(U âˆˆ ğ’ªX\), in oznaÄimo mnoÅ¾ico vseh teh funkcij z \(R\). Potem pa za
% \(f âˆˆ R\) definiramo \emph{definicijsko obmoÄje} oziroma \emph{razpon} kot
% domeno funkcije \(f\), in ga oznaÄimo \(â€–fâ€–\).
% Na to mnoÅ¾ico lahko sedaj uvedemo predikat enakosti, ki seveda meri, na kateri
% mnoÅ¾ici se dve funkciji ujemata, na oÄiten naÄin:
% \[ âŸ¦f = gâŸ§ = \int\set{t âˆˆ â€–fâ€–âˆ©â€–gâ€–}{f(t) = g(t)}\text. \]

% Ni nakljuÄje, da preslikavam \(R â†’ ğ’ªX\) pravimo predikati, saj se da pokazati,
% da za vsako polno Heytingovo algebro (kar \(ğ’ªX\) je) obstaja nek model
% konstruktivne matematike, tako da so resniÄnostne vrednosti natanko odprte
% mnoÅ¾ice \(X\). V tem smislu \(âŸ¦f = gâŸ§\) predstavlja kar enakost med funkcijami,
% \(â€–fâ€–\) je pa predikat obstoja elementa \(â€–fâ€– = \exist{f : R}{âŠ¤}\). Velja tudi
% enakost \(â€–fâ€– = âŸ¦f = fâŸ§\), torej zares predikata \(â€–-â€–\) ne potrebujemo.

% V sploÅ¡nem, mnoÅ¾icam kot so \(R\), torej takim, da imajo definirano enakost z
% vrednostmi v \(ğ’ªX\) pravimo \emph{Heytingovo vrednotene mnoÅ¾ice},
% \emph{\(ğ’ªX\) vrednotene mnoÅ¾ice}, ali na kratko \emph{\(ğ’ªX\)-mnoÅ¾ice}.

V tem razdelku najprej podrobno opiÅ¡emo, kako interpretiramo logiko odprtih
mnoÅ¾ic v topoloÅ¡kem prostoru samem. Kasneje potem to logiko razÅ¡irimo do logike
viÅ¡jega reda, ki tvori \emph{topoloÅ¡ki model}. V tem delu ne razvijemo vseh
detajlov formalno, le predstavimo teorijo topoloÅ¡kih modelov na tak naÄin, da bo
najbolj koristna za rabo v kasnejÅ¡ih poglavjih. Za natanÄne detajle o
intuicionistiÄni logiki delnih elementov si lahko ogledate~\cite{Scott79}. Za
detajle o konstrukciji modelov te logike si lahko ogledate~\cite{FS79}, za
detajle o njihovih bolj raÄunskih lastnostih pa~\cite[pogl.~2.6-2.8]{Borceux94}.

TopoloÅ¡ke modele bomo zasnovali na topoloÅ¡kih prostorih in naÅ¡a definicija
topoloÅ¡kega modela bo omenjala zgolj odprte mnoÅ¾ice, tako da se brez Å¡kode
omejimo na \(Tâ‚€\) prostore.
\begin{definicija}
  Prostor \(X\) je \(Tâ‚€\), ko za vse razliÄne toÄke \(x\), \(y âˆˆ X\) velja, da
  obstaja odprta mnoÅ¾ica \(U âˆˆ ğ’ªX\), ki vsebuje natanko eno od njih.
\end{definicija}
Ekvivalentna formulacija \(Tâ‚€\) lastnosti je, da Äe sta dve toÄki vsebovani
v istih odprtih mnoÅ¾icah, sta potem enaki. V sploÅ¡nem prostoru torej med takimi
toÄkami ne moremo razlikovati zgolj z odprtimi mnoÅ¾icami, kar v kontekstu
topoloÅ¡kih modelov ni zaÅ¾eleno.


\subsection{Logika odprtih mnoÅ¾ic}\label{sec:modeli-logika-odprtih}

Naj bo \(X\) topoloÅ¡ki prostor. Podrobno si oglejmo, kako logiÄne operacije
delujejo v logiki odprtih mnoÅ¾ic.

Kot smo povedali Å¾elimo, da se resnica spreminja vzdolÅ¾ prostora \(X\). To
pomeni, da bodo resniÄnostne vrednosti ``merile'' \emph{kje} neka izjava velja.
Å½elimo tudi, da so resniÄnostne vrednosti \emph{odprte} mnoÅ¾ice, saj sicer
topologija ne bo imela vpliva na logiko. Torej vsak \(U âˆˆ ğ’ªX\) predstavlja ``res
je na \(U\)''. To pomeni, da je \emph{resnica} \(âŠ¤\) kar \(X\), in \(âˆ…\)
\emph{neresnica} \(âŠ¥\).

Naredimo najprej nekaj primerov, kako to deluje. V topoloÅ¡kem modelu bodo vlogo
realnih Å¡tevil igrale zvezne funkcije \(U â†’ â„\), za \(U âˆˆ ğ’ªX\). Poglejmo si
sedaj pozitivnost realnega Å¡tevila, v tej logiki. Naj bo \(f : X â†’ â„\) zvezna
funkcija, torej realno Å¡tevilo v topoloÅ¡kem modelu. ÄŒe je v interni logiki sedaj
obravnavamo izjavo "\(f > 0\)", ta ne pravi ``\(f\) je povsod pozitivna'', zares
predstavlja \emph{mnoÅ¾ico}, na kateri je \(f\) pozitivna. To pomeni, da se
interpretira v (odprto) mnoÅ¾ico \(\set{t âˆˆ X}{f(t) > 0}\). To pa tudi pomeni, da
je izjava "\(f > 0\)" v topoloÅ¡kem modelu \emph{res}, ko je ta mnoÅ¾ica enaka
\(X\), torej, ko je \(f\) pozitivna. Negacija relacije \(>\) je \(â‰¤\), tako je
torej negacija te izjave "\(f â‰¤ 0\)". Ker mnoÅ¾ica \(\set{tâˆˆX}{f(t)â‰¤0}\) ni
odprta, moramo vzeti njeno notranjost. To nam Å¾e namigne, da bo v sploÅ¡nem
negacija definirana kot notranjost komplementa oziroma
\emph{zunanjost}.

Obrnimo se sedaj na veznike. Naj bosta \(f\), \(g : X â†’ â„\), \(U â‰” fâ»Â¹(0, âˆ)\),
in \(V â‰” gâ»Â¹(0, âˆ)\). Torej je \(U\) natanko vrednost izjave "\(f > 0\)", \(V\)
pa vrednost izjave "\(g > 0\)". Potem "\(f > 0 âˆ§ g > 0\)" predstavlja izjavo
"funkciji \(f\) in \(g\) sta obe pozitivni", kar je res natanko na preseku
mnoÅ¾ic \(U\) in \(V\). Podobno je disjunkcija \(U âˆ¨ V\) natanko unija \(U\) in \(V\).
% Za negacijo moramo malo razmisliti. Izraz \(f > 0\) lahko preprosto negiramo, in
% dobimo pogoj \(f â‰¤ 0\), ampak mnoÅ¾ica \(t âˆˆ X\) za katere to drÅ¾i tudi ni odprta
% (in je natanko komplement \(U\), kar bi bil drugi kandidat za negacijo \(U\)).
% Ampak lahko pa vzamemo njeno notranjost, torej ``najveÄjo odprto mnoÅ¾ico, na
% kateri \(f > 0\) ne velja''. Temu se potem reÄe tudi ``zunanjost mnoÅ¾ice
% \(U\)'', oznaÄeno \(\ext{U}\), iz angleÅ¡ko ``\foreignlanguage{english}{exterior}''.

Topologija zares tvori Heytingovo mreÅ¾o. To pomeni, da ima poleg konjunkcije in
disjunkcije tudi implikacijo. Te ponavadi v topologiji ne vidimo, a je vseeno
pomembna.
\begin{definicija}
  Za odprti mnoÅ¾ici \(U\) in \(V\), je \(U â‡’ V\) odprta mnoÅ¾ica, za katero za
  vse \(W âˆˆ ğ’ªX\) velja \(W âŠ† Uâ‡’V\) natanko tedaj, ko velja \(Wâˆ©U âŠ† V\).
\end{definicija}
ÄŒe Å¾elimo implikacijo torej definirati s formulo, velja
\begin{gather} Uâ‡’V = â‹ƒ\set{Wâˆˆğ’ªX}{Wâˆ©UâŠ†V}\text. \label{eq:impl} \end{gather}
Poljubna unija odprtih mnoÅ¾ic je odprta, in mnoÅ¾ica \(Uâ‡’V\) je element mnoÅ¾ice v
desni strani formule~\ref{eq:impl}, saj velja \(Uâ‡’V âŠ† Uâ‡’V\), torej je desna
stran kar enaka \(Uâ‡’V\). IzkaÅ¾e pa se, da obstaja Å¡e boljÅ¡a karakterizacija,
namreÄ \(Wâˆ©UâŠ†V\) velja natanko tedaj, ko velja \(W âŠ† VâˆªUá¶œ\). Potem je \(Uâ‡’V\)
natanko unija vseh odprtih podmnoÅ¾ic \(VâˆªUá¶œ\), torej je kar njena notranjost. To
je zelo podobno klasiÄni definiciji implikacije, kjer \(P â‡’ Q\) definiramo kot
\(Q âˆ¨ Â¬P\). V naÅ¡i logiki to ne drÅ¾i, saj se \(V âˆ¨ Â¬U\) interpretira v
\(V âˆª \int{\p{Uá¶œ}}\). Naj bo \(X\) recimo prostor Sierpinskijeva, torej prostor
\(\{0,1\}\), kjer je le toÄka \(1\) odprta. Potem je \(\{1\} â‡’ \{1\}\) oÄitno
res, ampak \(\{1\}âˆ¨Â¬\{1\}\) je pa le \(\{1\}\), torej nista enaka.

Uvedimo oznako za interpretacijo logiÄnih formul v logiki odprtih mnoÅ¾ic. Naj
torej \(\i Ï†\) predstavlja odprto mnoÅ¾ico, na kateri \(Ï†\) velja.
V tabeli~\ref{tab:int-odp} je podana interpretacija izjavnega raÄuna v logiki
odprtih mnoÅ¾ic.
\begin{table}[h]
  \centering
  \begin{align*}
    &\i âŠ¤ â‰” X\\
    &\i âŠ¥ â‰” âˆ…\\
    &\i{Ï† âˆ§ Ïˆ} â‰” \i Ï† âˆ© \i Ïˆ\\
    &\i{Ï† âˆ¨ Ïˆ} â‰” \i Ï† âˆª \i Ïˆ\\
    &\i{Â¬Ï†} â‰” \ext{\i Ï†}\\
    &\i{Ï† â‡’ Ïˆ} â‰” \int{\p{\i Ïˆ âˆª \i Ï†á¶œ}}\\
    &\i{Ï† â‡” Ïˆ} â‰” \i{(Ï†â‡’Ïˆ)âˆ§(Ïˆâ‡’Ï†)}
  \end{align*}

  \caption{Interpretacija formul v logiki odprtih mnoÅ¾ic}
  \label{tab:int-odp}
\end{table}

\begin{opomba}
  Ker je \(Wâˆ©U âŠ† V\) natanko tedaj ko je \(W âŠ† Uâ‡’V\), je \(U âŠ† V\) natanko
  tedaj, ko velja \(âŠ¤ = Uâ‡’V\), torej ko je \(Uâ‡’V\) ``res''. To pa pomeni, da
  lahko na \(U âŠ† V\) gledamo kot ``iz \(U\) sledi \(V\)''.
\end{opomba}

S tem smo vsakemu prostoru priredili izjavni raÄun, sedaj pa ga Å¾elimo
obogatiti do logike prvega (in nato viÅ¡jega) reda. Naj bo \(P : A â†’ ğ’ªX\).
Preslikave z vrednostmi v \(ğ’ªX\) igrajo vlogo predikatov v logiki odprtih
mnoÅ¾ic, saj vsakemu elementu \(a âˆˆ A\) priredijo neko resniÄnostno vrednost.
Sedaj lahko zaÄnemo izpeljevati interpretacijo kvantifikatorjev. Interpretacija
univerzalnega kvantifikatorja je najveÄja odprta mnoÅ¾ica, ki je vsebovana v
\(P(a)\) za vsak \(a âˆˆ A\), torej je notranjost preseka teh mnoÅ¾ic.

Obstoj je malo bolj kompliciran. Vrnimo se nazaj na primer, kjer so resniÄnostne
vrednosti pozitivnost realnih funkcij. Potem bi ``obstaja \(f\), da je
\(f > 0\) in velja \(P(f)\)'' lahko interpretirali kot da iÅ¡Äemo pozitivno funkcijo
\(f\), za katero velja \(P\). Ampak bolj skladno z razpravo zgoraj bi bilo, da
iÅ¡Äemo najveÄjo odprto mnoÅ¾ico, na kateri kak tak \(f\) zadoÅ¡Äa \(P(f)\).
Ta mnoÅ¾ica je pa kar unija vseh odprtih mnoÅ¾ic, na katerih to velja, in to
gotovo velja na vsakem \(P(f)\). Vrednost tega obstoja je torej natanko unija
\(P(f)\). To se potem tudi sklada z intuicijo, da je eksistenÄni kvantifikator
nekakÅ¡na neskonÄna disjunkcija, saj smo tudi to interpretirali kot unijo.
V sploÅ¡nem sta pravili interpretacije univerzalnih kvantifikatorjev torej sledeÄi:
\begin{align*}
  \for{a : \c A}{P(a)}   &â‰” \int{\parens[\bigg]{â‹‚_{a âˆˆ A}P(a)}}\\
  \exist{a : \c A}{P(a)} &â‰” â‹ƒ_{a âˆˆ A}P(a)
\end{align*}
Tukaj piÅ¡emo \(a : \c A\), da bo to skladno s kasnejÅ¡o notacijo, ampak za zdaj
se to bere kot "\(a\) element \(A\)".

Nekaj primerov formul, ki uporabljajo kvantifikatorje bi bili na primer
\(\for{U:\c{ğ’ªX}}{Uâˆ¨Â¬U}\) ali \(\for{U:\c{ğ’ªX}}{\exist{V:\c{ğ’ªX}}{U â‡” Â¬V}}\). V
prvi prepoznamo princip izkljuÄene tretje moÅ¾nosti, druga pa nima posebnega
imena, a pravi, da je vsaka resniÄnostna vrednost negacija. IzkaÅ¾e se, da Äeprav
ti formuli konstruktivno \emph{nista} ekvivalentni, karakterizirata isti razred
topoloÅ¡kih prostorov. Dokaz tega dejstva se nahaja v~\cite[izr.~2.1]{GJ08}, a ga
v tem delu ne ponovimo.

Oglejmo si najprej, kaj zares pomeni, da je kvantificiran izraz ``res''.
ÄŒe je notranjost mnoÅ¾ice \(S âŠ† X\) enaka \(X\), mora biti tudi mnoÅ¾ica \(S\)
enaka \(X\), saj je kveÄjemu veÄja od svoje notranjosti. Podobno, Äe je presek
podmnoÅ¾ic \(X\) enak \(X\), morajo biti te enake \(X\).
Torej je izjava "\(\for{a:\c A}{P(a)}\)" res natanko tedaj, ko je za vsak
\(a âˆˆ A\) mnoÅ¾ica \(P(a)\) enaka \(X\).

Po drugi strani, je "\(\exist{a:\c A}{P(a)}\)" res natanko tedaj, ko mnoÅ¾ice
\(P(a)\) tvorijo pokritje \(X\). 

\begin{lema}
  Za \(U âˆˆ ğ’ªX\) velja \(Uâˆ¨Â¬U\), natanko tedaj, ko je \(U\) zaprta.
\end{lema}
\begin{dokaz}
  Interpretacija \(Uâˆ¨Â¬U\) je \(U âˆª \ext U\). ÄŒe je \(U\) zaprta, je
  \(\ext U = Uá¶œ\) in je \(Uâˆ¨Â¬U = âŠ¤\). Obratno, ker je \(U âŠ¥ \ext U\), iz
  \(Uâˆ¨Â¬U = âŠ¤\) sledi \(\ext U=Uá¶œ\), in je \(U\) zaprta.
\end{dokaz}

\begin{trditev}\label{th:lem-is-discrete}
  Nad topoloÅ¡kim prostorom velja princip izkljuÄene tretje moÅ¾nosti natanko
  tedaj, ko je prostor diskreten.
\end{trditev}
\begin{dokaz}
  Princip izkljuÄene tretje moÅ¾nosti pravi, da velja formula
  \(\for{U : \c{ğ’ªX}}{U âˆ¨ Â¬U}\). Po gornjem to natanko pomeni, da za vsako odprto
  mnoÅ¾ico velja \(Uâˆ¨Â¬U\), torej po lemi, da je zaprta. To je oÄitno res za
  diskretne prostore, saj je \emph{vsaka} podmnoÅ¾ica zaprta. PokaÅ¾imo torej
  drugo smer.

  Naj bo \(t âˆˆ X\) in \(s âˆˆ \cl\{t\}â§µ\{t\}\). Potem po \(Tâ‚€\) lastnosti obstaja
  odprta mnoÅ¾ica \(U\), ki ju loÄuje. Ker je \(s\) v zaprtju \(t\) mora biti
  \(U\) nujno okolica \(t\). Ta je po predpostavki zaprta, torej vsebuje
  \(\cl\{t\}\). To je protislovno, saj \(U\) ne sme vsebovati toÄke \(s\).
  Sledi, da taka toÄka \(s\) ne obstaja, torej je \(\cl\{t\} = \{t\}\). To
  pomeni, da so toÄke zaprte, torej so po predpostavki tudi odprte in je prostor
  diskreten.
\end{dokaz}

Naredimo Å¡e eno karakterizacijo, tokrat DeMorganovega zakona.
\begin{definicija}
  \emph{DeMorganov zakon} je formula \(\for{U,V:\c{ğ’ªX}}{Â¬(Uâˆ§V) â‡’ Â¬Uâˆ¨Â¬V}\).
\end{definicija}

\begin{definicija}
  Prostor je \emph{ekstremalno nepovezan}, ko je zaprtje vsake odprte mnoÅ¾ice
  odprto.
\end{definicija}
\begin{trditev}\label{th:wlem-is-ext-disc}
  Nad topoloÅ¡kim prostorom velja DeMorganov zakon natanko tedaj, ko je prostor
  ekstremalno nepovezan.
\end{trditev}
\begin{dokaz}
  DeMorganov zakon je ekvivalenten trditvi \(\for{U:\c{ğ’ªX}}{Â¬U âˆ¨ Â¬Â¬U}\), kar po
  gornji lemi pravi, da so vse zunanjosti mnoÅ¾ic zaprte. To pomeni, da so
  njihovi komplementi, torej zaprtja mnoÅ¾ic, odprta, kar je natanko kar smo
  Å¾eleli.
\end{dokaz}


\subsection{Heytingovo vrednotene mnoÅ¾ice}\label{sec:modeli-heyting}

Oglejmo si spet primer naravnih Å¡tevil nad nekim prostorom \(X\). To bodo zvezne
preslikave iz odprtih podmnoÅ¾ic \(X\) v \(â„•\). Najprej lahko vsaki taki
preslikavi dodelimo ``resniÄnostno vrednost obstoja'', oziroma \emph{razpon}, ki
bo kar njena domena. To oznaÄimo z \(â€–-â€–\). ÄŒe je \(n : U â†’ â„•\), potem \(n\)
obstaja zgolj na \(U\), saj izven \(U\) nima vrednosti. RazliÄni taki naravni
Å¡tevili lahko tudi primerjamo, tako da preprosto pogledamo mnoÅ¾ico, na kateri
sta enaki: \(âŸ¦n = mâŸ§ = \set{t âˆˆ \e n âˆ© \e m}{n(t) = m(t)}\), kjer seveda pazimo,
da \(t\) jemljemo zgolj iz razpona obeh Å¡tevil. NaÄeloma bi morali vzeti
notranjost te mnoÅ¾ice, saj morajo biti resniÄnostne vrednosti odprte, ampak v
tem primeru, ker so funkcije lokalno konstantne, bo ta mnoÅ¾ica odprta. Potem
se pa izkaÅ¾e, da velja enakost \(âŸ¦n = nâŸ§ = \e n\), tako da Äe znamo primerjati
vsa Å¡tevila, lahko izpeljemo tudi razpon, kar bomo tudi vzeli kot osnovni
gradnik naÅ¡ih objektov.

\begin{definicija}\label{def:â„’set}
  \emph{Heytingovo vrednotena mnoÅ¾ica} oziroma \emph{tip} je mnoÅ¾ica \(A\),
  skupaj s preslikavo \(âŸ¦- =_A -âŸ§ : AÃ—A â†’ ğ’ªX\), tako da za vse \(a\), \(b\), in
  \(c âˆˆ A\) velja
  \begin{gather*}
    âŸ¦ a =_A b âŸ§ âŠ† âŸ¦ b =_A a âŸ§\text{ in}\\
    âŸ¦ a =_A b âŸ§ âˆ© âŸ¦ b =_A c âŸ§ âŠ† âŸ¦ a =_A c âŸ§\text.
  \end{gather*}
  ÄŒe je iz konteksta razvidno, kateri mnoÅ¾ici pripada preslikava \(âŸ¦- =_A -âŸ§\),
  indeks opustimo. ÄŒe Å¾elimo loÄiti tip \(A\) od mnoÅ¾ice \(A\), na kateri je
  definiran, mnoÅ¾ici \(A\) pravimo \emph{mnoÅ¾ica elementov (tipa A)}.

  Kot zgoraj naj bo \(â€–aâ€– â‰” âŸ¦a = aâŸ§\) \emph{razpon \(a\)}.
\end{definicija}

ÄŒe to beremo v logiki odprtih mnoÅ¾ic, gornja aksioma izraÅ¾ata simetriÄnosti
in tranzitivnosti enakosti, izraÅ¾ene z resniÄnostnimi vrednostmi \(ğ’ªX\), tako da
bi lahko rekli, da so tipi natanko mnoÅ¾ice opremljene z (interno) delno
ekvivalenÄno relacijo. Refleksivnosti ne zahtevamo, saj nam razpon
predstavlja \emph{obstoj} elementa. Razpon \(\e a\) je najveÄja odprta mnoÅ¾ica,
kjer \(a\) obstaja. Refleksivnost bi naivno torej pravila, da je vsak obstoj
poln, oziroma da je \(\e a = X\) za vse \(a âˆˆ A\). To ni zaÅ¾eleno, saj Å¾elimo
govoriti tudi o delnih elementih, torej elementih, ki niso definirani povsod.
Tako se refleksivnost bolj pravilno glasi, da za vsak \(a âˆˆ A\) velja
\(\e a âŠ† \i{a = a}\), kar drÅ¾i po definiciji. In res, kot bomo videli
kasneje v interni logiki, je enakost refleksivna.

\begin{primer}\label{ex:nats}
  Na \(\set{f : U â†’ â„•}{U âˆˆ ğ’ªX\text{, }f\text{ lokalno konstantna}}\) definiramo
  enakost
  \[ âŸ¦n = mâŸ§ = \set{t âˆˆ X}{n(t) = m(t)}\text. \]
  To je tip, ki ga oznaÄimo z \(ğ’©\).
\end{primer}

\begin{primer}\label{ex:reals}
  Na \(\set{f : U â†’ â„}{U âˆˆ ğ’ªX\text{, }f\text{ zvezna}}\) definiramo enakost
  \[ âŸ¦f = gâŸ§ = \int{\p{\set{t âˆˆ X}{f(t) = g(t)}}}\text. \]
  To je tip, ki ga oznaÄimo z \(â„›\).
\end{primer}

Gornja dva primera sta instanci bolj sploÅ¡ne konstrukcije, saj so zvezne
preslikave v \(â„•\) lokalno konstantne (in lokalno konstantne so oÄitno zvezne).
Tej konstrukciji v sploÅ¡nem pravimo \emph{snop lokalnih prerezov}. SpecifiÄno so
njeni elementi lokalni prerezi projekcije \(Ï€ : XÃ—A â†’ X\), ampak konstrukcijo
lahko izvedemo le za mnoÅ¾ice \(A\) opremljene s topologijo, in je naravni naÄin
kako topoloÅ¡ki prostor \(A\) ``internalizirati''. Je pa vredno omeniti, da lahko
vsakemu tipu priredimo tak topoloÅ¡ki prostor, da bo snop lokalnih
prerezov izomorfen zaÄetnemu tipu. Podrobnosti si lahko ogledate
v~\cite[pogl.~2]{MM92}, kjer izvedejo konstrukcijo prostora,
in~\cite[pogl.~4]{FS79} ali~\cite[pogl.~2.6-2.8]{Borceux94}, kjer pokaÅ¾ejo
ekvivalenco med Heytingovo vrednotenimi mnoÅ¾icami in snopi, kot so definirani v
prvem viru.

Struktura Heytingovo vrednotenih mnoÅ¾ic zajema veÄ kot le snope lokalnih
prerezov.

\begin{konstrukcija}
  MnoÅ¾ica \(âˆ…\) je tip. MnoÅ¾ica \(\{*\}\) z enakostjo \(\i{*=*} = X\) je tip, ki
  ga oznaÄimo z \(\bb 1\). Pravimo jima \emph{prazen tip} in \emph{tip z enim
    elementom}.
\end{konstrukcija}
\begin{dokaz}
  OÄitno je enakost na \(\{*\}\) simetriÄna in tranzitivna. Prav tako ima
  mnoÅ¾ica \(âˆ…\) za enakost prazno preslikavo, ki na prazno zadoÅ¡Äa pogojema.
\end{dokaz}

\begin{primer}
  MnoÅ¾ica \(â„•\) skupaj z enakostjo definirano kot
  \[ âŸ¦n = mâŸ§ â‰”
    \begin{cases}
      X &; n = m\\
      âˆ… &; n â‰  m
    \end{cases}
  \]
  je tip, ki ga oznaÄimo z \(\c â„•\).
\end{primer}

Ti primeri so instance bolj sploÅ¡ne konstrukcije imenovane \emph{konstantni tipi}.
\begin{konstrukcija}\label{def:constant-hvs}
  Naj bo \(A\) mnoÅ¾ica in enakost na njej definirana s predpisom
  \(\i{a = b} â‰” â‹ƒ\set{X}{a = b}\). To je tip, ki ga oznaÄimo \(\c A\).
\end{konstrukcija}
\begin{dokaz}
  MnoÅ¾ica \(\i{a = b}\) je \(X\) natanko tedaj, ko je \(\i{b = a} = X\), tako da
  je enakost simetriÄna.

  ÄŒe je \(\i{a = b} âˆ© \i{b = c} = X\), vemo, da je \(a = b = c\), torej je
  \(\i{a = c} = X\). ÄŒe je pa ta presek prazen, je gotovo manjÅ¡i od Äesarkoli
  na desni strani \(âŠ†\).
\end{dokaz}
Konstantni tip \(\c A\) zapiÅ¡emo kar \(A\), kadar to ne povzroÄi dvoumnosti.

Konstantni tipi nam sluÅ¾ijo kot vloÅ¾itve navadnih mnoÅ¾ic v notranji svet
topoloÅ¡kega modela. Najbolj prav to pride, ko imamo druÅ¾ino elementov tipa, in
jo Å¾elimo smatrati kot druÅ¾ino tudi znotraj modela.

Poznamo tudi tipe, ki niso niti konstantni, niti snopi lokalnih prerezov.
\begin{primer}\label{ex:omega}
  MnoÅ¾ica \(ğ’ªX\) skupaj z enakostjo \(\i{U = V} â‰” U â‡” V\) je tip. OznaÄimo ga z
  \(Î©\), saj v topoloÅ¡kih modelih predstavlja \emph{tip resniÄnostnih vrednosti}.
\end{primer}

% Ampak naÅ¡a motivacija za definicijo Heytingovo vrednotenih mnoÅ¾ic so bile ravno
% mnoÅ¾ice zveznih preslikav, kar te niso.
% To je zato, ker imajo zvezne funkcije Å¡e dve pomembni lastnosti, ki jih v
% strukturi sami ne zajamemo.
% PrviÄ, funkcije lahko zoÅ¾amo. To preprosto pomeni, da Äe vrednost obstaja na
% neki odprti mnoÅ¾ici, potem obstaja tudi na vsaki manjÅ¡i odprti mnoÅ¾ici.
% DrugiÄ, Äe imamo druÅ¾ino zveznih funkcij, ki se paroma ujemajo na presekih
% njihovih domen, jih lahko enoliÄno zlepimo v zvezno funkcijo, definirano na
% uniji njihovih domen. V primeru zveznih funkcij v naravna Å¡tevila je ta lastnost
% zelo zanimiva, saj je vsaka lokalno konstantna funkcija tak zlepek konstantnih
% funkcij. Potem pa Äe to zdruÅ¾imo Å¡e z zoÅ¾itvami, lahko reÄemo, da je vsaka
% funkcija \(U â†’ â„•\) zlepek zoÅ¾itev konstantnih funkcij \(X â†’ â„•\).
% Tako lahko na nek naÄin reÄemo, da so zvezne funkcije v naravna Å¡tevila
% ``generirane'' z mnoÅ¾ico naravnih Å¡tevil samo.
% To pa zares pomeni, da je \(ğ’©\) nekakÅ¡na \emph{napolnitev} tipa \(\c â„•\).

% Torej ne bomo zahtevali, da so naÅ¡i objekti zaprti za zoÅ¾itve in lepljenje, saj
% jih lahko vedno napolnimo. IzkaÅ¾e pa se, da nam to ustvari nekaj teÅ¾av pri
% definiciji funkcij.
Å½elimo tudi primeren pojem preslikave med tipi. PriÄakujemo, da bodo to funkcije
\(A â†’ B\), ki zadoÅ¡Äajo dvema pogojema. PrviÄ, upali bi, da spoÅ¡tujejo enakosti
tipov, torej da velja \(\i{a=a'} âŠ† \i{f(a) = f(a')}\). Poleg tega bi
priÄakovali, da funkcije ohranjajo ``nivo obstoja'', torej da velja
\(\e a âŠ† \e{f(a)}\). IzkaÅ¾e pa se, da to ne bo zajelo vseh moÅ¾nih preslikav, ki
bi jih Å¾eleli definirati.

\begin{primer}\label{ex:one-to-one}
  Naj bo \(\p{2, ğ’«2}\) diskreten prostor na dveh toÄkah.
  Tip \(A\) naj ima dva razliÄna elementa, \(aâ‚€\) in \(aâ‚\), tako da je
  \(\e{aáµ¢} = \{i\}\) in \(\i{aâ‚€ = aâ‚} = âˆ…\).
  Pri definiciji funkcije \(\bb1 â†’ A\), ki zadoÅ¡Äa Å¾elenim pogojem, pa naletimo
  na problem. NamreÄ, tip \(A\) sploh nima elementa, ki bi obstajal na celem
  prostoru, torej enaÄba \(X = \e * âŠ† \e{f(*)} = \{i\}\) ne velja, ne glede na
  izbiro \(i\). A vendar lahko definiramo relacijo \(R(*,aáµ¢)â‰”\{i\}\), ki se
  izkaÅ¾e da je funkcijska na primeren naÄin. Ta se obnaÅ¡a, kot da nad toÄko
  \(0\) slika \(*\) v \(aâ‚€\) in nad toÄko \(1\) v \(aâ‚\).
\end{primer}

To nam da idejo, da lahko preslikave definiramo kot funkcijske relacije, seveda
spet vrednotene v logiki odprtih mnoÅ¾ic.

Definirajmo najprej, kaj pomeni, da je neka preslikava z vrednostmi v \(ğ’ªX\)
relacija. Prav tako definirajmo kaj pomeni, da je preslikava med tipi operacija.
Te porodijo poseben primer morfizmov, ki pa dejansko so funkcije med mnoÅ¾icami
elementov.
\begin{definicija}
  Naj bodo \(Aâ‚,\dots,Aâ‚™,B\) tipi.

  \emph{Relacija} \(R\) na \(Aâ‚Ã—\dotsÃ—Aâ‚™\) je preslikava \(Aâ‚Ã—\dotsÃ—Aâ‚™ â†’ ğ’ªX\), ki
  za vse \(aáµ¢ âˆˆ Aáµ¢\) zadoÅ¡Äa pogojema
  \begin{gather*}
    \i{aâ‚ = aâ‚'} âˆ© \dots âˆ© \i{aâ‚™ = aâ‚™'} âˆ© R(aâ‚,â€¦,aâ‚™) âŠ† R(aâ‚',â€¦,aâ‚™')\text{ in}\\
    R(aâ‚,â€¦,aâ‚™) âŠ† \e{aâ‚}âˆ©\dotsâˆ©\e{aâ‚™}\text.
  \end{gather*}
  Relacijam na \(AÃ—B\) pravimo tudi \emph{relacije med \(A\) in \(B\)}. Dve
  relaciji sta enaki, ko sta enaki kot preslikavi.

  \emph{Operacija} \(f : Aâ‚Ã—\dotsÃ—Aâ‚™ â† B\) je preslikava \(Aâ‚Ã—\dotsÃ—Aâ‚™ â†’ B\),
  ki za vse \(aáµ¢ âˆˆ Aáµ¢\) zadoÅ¡Äa pogojema
  \begin{gather*}
    \i{aâ‚ = aâ‚'} âˆ© \dots âˆ© \i{aâ‚™ = aâ‚™'} âŠ† \i{f(aâ‚,â€¦,aâ‚™) = f(aâ‚',â€¦,aâ‚™')}\text{ in}\\
    f(aâ‚,â€¦,aâ‚™) âŠ† \e{aâ‚}âˆ©\dotsâˆ©\e{aâ‚™}\text.
  \end{gather*}
  Dve operaciji \(f,g : Aâ‚Ã—\dotsÃ—Aâ‚™ â† B\) sta enaki, ko za vse \(aáµ¢ âˆˆ Aáµ¢\)
  velja \[ \i{f(aâ‚,â€¦,aâ‚™) = g(aâ‚,â€¦,aâ‚™)} = \e{aâ‚}âˆ©\dotsâˆ©\e{aâ‚™}\text. \]
\end{definicija}

\begin{definicija}\label{def:â„’map}
  \emph{Morfizem} \(f : A â†¬ B\) med tipoma \(A\) in \(B\) je relacija med \(A\)
  in \(B\), za katero za vse \(a âˆˆ A\) in \(b\), \(b' âˆˆ B\) velja
  \begin{gather}
    f(a,b) âˆ© f(a,b') âŠ† \i{b =_B b'} \tag{enoliÄnost}\label{eq:enoliÄnost-raw}\\
    \e a âŠ† â‹ƒ_{b âˆˆ B} f(a,b)         \tag{celovitost}\label{eq:celovitost-raw}
  \end{gather}
\end{definicija}
ÄŒe sedaj primerjamo gornje z interpretacijo v logiko odprtih mnoÅ¾ic, je
enoliÄnost natanko interpretacija enoliÄnosti, celovitost je pa malo
spremenjena. V logiki odprtih mnoÅ¾ic bi jo izrazili kot
\[ \for{a : \c A}{\e a â‡’ \exist{b : \c B}{f(a,b)}}\text. \]
Tu smo morali dodati \(\e a\), saj je pojem vrednosti \(f\) pri \(a\) smiseln
le, Äe \(a\) obstaja. Definirajmo sedaj interni jezik bolj natanÄno, ki bo tudi
razreÅ¡il to razliko med celovitostjo zgoraj in celovitostjo, kot jo poznamo iz
teorije mnoÅ¾ic.

Å½eleli bi si, da bi bile operacije kaj povezane z morfizmi, in res so poseben
razred morfizmov.
\begin{trditev} 
  Vsaka operacija \(f : A â† B\) nam porodi morfizem tipa \(A â†¬ B\) s predpisom
  \[ {\p{a,b} â†¦ \e a âˆ© \i{f(a) = b}}\text. \]
\end{trditev}
\begin{dokaz}
  OznaÄimo morfizem s \(\hat f\). EnoliÄnost oÄitno sledi iz tranzitivnosti
  enakosti na \(B\). Je tudi celovit, saj velja
  \[ \e a âŠ† \e a âˆ© \i{f(a) = f(a)} âŠ† \hat f(a, f(a)) âŠ† â‹ƒ_{bâˆˆB}\hat f(a,b)\text.\qedhere \]
\end{dokaz}


\subsubsection{Interni jezik}

Kot lahko sklepate, bomo logiki odprtih mnoÅ¾ic dodali Heytingovo vrednotene
mnoÅ¾ice kot \emph{tipe}. Definirajmo najprej, kaj pomeni, da je v internem
jeziku nek izraz \emph{term} tipa \(A\).
\begin{enumerate}
\item Element \(a âˆˆ A\) je term tipa \(A\).
%\item Spremenljivka tipa \(A\) je term tipa \(A\).
\item ÄŒe je \(f : A â† B\) operacija in \(Ï„\) term tipa \(A\), je \(f(Ï„)\) term tipa \(B\).
\end{enumerate}
Tu moramo paziti, saj lahko terme konstruiramo samo z operacijami, in ne z morfizmi.
% \emph{skonstruiramo} na enega od sledeÄih naÄinov. NajosnovnejÅ¡i naÄin je, da
% vzamemo kar dobesedne elemente tipa \(A\). ÄŒe imamo operacijo tipa \(B â†’ A\), jo
% lahko uporabimo na nekem obstojeÄem termu tipa \(B\), da dobimo term tipa \(A\).
% Poleg tega pa se v izrazih lahko pojavljajo spremenljivke, recimo v
% kvantificiranih izrazih. Te interpretiramo kot spremenljivke istega tipa v
% zunanjem svetu.

Z zapisom \(Ï„ : A\) oznaÄimo, da je term \(Ï„\) tipa \(A\). Za \(Ï„ : A\)
rekurzivno definiramo \(\i Ï„_A\) kot element tipa \(A\):
\begin{enumerate}
\item \(\i a_A â‰” a\), za \(a âˆˆ A\)
%\item \(\i x_A â‰” x\), za spremenljivko \(x\) tipa \(A\)
\item \(\i{f(Î±)}_B â‰” f{\p{\i Î±_A}}\), za operacijo \(f : A â† B\) in \(Î± : B\)
\end{enumerate}

Prav tako razÅ¡irimo tabelo~\ref{tab:int-odp} s tipi in relacijami v tabeli~\ref{tab:int-form}.
\begin{table}[h]
  \centering
  \begin{align*}
    &\i âŠ¤                    â‰” X\\
    &\i âŠ¥                    â‰” âˆ…\\
    &\i{Ï† âˆ§ Ïˆ}               â‰” \i Ï† âˆ© \i Ïˆ\\
    &\i{Ï† âˆ¨ Ïˆ}               â‰” \i Ï† âˆª \i Ïˆ\\
    &\i{Ï† â‡’ Ïˆ}               â‰” \int{\p{\i Ï† âˆª \i Ï†á¶œ}}\\
    &\i{\for{x : A}{Ï†(x)}}   â‰” \int{â‹‚_{a âˆˆ A}\i{\e a â‡’ Ï†(a)}}\\
    &\i{\exist{x : A}{Ï†(x)}} â‰” â‹ƒ_{a âˆˆ A}\i{\e a âˆ§ Ï†(a)}\\
    &\i{Ï„ = Ïƒ}               â‰” \i{\i Ï„_A = \i Ïƒ_A}\\
    &\i{R(Ï„)}                â‰” R{\p{\i Ï„_A}}\text{, za relacijo \(R\) na \(A\) in \(Ï„ : A\)}
  \end{align*}

  \caption{Interpretacija formul v internem jeziku}
  \label{tab:int-form}
\end{table}
\begin{opomba}
  Morfizmi so relacije torej jih v interni jezik dodamo kot relacijske
  simbole. Prav tako je \(\e -\) relacija, saj velja
  \(\i{a = a'}âˆ§\e{a'} â‰¤ \e a\) in \(\e a â‰¤ \e a\), tako da tudi to dodamo kot
  relacijski simbol.

  Prav tako so enakosti Heytingovo vrednotenih mnoÅ¾ic relacije. Njihova
  interpretacija kot enakost in kot relacija enaka.
\end{opomba}

\begin{definicija}\label{def:valid}
  Formula \(Ï†\) brez prostih spremenljivk je \emph{veljavna na \(U\)}, ko je
  \({\i Ï† â‰¥ U}\). Formula \(Ï†\) je \emph{veljavna} ko je veljavna na \(X\).

  Veljavnost na \(U\) piÅ¡emo kot \(U âŠ© Ï†\), veljavnost pa \(âŠ© Ï†\).
\end{definicija}

\begin{trditev}\label{th:valid-res}
  Veljavnost lahko zoÅ¾imo, torej Äe velja \(U âŠ© Ï†\) in je \(V âŠ† U\), velja tudi
  \(V âŠ© Ï†\).
\end{trditev}
\begin{dokaz}
  Po definiciji je \(V âŠ† U âŠ† \i Ï†\).
\end{dokaz}

\begin{trditev}\label{th:valid-glue}
  Veljavnost lahko lepimo, torej Äe je \(C\) pokritje \(U\), in za vsak
  \(V âˆˆ C\) velja \(V âŠ© Ï†\), velja tudi \(U âŠ© Ï†\).
\end{trditev}
\begin{dokaz}
  ÄŒe za vsak \(V âˆˆ C\) velja \(V âŠ† \i Ï†\), je \(\i Ï†\) veÄji tudi od \(â‹ƒC\), kar
  je natanko \(U\).
\end{dokaz}
To nam da zanimivo posledico, da je veljavnost ekvivalentna lokalni veljavnosti.
\begin{definicija}
  Zunanji predikat \(P : ğ’ªX â†’ \{âŠ¤,âŠ¥\}\) je na \(U\) \emph{lokalno ali sÄasoma res},
  piÅ¡emo \(\eventually{V âŠ† U}{P(V)}\), ko obstaja pokritje \(C\) mnoÅ¾ice \(U\),
  tako da za vsak element pokritja velja \(P(V)\).
\end{definicija}
Tukaj bo \(P(V)\) najpogosteje oblike \(\exist{aâˆˆA}{V âŠ© \e a âˆ§ Ï†(a)}\).
V tem primeru v naravnem jeziku reÄemo ``sÄasoma na V obstaja...''.

V topologiji lahko zapis uporabimo za izraÅ¾anje lokalnih lastnosti. Na primer,
dejstvo, da je prostor \(X\) lokalno povezan lahko zapiÅ¡emo s formulo
\[ \eventually{UâŠ†X}{U\text{ je povezana}}\text. \]
Tudi lokalno naravo veljavnosti, kot jo izraÅ¾ata trditvi~\ref{th:valid-res}
in~\ref{th:valid-glue} lahko elegantno izrazimo z novim zapisom:
\begin{posledica}\label{th:valid-local}
  \(U âŠ© Ï†\) natanko tedaj ko \(\eventually{V âŠ† U}{V âŠ© Ï†}\).
\end{posledica}

\begin{trditev}
  Veljavnost formule se lahko raÄuna po tabeli~\ref{tab:kj-sem}.
  \begin{table}[h]
    \centering
    \begin{tabularx}{0.9\textwidth}{p{0.25\textwidth}X}
      \(U âŠ© âŠ¤\)                   & vedno\\
      \(U âŠ© âŠ¥\)                   & ko je \(U = âˆ…\)\\
      \(U âŠ© Ï† âˆ§ Ïˆ\)               & ko \(U âŠ© Ï†\) in \(U âŠ© Ïˆ\)\\
      \(U âŠ© Ï† âˆ¨ Ïˆ\)               & ko
                                    \(\eventually{V âŠ† U}{V âŠ© Ï†\text{ ali }V âŠ© Ïˆ}\)\\ 
      \(U âŠ© Ï† â‡’ Ïˆ\)               & ko za vsak \(V âˆˆ ğ’ªU\) velja, da iz \(V âŠ© Ï†\)
                                    sledi \(V âŠ© Ïˆ\)\newline
                                    ekvivalentno: ko velja \(Uâˆ©\i Ï† âŠ© Ïˆ\)\\
      \(U âŠ© Â¬Ï†\)                  & ko za vsak \(V âˆˆ ğ’ªU\) velja, da iz \(V âŠ© Ï†\)
                                    sledi \(V = âˆ…\)\newline
                                    ekvivalentno: ko velja \(U âŠ¥ \i Ï†\)\\
      \(U âŠ© \for{x : A}{Ï†(x)}\)   & ko za vsak \(a âˆˆ A\) velja \(U âˆ© \e a âŠ© Ï†(a)\)\\
      \(U âŠ© \exist{x : A}{Ï†(x)}\) & ko \(\eventually{V âŠ† U}{\exist{a âˆˆ A}{V âŠ† \e a
                                    \text{ in } V âŠ© Ï†(a) }}\)
    \end{tabularx}

    \caption{Veljavnost formul oziroma Kripke-Joyalova semantika}
    \label{tab:kj-sem}
  \end{table}
\end{trditev}
\begin{dokaz}
  VeÄina toÄk zgoraj je oÄitna, tako da se osredotoÄimo zgolj na disjunkcijo in
  obstoj.
  
  Po definiciji velja \(U âŠ© Ï† âˆ¨ Ïˆ\) natanko tedaj, ko je \(U âŠ† \i Ï† âˆª \i Ïˆ\),
  torej, ko \(\i Ï†\) in \(\i Ïˆ\) pokrivata \(U\). Å½eleno pokritje sestoji kar iz
  mnoÅ¾ic \(\i Ï†\) in \(\i Ïˆ\), saj velja \(\i Ï† âŠ© Ï†\) in \(\i Ïˆ âŠ© Ïˆ\).
  Obratno naj bo \(C\) pokritje \(U\), za katerega za vsak element \(V âˆˆ C\)
  velja bodisi \(V âŠ© Ï†\), bodisi \(V âŠ© Ïˆ\). Potem je pa \(V\) vsebovan v
  \(\i Ï† âˆª \i Ïˆ\), torej je \(U âŠ† \i Ï† âˆª \i Ïˆ\).

  Situacija z obstojem je popolnoma analogna. ÄŒe je
  \(U âŠ† â‹ƒ_{a âˆˆ A}\e a âˆ© \i{Ï†(a)}\), potem mnoÅ¾ice \(\e a âˆ© \i{Ï†(a)}\) pokrivajo
  \(U\). Prav tako za \(\e a âˆ© \i{Ï†(a)}\) obstaja \(a\), in zanj velja
  \(\e a âˆ© \i{Ï†(a)} âŠ† \e a\) in \(\i{Ï†(a)} âŠ© Ï†(a)\). Obratno naj bo \(C\)
  pokritje \(U\), za katerega za vsak element \(V âˆˆ C\) obstaja \(a_V âˆˆ A\), da
  je \(V âŠ† \e a_V\) in \(V âŠ† \i{Ï†(a_V)}\). Potem pa velja
  \[ U âŠ† â‹ƒ_{V âˆˆ C}V âŠ† â‹ƒ_{v âˆˆ C}\e{a_V} âˆ© \i{Ï†(a_V)} âŠ† â‹ƒ_{a âˆˆ A}\e a âˆ© \i{Ï†(a)}\text.\qedhere \]
\end{dokaz}
\begin{opomba}
  Tabela~\ref{tab:kj-sem} poda dva naÄina, kako preveriti veljavnost implikacije.
  IzkaÅ¾e se, da je v razliÄnih primerih laÅ¾je uporabiti razliÄne naÄine.
  ÄŒe sta formuli \(Ï†\) in \(Ïˆ\) preprosti, je ponavadi laÅ¾je preverjati
  \(U âˆ© \i{Ï†} âŠ© Ïˆ\), veljavnosti zahtevnejÅ¡ih implikacij pa raje prevedemo v
  implikacijo med veljavnostmi dveh formul. Tako lahko uporabimo vso matematiÄno
  intuicijo sklepanja, kot smo navajeni. Je pa treba paziti, da \(U âŠ© Ï† â‡’ Ïˆ\)
  \emph{ni} enako kot "\(U âŠ© Ï†\) implicira \(U âŠ© Ïˆ\)".
\end{opomba}

Ker Å¾elimo v internem jeziku pisati matematiko, bi bilo dobro, da lahko v njem
dejansko sklepamo.
\begin{izrek}[Zdravost]\label{th:soundness}
  IntuicionistiÄno dokazljive formule so veljavne.
\end{izrek}
Dokaz in toÄno definicijo dokazljivosti si lahko ogledate v~\cite{Scott79,FS79}.

Na tem mestu povejmo, kako toÄno deluje "sklepanje v internem jeziku".
VeÄinoma poteka enako kot v obiÄajni neformalni matematiki, na primer vedno
moramo vedeti, katere spremenljivke smo uvedli in kakÅ¡nih tipov so, slediti pa
moramo tudi trenutnim hipotezam. Poleg tega se lahko sklicujemo na vmesne
rezultate. Formalno se hipoteze shranjuje na levi strani operatorja \(âŠ©\) in
spremenljivke v kontekstu v zunanjem jeziku. Ilustrirajmo to na primeru. ÄŒe
dokazujemo \(U âŠ© x = y â‡’ Ï†(x) = Ï†(y)\), je to po tabeli~\ref{tab:kj-sem}
ekvivalentno \(U âˆ© \i{x = y} âŠ© Ï†(x) = Ï†(y)\). Tu smo hipotezo \(x = y\) dali na
levo stran, spremenljivki \(x\) in \(y\) sta bili pa verjetno vpeljani nekje
prej v zunanjem jeziku. Ko sklepamo v internem jeziku to izrazimo na sledeÄ
naÄin:
\begin{quotation}
  Za \(x\), \(y : A\) naj velja \(U\) in predpostavimo \(x = y\). Potem...
\end{quotation}
Paziti pa je treba pri dokazovanju in uporabi kvantifikatorjev, ker imamo
opravka z delnimi elementi. Dokaz \(\for{x:A}{Ï†(x)}\) v interni logiki poteka
tako, da uvedemo spremenljivko \(x:A\) in dodatno predpostavimo \(\e x\):
\begin{quotation}
  Naj bo \(a : A\) in predpostavimo \(\e x\).
\end{quotation}
Da se izognemo ponavljanju, drugi del izpustimo, tako da piÅ¡emo zgolj
``naj bo \(a : A\)''. Pri uporabi eksistenÄnega kvantifikatorja se zgodi
podobno. ÄŒe imamo v kontekstu \(\exist{x:A}{Ï†(x)}\), Å¾elimo v navadni matematiki
reÄi "naj bo \(a âˆˆ A\) tak, da zadoÅ¡Äa \(Ï†(a)\)". To deluje tudi v topoloÅ¡kih
modelih, a moramo malo paziti. Kar velja je, da mnoÅ¾ice \(\e a âˆ© \i{Ï†(a)}\)
\emph{pokrivajo} prostor \(X\). Ker je veljavnost lokalna
(trditev~\ref{th:valid-local}), zadoÅ¡Äa pokazati trditev na vsakem od
\(\e a âˆ© \i{Ï†(a)}\) posebej. Sedaj pa na \(\e a âˆ© \i{Ï†(a)}\) dejansko obstaja
\(a âˆˆ A\), in zanj velja \(Ï†(a)\) v internem jeziku. Tako lahko v internem
jeziku reÄemo "naj bo \(a : A\) tak, da zadoÅ¡Äa \(Ï†(a)\)", ampak nam to poleg
predpostavke \(Ï†(a)\) doda Å¡e \(\e a\).

Pri uporabi univerzalnega kvantifikatorja ni veliko za reÄi, le da moramo
paziti, da term na katerem ga uporabljamo obstaja. To bo veljalo, Äim smo ta
term skonstruirali v interni logiki. Pri dokazovanju eksistenÄnega
kvantifikatorja podobno pazimo, da termi, ki jih skonstruiramo, dejansko
pokrijejo trenutni kontekst.

Ponovimo sedaj definicije tipov in morfizmov v internem jeziku.
\begin{redefinicija}{def:â„’set}
  \emph{Tip} je mnoÅ¾ica \(A\) z relacijo \(=_A\) na \(\c AÃ—\c A\), za katero velja
  \begin{align*}
    &âŠ© \for{x,y:\c A}{x =_A y â‡’ y =_A x}\text{ in}\\
    &âŠ© \for{x,y,z:\c A}{x =_A y âˆ§ y =_A z â‡’ x =_A z}\text.
  \end{align*}
\end{redefinicija}
Tu kvantifikacijo interpretiramo kot na zaÄetku v logiki odprtih mnoÅ¾ic, saj Äe
\(A\) ni tip zanj ne moremo uporabiti interne logike.
Zdaj pa lahko povemo, da je v interni logiki \(=_A\) ekvivalenÄna relacija.
\begin{posledica}
  Za tip \(A\) velja
  \begin{align*}
    &âŠ© \for{x:A}{x = x}\text{,}\\
    &âŠ© \for{x,y:A}{x = y â‡’ y = x}\text{, in}\\
    &âŠ© \for{x,y,z:A}{x = y âˆ§ y = z â‡’ x = z}\text.
  \end{align*}
\end{posledica}
Tako lahko neformalno na tipe gledamo kot ``mnoÅ¾ice z ekvivalenÄno relacijo''.

\begin{redefinicija}{def:â„’map}
  \emph{Morfizem} \(f : A â†¬ B\) je relacija \(f\) med \(A\) in \(B\), za katero
  veljata
  \begin{align}
    &âŠ© \for{x:A}{\for{y,y':B}{f(x,y)âˆ§f(x,y') â‡’ y=y'}} \tag{enoliÄnost}\label{eq:enoliÄnost}\\
    &âŠ© \for{x : A}{\exist{y : B}{f(x,y)}}             \tag{celovitost}\label{eq:celovitost}
  \end{align}
\end{redefinicija}
\begin{opomba}
  Pogoja enoliÄnosti in celovitosti lahko sedaj zdruÅ¾imo v en pogoj
  \[ âŠ© \for{x:A}{\unique{y:B}{f(x,y)}}\text. \]
  Res, drugi pogoj izraÅ¾a, da tak \(y\) obstaja, medtem ko prvi pogoj izraÅ¾a,
  da je tak \(y\) enoliÄen.
\end{opomba}


\subsubsection{Relacije in podobjekti}

V tem podrazdelku s Ärkami \(A, B, C,...\) oznaÄimo tipe.

Z notranjim jezikom si lahko pomagamo pri konstruiranju relacij. NatanÄno to
pomeni, da bomo formule s prostimi spremenljivkami interpretirali kot
preslikave, ki bodo avtomatsko zadoÅ¡Äale pravilom relacij.

Najprej si olajÅ¡ajmo delo, in definirajmo produkte tipov. Potem bomo lahko vse
definirali za eno spremenljivko, saj lahko relacijo na veÄ spremenljivkah
predstavimo kot eniÅ¡ko relacijo (oziroma predikat) na produktu.

\begin{konstrukcija}\label{cons:prod}
  \emph{Produkt} tipov \(A\) in \(B\) je mnoÅ¾ica
  \[ \set{(a, b) âˆˆ AÃ—B}{\e a = \e b} \]
  z enakostjo definiramo po toÄkah
  \[ \i{\p{a, b} = \p{a', b'}} â‰” \i{a = a'} âˆ© \i{b = b'}\text. \]
  OznaÄimo ga \(AÃ—B\).

  Projekciji \(Ï€â‚€ : AÃ—B â†’ A\) in \(Ï€â‚ : AÃ—B â†’ B\) sta operaciji.
\end{konstrukcija}
\begin{dokaz}
  Gornja enakost je oÄitno simetriÄna in tranzitivna, tako da tvori
  tip.

  PokaÅ¾imo le, da je projekcija \(Ï€ : AÃ—B â†’ A\) operacija.
  Velja \(\e{\p{a, b}} = \e a âˆ© \e b = \e a\), torej velja
  \(\e{\p{a,b}} âŠ† \e{Ï€{\p{a,b}}}\). Za drugo lastnost imamo
  \[ \i{\p{a,b} = \p{a',b'}} = \i{a=a'}âˆ©\i{b=b'} âŠ† \i{a = a'} =
    \i{Ï€(a,b) = Ï€(a',b')}\text.\qedhere \]
\end{dokaz}
\begin{opomba}
  PriÄakovali bi, da bi za nosilec produkta vzeli kar produkt mnoÅ¾ic elementov
  \(A\) in \(B\). IzkaÅ¾e se, da Äe Å¾elimo, da sta projekciji operaciji, moramo
  vzeti mnoÅ¾ico zgoraj. Res, Äe sta projekciji operaciji velja
  \(\e{(a,b)} = \e{Ï€(a,b)} = \e a\) (simetriÄno \(\e b\)). Potem sledi
  \(\e a = \e b\), kar je pa natanko pogoj na parih, ki ga imamo zgoraj.
\end{opomba}

\begin{konstrukcija}\label{cons:rel-from-formula}
  Naj bo \(Ï†\) formula s prosto spremenljivko \(x\) tipa \(A\). Potem je
  preslikava \(a â†¦ \e a âˆ© \i{Ï†(a)}\) relacija na \(A\).
\end{konstrukcija}
\begin{dokaz}
  OznaÄimo to preslikavo s \(\hat Ï†\).
  OÄitno je stroga. Prav tako je ekstenzionalna, saj velja
  \begin{align*}
    \i{a = a'} âˆ© \hat Ï†(a')
    &âŠ† \i{a = a'} âˆ© \e{a'} âˆ© \i{Ï†(a')}\\
    &âŠ† \e a âˆ© \i{a = a' âˆ§ Ï†(a')}\\
    &âŠ† \e a âˆ© \i{Ï†(a)} = \hat Ï†(a)\text.\qedhere
  \end{align*}
\end{dokaz}
\begin{opomba}
  ÄŒe je formula \(Ï†\) Å¾e taka, da velja \(\i{Ï†(a)} âŠ† \e a\) za vse \(a âˆˆ A\),
  lahko preprosto piÅ¡emo \(\hat Ï†(a) â‰” \i{Ï†(a)}\).
\end{opomba}

\begin{primer}
  ÄŒe je \(R\) relacija na \(A\), je \(\hat R = R\). Res, ker je \(R\) Å¾e sama po
  sebi stroga, lahko uporabimo gornjo opombo in piÅ¡emo \(\hat R(a) = \i{R(a)}\).
  To je pa natanko \(R(a)\).
\end{primer}
\begin{primer}
  Naj bo \(x â‰¡ y \mod 2\) formula s prostima spremenljivkama tipa \(\c â„•\). Potem
  ta definira relacijo, ki je simetriÄna in tranzitivna, torej definira tip.
  Njegova mnoÅ¾ica elementov je neskonÄna, a je izomorfen tipu \(\c 2\).
\end{primer}
Na ta naÄin lahko torej definiramo izpeljane tipe, je pa to najbolj uporabno pri
definiciji morfizmov.

\begin{konstrukcija}
  \emph{Kompozitum} \({gâˆ˜f : A â†¬ C}\) morfizmov \(A \oset{f}{â†¬} B \oset{g}{â†¬} C\),
   je relacija
  \[ \exist{y : B}{f(x,y) âˆ§ g(y,z)}\text. \]
\end{konstrukcija}
\begin{dokaz}
  Konstruktivno velja, da je kompozitum funkcijskih relacij funkcijska relacija.
  Tako lahko uporabimo izrek~\ref{th:soundness} in je dokaz konÄan.
\end{dokaz}

\begin{konstrukcija}
  Identiteta na \(A\) je kar \(âŸ¦- =_A -âŸ§\).
\end{konstrukcija}
\begin{dokaz}
  Enakost na \(A\) je v internem jeziku identitetna relacija, torej je po
  izreku~\ref{th:soundness} enota za kompozitum.
\end{dokaz}

\begin{definicija}
  Kategorijo tipov z morfizmi in gornjim kompozitumom in identiteto oznaÄimo z
  \(\cat{Set}(ğ’ªX)\).
\end{definicija}

Oglejmo si, kaj so podobjekti tipa \(A\). Ti so do izomorfizma natanÄno
monomorfizmi s kodomeno \(A\). Poleg tega so urejeni, tako da je \(S â‰¤ T\)
natanko tedaj, ko obstaja monomorfizem \(S â†’ T\). Vemo tudi, da ponavadi
lahko podobjekte predstavimo s \emph{predikati} na mnoÅ¾ici, torej funkcijami iz
\(A\) v mnoÅ¾ico resniÄnostnih vrednostih.

V naÅ¡em primeru igra topologija \(ğ’ªX\) vlogo mnoÅ¾ice resniÄnostnih vrednosti,
tako so predikati kar morfizmi tipa \(A â†¬ Î©\). IzkaÅ¾e pa se, da imajo ti Å¡e
lepÅ¡o karakterizacijo.

\begin{lema}\label{th:â„’sub-is-map-to-Î©}
  Za vsak morfizem \(f : A â†¬ Î©\) obstaja enoliÄna operacija \(\hat f : A â† Î©\),
  tako da je morfizem porojen z \(\hat f\) enak \(f\).
\end{lema}
\begin{dokaz}
  Definirajmo \(\hat f(a) â‰” f(a,âŠ¤)\).
  OÄitno je \(\hat f(a) â‰¤ \e a\), saj je velja \(f(a,âŠ¤) â‰¤ \e a\).
  Denimo sedaj, da je \(a=a'\). Potem je \(f(a,âŠ¤) = f(a',âŠ¤)\), torej je
  \(\hat f(a) = \hat f(a')\), torej je \(\hat f\) res operacija.

  Naj bosta \(a âˆˆ A\) in \(U âˆˆ ğ’ªX\). Brez Å¡kode za sploÅ¡nost predpostavimo, da
  je \(\e a = X\).
  \begin{gather*}
    f(a,U) âˆ© U = f(a,U) âˆ© \i{U = âŠ¤} âŠ† f(a, âŠ¤) = \hat f(a)\\
    f(a,U) âˆ© f(a, âŠ¤) âŠ† \i{U = âŠ¤} = U
  \end{gather*}
  To dvoje skupaj nam pove, da je \(f(a,U)\) manjÅ¡i od \(\i{\hat f(a) = U}\).

  Obratno, zaÄnimo z \(\i{\hat f(a) = U}\) in pokaÅ¾imo, da je manjÅ¡i od
  \(f(a,U)\). Ker je \(f\) celovita, mnoÅ¾ice \(f(a, V)\) pokrivajo prostor, tako
  da zadoÅ¡Äa pokazati, da velja \(\i{\hat f(a) = U}âˆ©f(a,V) âŠ† f(a,U)\).
  Po delu zgoraj velja \(f(a,V) âŠ† \i{\hat f(a) = V}\), torej je
  \(\i{\hat f(a) = U}âˆ©f(a,V) âŠ† U=V\). Potem pa lahko po enoliÄnosti \(f\)
  zapiÅ¡emo \(\i{\hat f(a) = U}âˆ©f(a,V) âŠ† f(a,U)\).

  ÄŒe je \(g : A â† Î©\) neka druga operacija, ki porodi morfizem enak \(f\), je
  \(\e a = \i{g(a) = g(a)} = \i{f(a,g(a))} = \i{\hat f(a) = g(a)}\), torej sta
  operaciji \(\hat f\) in \(g\) enaki.
\end{dokaz}

Dokaz \(\i{\hat f(a) = U} âŠ† f(a,U)\) Å¾e napol zgleda kot matematiÄno sklepanje,
ampak ima veliko ponavljanja. Tega v navadni matematiki nebi videli, ampak Äe
Å¾elimo pokazati neko vsebovanost drugaÄe paÄ ne gre. Ampak smo Å¾e prej govorili,
da Å¾elimo na vsebovanost gledati kot implikacijo, torej je veriga vsebovanosti
zgolj veriga implikacij, oziroma sklepov. Te ponavadi piÅ¡emo v prozi, v naravnem
jeziku, tako da bi Å¾eleli to emulirati tudi tu. IzkaÅ¾e se, da to lahko storimo s
pomoÄjo internega jezika.
\begin{dokaz}
  Naj bosta \(a:A\), \(U:Î©\), in naj velja \(\hat f(a) = U\).
  Ker je \(f\) celovita, obstaja \(V:Î©\), da velja \(f(a,V)\). Potem po prvem
  delu dokaza velja tudi \(\hat f(a) = V\). Po tranzitivnosti enakosti torej
  velja \(U = V\) in dobimo \(f(a,U)\).
\end{dokaz}
ÄŒe podrobno pogledate prvo verzijo dokaza, so koraki popolnoma identiÄni, le da
smo v drugem pisali dokaz, kot bi ga pisali v obiÄajni matematiki. Tam si lahko
zapomnemo kaj ``Å¾e velja'', in to uporabimo na primerni toÄki. Tako bomo tudi v
prihodnje raje pisali dokaze v internem jeziku, saj so ti dokazi bliÅ¾je
matematiÄni praksi kot verige vsebovanosti.

Recimo torej eniÅ¡kim relacijam podtipi in pokaÅ¾imo, da so natanko podobjekti.
\begin{definicija}\label{def:subset}
  \emph{Podtip} \(S âŠ‘ A\) je eniÅ¡ka relacija na \(A\).
  Namesto \(S(Ï„)\) v internem jeziku piÅ¡emo \(Ï„ âˆˆ S\). Kvantifikatorje razÅ¡irimo
  z na podtipe tako, da \(\e a\) v definiciji zamenjamo z \(S(a)\).
\end{definicija}

\begin{konstrukcija}\label{cons:ğ’ªX-sub-lattice}
  Podtipi tvorijo delno ureditev
  \[ S âŠ‘ T :â‡”\ X âŠ© \for{x : A}{x âˆˆ S â‡’ x âˆˆ T}\text. \]
\end{konstrukcija}

Definirajmo sedaj boljÅ¡i zapis za konstrukcijo~\ref{cons:rel-from-formula}.
\begin{definicija}\label{notation:setbuilder}
  Naj bo \(Ï†\) formula s prosto spremenljivko \(x : A\). Potem relacija \(\hat Ï†\)
  definirana v~\ref{cons:rel-from-formula} doloÄa podtip \(A\), ki ga oznaÄimo z
  \(\set{x : A}{Ï†}\).
\end{definicija}

\begin{definicija}\label{notation:image}
  Vsakemu morfizmu \(f : A â†¬ B\) in podtipoma \(S âŠ‘ A\) in \(T âŠ‘ B\) lahko
  priredimo
  \begin{enumerate}
  \item podtip \(f[S] âŠ‘ B\), definiran kot
    \(\set{y : B}{\exist{x âˆˆ S}{f(x,y)}}\), imenovan \emph{slika} in
  \item podtip \(fâ»Â¹[T] âŠ‘ A\), definiran kot
    \(\set{x : A}{\exist{y âˆˆ T}{f(x,y)}}\), imenovan \emph{praslika}. 
  \end{enumerate}
\end{definicija}

\begin{konstrukcija}\label{cons:sing}\label{notation:sing-image}
  Za \(a âˆˆ A\) lahko tvorimo \(\s a â‰” \set{x : A}{x = a}\). Temu podtipu
  pravimo \emph{enojec}.

  Za enojce lahko poenostavimo zapis za sliko in prasliko,
  \[ f[a] â‰” f[\s a] = \set{y : B}{f(a,y)} \text{ in}\]
  \[ fâ»Â¹[b] â‰” fâ»Â¹[\s b] = \set{x : A}{f(x,b)} \text,\]
  kot smo vajeni.
\end{konstrukcija}

Primer te konstrukcije smo zares Å¾e videli, v dokazu
leme~\ref{th:â„’sub-is-map-to-Î©}. Tam smo zares iz morfizma \(f : A â†¬ Î©\)
skonstruirali podtip \(fâ»Â¹(âŠ¤) âŠ‘ Î©\). Iz teorije kategorij pa vemo, da Äe je
\(f\) karakteristiÄna preslikava podobjekta \(S\), je potem \(S = fâ»Â¹(âŠ¤)\),
torej je to natanko ista konstrukcija. PokaÅ¾imo sedaj, da so podtipi natanko
podobjekti.

Preden se lotimo dejanskega dokaza pokaÅ¾imo, da lahko iz vsakega podtipa
zgradimo dejanski tip, ki se vloÅ¾i v svoj nadtip. To je zares konstrukcija
podobjekta iz podtipa.
\begin{konstrukcija}\label{cons:â„’set-from-â„’sub}
  Naj bo \(P âŠ‘ A\). Tvorimo tip \(\hat P\) na mnoÅ¾ici \(A\) z enakostjo
  definirano kot \(x =_A x'âˆ§P(x)\).
  Identiteta na \(A\) je monomorfizem \(m : \hat P â†¬ A\).
\end{konstrukcija}
\begin{dokaz}
  Relacija je simetriÄna, saj je \(\i{x=_Ax'}âˆ©P(x)\) enak \(\i{x=_Ax'}âˆ©P(x')\),
  tranzitivnost pa oÄitno sledi iz tranzitivnosti \(=_A\).

  Za morfizem \(m\) velja, da za vsak \(f : B â†¬ \hat P\), \(a âˆˆ A\), in
  \(b âˆˆ B\) velja \(mâˆ˜f(b,a) = f(b,a)\). Od tod sledi, da je \(m\) monomorfizem.
\end{dokaz}

\begin{trditev}\label{th:â„’sub-is-sub}
  Delni ureditvi podtipov \(A\) in podobjektov \(A\) sta si ekvivalentni.
\end{trditev}
\begin{dokaz}
  Naj bo \(m : S â†¬ A\) monomorfizem. Temu lahko priredimo sliko \(m[S]\). Ta
  prireditev je monotona, tako da je injektivna in dobro definirana na
  mnoÅ¾ici ekvivalenÄnih razredov.
  Obratno, vsakemu podtipu \(P âŠ‘ A\) priredimo monomorfizem \(m : \hat P â†¬ A\),
  kot v konstrukciji~\ref{cons:â„’set-from-â„’sub}.
  
  Preverimo, da sta si ti operaciji inverzni.
  ÄŒe zaÄnemo z \(m : S â†¬ A\), se \(m\) zoÅ¾i na \(S â†¬ A/m[S]\). Prav tako je ta
  morfizem surjektiven, saj za vsak \(a : A/m[S]\) vemo, da ima razpon
  \(\e a âˆ§ a âˆˆ m[S]\), torej obstaja nek \(s : S\), da je \(m(s,a)\).
  Obratno, Äe je \(P âŠ‘ A\) je \(a âˆˆ \id[\hat P]\) natanko tedaj, ko velja \(a âˆˆ P\).
\end{dokaz}

Za konec pa definirajmo Å¡e kvocientne tipe. Najprej pokaÅ¾imo 

\begin{definicija}
  Relacija \(R\) na \(AÃ—A\) je refleksivna, ko velja \(âŠ© \for{x:A}{R(x,x)}\).
\end{definicija}

\begin{lema}
  Za refleksivno relacijo \(R\) na \(AÃ—A\) velja
  \[ âŠ© \for{x,y:A}{x = y â‡’ R(x,y)}\text. \]
\end{lema}
\begin{dokaz}
  Naj bosta \(a\) in \(b\) tipa \(A\) enaka. Potem je \(R(a,b) = R(a,a)\), po
  prvi lastnosti relacij. Po predpostavki \(R(a,a)\) velja za vse \(a : A\),
  torej velja tudi \(R(a,b)\).
\end{dokaz}

\begin{konstrukcija}\label{cons:quot}
  Naj bo \(R\) ekvivalenÄna relacija na \(AÃ—A\). Potem mnoÅ¾ica \(A\) z enakostjo
  \(R\), tvori tip, ki mu pravimo \emph{kvocient} \(A\) po \(R\) in ga oznaÄimo
  \(\quot A R\).

  Identiteta na \(A\) je kvocientni morfizem \(q : A â†¬ \quot A R\).
\end{konstrukcija}
\begin{dokaz}
  Enakost bo oÄitno simetriÄna in tranzitivna, tako da rabimo preveriti samo, da
  identiteta res definira ustrezen morfizem.

  % Najprej pokaÅ¾imo, da velja \(âŠ©\for{x,y:A}{x = y â‡’ R(x,y)}\). Ker je preslikava
  % refleksivna, to pomeni, da velja \(âŠ© \for{x:A}{R(x, x)}\). Poleg tega
  % pa, ker je relacija, imamo \(âŠ¢ \p{a, a'} = \p{a', a'} âˆ§ R(a',a') â‡’ R(a,a')\).
  % Leva stran implikacije se poenostavi na \(a = a'\), ker smo na \(\e{a'}\) in
  % je \(R(a',a')\) res.

  Naj bo \(f : A â†¬ B\) morfizem, za katerega velja \(R(a,a')âˆ§f(a',b) â‰¤ f(a,b)\).
  Tedaj bo \(f\) tudi morfizem tipa \(\quot A R â†¬ B\), torej je \(q\) res
  kvocientna reslikava.
\end{dokaz}


\subsubsection{Polni tipi}

Pogosto omenjamo, da zaradi lokalne narave naÅ¡e logike in sploÅ¡nosti definicije
tipov nekateri elementi ne obstajajo. Oglejmo si spet
primer~\ref{ex:one-to-one}. Naj bo \(X = 2\), in \(A = \{aâ‚€,aâ‚\}\), kjer je
\(\e{aáµ¢} = \{i\}\).
Relacijo \(R\) med \(\bb1\) in \(A\) definiramo s predpisom \(R(*,aáµ¢) â‰” \{i\}\).
Ta je funkcijska relacija. Ker je enoliÄna, ima torej \(f[*]\) kveÄjemu en
element. Ampak ne obstaja noben element \(a âˆˆ A\), ki bi zadoÅ¡Äal \(f[*] = \s a\),
torej \(f[*]\) ni zares enojec. Takim elementom pravimo \emph{podenojci}.

% Se pa izkaÅ¾e, da velja \(\{i\} âŠ© aáµ¢ âˆˆ f[*]\), torej ima \(f[*]\) nad vsako toÄko
% element. V interni logiki torej velja \(\exist{x:A}{xâˆˆf[*]}\). Torej iz
% notranjega sveta topoloÅ¡kega modela ne moremo razlikovati med enojci in
% podenojci (seveda, razen za prazen podenojec), tako da bomo tem vseeno pravili
% \emph{enojci}. IzkaÅ¾e se, da imajo enojci zelo bogato strukturo, namreÄ z njimi
% bomo lahko tvorili zoÅ¾itve in zlepke elementov tipov, kot smo Å¾eleli v zaÄetni
% motivaciji.

% Seveda pa kot prej, ni nobenega elementa v \(A\), ki bi bil povsod element \(f[*]\).
% Ker pa nam \(f[*]\) vseeno natanko predstavlja ta element, lahko gornjo
% lastnost, torej, \(ğ’ªX\)-podmnoÅ¾ica z najveÄ enim elementom, vzamemo kot nekakÅ¡no
% ``napolnitev'' \(ğ’ªX\)-mnoÅ¾ice \(A\). IzkaÅ¾e se, da nam bo to dovolilo
% neposredno izraziti zoÅ¾itve in zlepke elementov.

\begin{definicija}\label{def:sing}
  \emph{Podenojec} tipa \(A\) je podtip \(Ïƒ âŠ‘ A\), za katerega velja
  \[ âŠ© \for{x,y:A}{x âˆˆ Ïƒ âˆ§ y âˆˆ Ïƒ â‡’ x = y}\text. \]
\end{definicija}
\begin{opomba}
  Za podenojce se ponavadi uporablja grÅ¡ke Ärke \(Ïƒ, Ï, Ï„,â€¦\). V literaturi se
  jim pravi \emph{enojci}~\cite[def.~4.10]{FS79}. Ker smo termin ``enojec'' Å¾e
  defnirali v konstrukciji~\ref{cons:sing}, jim bomo zaenkrat pravili podenojci,
  a je standardna terminologija upraviÄena, kot bomo videli kasneje.
\end{opomba}

% Sedaj smo drugiÄ defninirali besedo enojec, enkrat v
% konstrukciji~\ref{cons:sing} kot konstrukcijo specifiÄnega podtipa, in Å¡e enkrat
% zgoraj kot lastnost podtipov. IzkaÅ¾e se, da to ni dvoumno, saj imajo enojci iz
% konstrukcije~\ref{cons:sing} lastnost iz definicije~\ref{def:sing}, prav tako pa
% kot omenjeno zgoraj, iz notranjega pogleda je vsak podtip z lastnostjo
% definicije~\ref{def:sing} tudi sam enojec (Äim definiramo ustrezne tipe, da
% lahko to zatrdimo). Zato torej tem podtipom pravimo enojci, kljub temu, da bi
% se zares morali imenovati \emph{podenojci}. Ta terminologija je tudi standardna
% v literaturi~\cite{FS79,Borceux94}. PokaÅ¾imo sedaj 

\begin{trditev}\label{th:sing-is-subsing}
  Za vsak \(a âˆˆ A\) je enojec \(\s a\) tudi podenojec.
\end{trditev}
\begin{dokaz}
  ÄŒe imamo \(x\), \(y âˆˆ \s a\), je po defniciji potem \(x = a = y\), torej je
  \(x=y\).
\end{dokaz}

\begin{konstrukcija}\label{cons:compl}
  \emph{Tip enojcev \(A\)} je mnoÅ¾ica podenojcev \(A\) z relacijo
  \[ Ïƒ = Ï„ â‰” \exist{x : A}{x âˆˆ Ïƒ âˆ§ x âˆˆ Ï„}\text. \]
  OznaÄimo ga z \(\g A\).
\end{konstrukcija}
\begin{dokaz}
  Gornje oÄitno definira relacijo, saj je definirana v internem jeziku.
  Poleg tega je oÄitno simetriÄna, tako da si poglejmo le tranzitivnost.
  Naj bo \(Ïƒ = Ï„\) in \(Ï„ = Ï\), torej obstajata \(x\) in \(y\), da velja
  \(x âˆˆ Ïƒ âˆ§ x âˆˆ Ï„\) in \(y âˆˆ Ï„ âˆ§ y âˆˆ Ï\). Ker je \(Ï„\) enojec je \(x = y\),
  torej velja \(x âˆˆ Ïƒ\) in \(x âˆˆ Ï\), kar po definiciji pomeni \(Ïƒ = Ï\).
\end{dokaz}
KljuÄno pri tej definiciji je, da smo podenojce sedaj opremili z razponom, tako
da obstajajo le tam, kjer imajo element. To pomeni, da postanejo enojci, zato
bomo od tu naprej podenojcem pravili enojci v spodnjem smislu.
\begin{lema}\label{lem:singunit}
  Za tip \(A\) veljata naslednji trditvi:
  \begin{enumerate}
  \item \(âŠ© \for{Ïƒ:\g A}{\for{x:A}{\s x = Ïƒ â‡” x âˆˆ Ïƒ}}\)
  \item \(âŠ© \for{x,y:A}{\s x = \s y â‡” x = y}\)
  \end{enumerate}
\end{lema}
\begin{dokaz}
  Fiksirajmo \(Ïƒ : \g A\) in \(x\), \(y:A\).
  \begin{enumerate}
  \item ÄŒe velja \(\s x = Ïƒ\), je potem \(x âˆˆ \s x = Ïƒ\). Obratno, Äe je
    \(x âˆˆ Ïƒ\), obstaja \(x' : A\) (namreÄ \(x\)), da je \(x = x'\) in
    \(x' âˆˆ Ïƒ\), torej je po definiciji \(\s x = Ïƒ\).
  \item Po prvi toÄki je \(\s x = \s y\) natanko \(x âˆˆ \s y\), torej velja \(x = y\).
    \qedhere 
  \end{enumerate}
\end{dokaz}

\begin{trditev}\label{th:subsing-is-sing}
  Za vsak tip \(A\) velja
  \[ âŠ© \for{Ïƒ : \g A}{\exist{x âˆˆ Ïƒ}{âŠ¤}}\text. \]
\end{trditev}
\begin{dokaz}
  ÄŒe razpiÅ¡emo gornje, dobimo \(\e Ïƒ â‰¤ \i{\exist{x : A}{x âˆˆ Ïƒ}}\) ampak \(\e Ïƒ\)
  je natanko \(\exist{x : A}{x âˆˆ Ïƒ âˆ§ x âˆˆ Ïƒ}\), torej je neenakosti zadoÅ¡Äeno.
\end{dokaz}
\begin{posledica}
  Velja \(âŠ© \for{Ïƒ : \g A}{\exist{x : A}{Ïƒ = \s x}}\), torej so v internem jeziku
  vsi elementi \(\g A\) enojci.
\end{posledica}
Tako lahko res argumetiramo rabo besede ``enojec'' za elemente tipa \(\g A\).
NamreÄ, v notranjem jeziku je vsak element tipa \(\g A\) res enak enemu od
enojcev iz konstrukcije~\ref{cons:sing}. Opazimo pa lahko nekaj zanimivega.
Prazen podtip \(âˆ… = \set{x:A}{âŠ¥}\) je enojec. Res, oÄitno sta vsaka dva njegova
elementa enaka, tako da je podenojec. To pomeni, da je element \(\g A\), kar
pomeni, da ima nek element, vsaj v internem jeziku. To ni problematiÄno, saj je
\emph{razpon} tega enojca v \(\g A\) enak prazni mnoÅ¾ici, in nad prazno mnoÅ¾ico
res veljajo tudi napaÄne stvari, kot so "obstaja element prazne mnoÅ¾ice".
Pravilna interpretacija tega dejstva je potem, da v internem jeziku prazen
enojec ne obstaja, saj velja \(X âŠ© Â¬â€–âˆ…â€–\).

V trditvi~\ref{th:valid-local} smo videli, da se veljavnost znotraj lahko oÅ¾a in
lepi. ÄŒe to uporabimo na tipu \(A\) iz primera~\ref{ex:one-to-one}, lahko
opazimo, da velja \(\{i\} âŠ© \exist{x:A}{âŠ¤}\). Sedaj lahko to veljavnost po
trditvi~\ref{th:valid-glue} zlepimo v \(X âŠ© \exist{x:A}{âŠ¤}\). Seveda noben
element \(A\) ne obstaja na celem \(X\), izkaÅ¾e pa se, da obstaja ustrezen
\emph{enojec}, ki bo imel razpon \(X\). Ampak, da lahko govorimo o lepljenju,
moramo najprej skonstruirati zoÅ¾itve.

\begin{konstrukcija}\label{cons:res}
  Naj bo \(a âˆˆ A\) in \(U âˆˆ ğ’ªX\). Potem obstaja natanko en enojec
  \(a{\res U} âŠ‘ A\), za katerega velja
  \(\e a âŠ© \for{x:A}{x âˆˆ a{\res U} â‡” x=aâˆ§U}\) in \(\e{a{\res U}} = \e aâˆ§U\).
\end{konstrukcija}
\begin{dokaz}
  Definirajmo \(a{\res U} â‰” \set{x:A}{x=aâˆ§U}\). To je podenojec, saj Äe sta
  \(x\) in \(y\) njegova elementa, sta oba enaka \(a\), torej sta enaka. Po
  definiciji je to enoliÄen tak podtip, za katerega velja
  \(\e a âŠ© \for{x:A}{x âˆˆ a{\res U} â‡” x=aâˆ§U}\).
  Velja tudi \(\e{a{\res U}} = \exist{x:A}{x=aâˆ§U} = \e aâˆ§U\).
\end{dokaz}

\begin{konstrukcija}
  Naj bo \(I\) mnoÅ¾ica in \(a : I â†’ A\) druÅ¾ina elementov, za katero za vse
  \(i\), \(j âˆˆ I\) velja \(\e{aáµ¢}âˆ©\e{aâ±¼} âŠ© aáµ¢ = aâ±¼\). Potem obstaja natanko en
  enojec \(âˆ¨a\), za katerega za vsak \(i âˆˆ I\) velja
  \(\e{aáµ¢} âŠ© âˆ¨a{\res{\e{aáµ¢}}} = \s{aáµ¢}\) in je \(\e{âˆ¨a} = â‹ƒáµ¢\e{aáµ¢}\). 
\end{konstrukcija}
\begin{dokaz}
  Definirajmo \(âˆ¨a â‰” \set{x:A}{\exist{i:\c I}{x=aáµ¢}}\). To je enojec, saj Äe sta
  \(x\) in \(y âˆˆ â‹a\), za neka \(i\) in \(j\) velja \(x = aáµ¢\) in \(y = aâ±¼\).
  Iz prve enakosti dobimo, da velja \(\e{aáµ¢}\), iz druge pa, da velja \(\e{aâ±¼}\),
  saj je enakost relacija. Po predpostavki iz \(\e{aáµ¢}âˆ©\e{aâ±¼}\) sledi \(aáµ¢ = aâ±¼\),
  torej sta si \(x\) in \(y\) enaka.

  Po definiciji je \(aáµ¢ âˆˆ âˆ¨a{\res{\e{aáµ¢}}}\), saj je \(aáµ¢=aáµ¢\). Prav tako je
  razpon \(âˆ¨a\) enak uniji razponov elementov druÅ¾ine, saj na vsakem od njih
  obstaja element \(âˆ¨a\).

  ÄŒe je \(Ïƒ\) nek drug enojec, za katerega veljajo gornje enakosti, je na vsakem
  \(\e{aáµ¢}\) enak \(âˆ¨a\), torej mu je enak tudi na celotnem razponu.
\end{dokaz}

Enojci nam torej dajo naÄin, kako razÅ¡iriti tip z vsemi zoÅ¾itvami in zlepki
njenih elementov. Z drugimi besedami, tipe \emph{napolnimo} z zoÅ¾itvami in
zlepki. Sedaj je vpraÅ¡anje, kdaj se ta proces stabilizira.

\begin{definicija}\label{def:compl}
  Tip \(A\) je \emph{poln}, ko je funkcija \(\s - : A â†’ \g A\) med mnoÅ¾icama
  elementov tipov bijekcija. Polno podkategorijo polnih tipov oznaÄimo s
  \(\cat{CSet}(ğ’ªX)\).
\end{definicija}

Do sedaj smo delali z navadnimi tipi, ampak polni tipi imajo veliko Å¾elenih
lastonsti. A to pomeni, da moramo zaÄeti znova s polnimi tipi? NamreÄ, do sedaj
smo imeli zgolj en primer polnega tipa, v primeru~\ref{ex:reals}. IzkaÅ¾e se, da
ni tako.

% âŸ¨-âŸ© definira idempotentno monado. To mi avtomatsko da naslednjih par
% rezultatov (specifiÄno do izreka da so polne ğ’ªX-mnoÅ¾ice refleksivna
% podkategorija).
\begin{lema}\label{th:compl-is-compl}
  Tip \(\g A\) je poln.
\end{lema}
\begin{dokaz}
  Pokazati moramo, da je preslikava \(Ïƒ â†¦ \s Ïƒ\) bijekcija.
  Injektivnost sledi neposredno iz druge toÄke gornje leme, tako da pokaÅ¾imo
  zgolj surjektivnost.
  % to je inverz enote (in je mnoÅ¾enje).
  Naj bo \(Î£ âˆˆ \g{\g A}\) in definirajmo \(Ï„ â‰” \set{x : A}{\s x âˆˆ Î£}\).
  To je enojec, saj velja
  \[
    xâˆˆÏ„ âˆ§ yâˆˆÏ„ â‡” \s x âˆˆ Î£ âˆ§ \s y âˆˆ Î£ â‡’ \s x = \s y â‡” x = y\text.
  \]

  PokaÅ¾imo Å¡e, da je \(Î£ = \s Ï„\), torej \(Ï„ âˆˆ Î£\). To zadoÅ¡Äa pokazati v
  internem jeziku, saj je \(Ï„ âˆˆ Î£\) natanko tedaj, ko velja \(\e Ï„ âŠ© Ï„ âˆˆ Î£\).

  Ker je \(Ï„\) enojec obstaja nek \(a : A\), da je \(a âˆˆ Ï„\), torej je
  \(\s a âˆˆ Î£\). Poleg tega iz \(a âˆˆ Ï„\) sledi \(Ï„ = \s a\), torej je
  \(Ï„ âˆˆ Î£\).
  
  Sledi, da za vsak enojec v \(\g{\g A}\) obstaja natanko en enojec v \(\g A\),
  ki se vanj slika, tako da je preslikava \(\s -\) res bijekcija, in je \(\g A\)
  polna.
\end{dokaz}
\begin{opomba}
  Ta lema nam torej pove, da lahko \(\g A\) pravimo \emph{napolnitev} tipa \(A\).
\end{opomba}

Sedaj lahko vsakemu tipu priredimo poln tip. Å e veÄ, ta tip je izpeljana iz tipa
\(A\), torej lahko vse trditve o \(\g A\) izrazimo z \(A\) (specifiÄno, z enojci
\(A\)). Se pa izkaÅ¾e, da to ni potrebno, saj lahko trditve o \(\g A\) bolj
neposredno primerjamo s trditvami o \(A\).

\begin{izrek}\label{th:sigmaiso}
  Tip \(\g A\) je izomorfen \(A\).
\end{izrek}
\begin{dokaz}
  % {-} je enota monade Ïƒ, Äe je Î¸ njen inverz, kaj je njena povezava z
  % mnoÅ¾enjem? Plus lahko spustimo pol dokazov, da je {-} morfizem.
  Vemo Å¾e, da se \(A\) vloÅ¾i v \(\g A\) z morfizmom \(a â†¦ \s a\).
  Njegov inverz je \({Î¸(Ïƒ,a) â‰” \i{a âˆˆ Ïƒ}}\).
  OÄitno velja \(Î¸(\s a, a)\). Oglejmo si potem drugi kompozitum. Da bo
  enak identiteti, mora za vsak \(Ïƒ : \g A\) obstajati \(a : A\), da je
  \(Î¸(Ïƒ,a)\) in \(Ïƒ=\s a\). Ta dva pogoja sta ekvivalentna \(a âˆˆ Ïƒ\), kar velja
  po definiciji razpona enojcev. Torej sta si morfizma inverzna, in velja
  \(\g A â‰… A\).
\end{dokaz}
\begin{posledica}\label{th:set-eq-cset}
  Kategorija tipov je ekvivalentna kategoriji polnih tipov.
\end{posledica}

Ekvivalenca nam omogoÄa, da izrek o tipih pretvorimo v izrek o polnih tipih, ga
dokaÅ¾emo pod predpostavko polnosti, nato pa ga prenesemo nazaj na prvotni tip.
Povejmo bolj natanÄno, kako se to naredi.

Najprej, lahko vse relacije na \(A\) razÅ¡irimo do relacij na \(\g A\). Tako bomo
lahko formule v internem jeziku s prosto spremenljivko tipa \(A\) razÅ¡irili do
formule s prosto spremenljivko tipa \(\g A\).
\begin{konstrukcija}
  Naj bo \(R\) relacija na \(A\). Potem je
  \[ {\hat R(Ïƒ) â‰” \exist{x : A}{x âˆˆ Ïƒâˆ§R(x)}} \]
  edina relacija na \(\g A\), za katero za vse \(a âˆˆ A\) velja
  \(R(a) â‡” \hat R(\s a)\).
\end{konstrukcija}
\begin{dokaz}
  Naj bo \(a âˆˆ A\). OÄitno velja \(\hat R(\s a) â‡” R(a)\), saj za \(x\) vzamemo
  kar \(a\). Naj bo \(Q\) neka druga relacija, in naj velja \(R(a) â‡” Q(\s a)\).

  Naj bo \(Ïƒ : \g A\). Potem je enak nekemu \(\s a\), tako da preverimo zgolj,
  Äe je \(\hat R(\s a) â‡” Q(\s a)\). Ampak ta sta po predpostavki oba \(R(a)\),
  torej sta enaka.
\end{dokaz}

\begin{izrek}\label{th:valid-compl}
  Formula \(Ï†\) je veljavna natanko tedaj, ko je veljavna formula, v kateri
  vse relacije \(R\) zamenjamo z \(\hat R\), vse domene kvantifikacije \(A\)
  zamenjamo z njihovimi napolnitvami \(\g A\), in vse konstante \(a\) zamenjamo
  z \(\s a\).
\end{izrek}
\begin{dokaz}
  Dokaz poteka po indukciji. Naredimo primer za univerzalni kvantifikator.
  Formula \(\for{x:A}{Ï†(x)}\) velja natanko tedaj, ko za vsak \(a âˆˆ A\) velja
  \(\e a â‡’ Ï†(a)\). Po drugi strani je formula \(\for{Ïƒ:\g A}{Ï†(Ïƒ)}\) veljavna
  natanko tedaj, ko za vsak enojec \(Ïƒ : A â†’ ğ’ªX\) velja
  \(\exist{x:A}{x âˆˆ Ïƒ} â‡’ Ï†(Ïƒ)\). OÄitno sta za enojce \(\s a\) ta dva pogoja
  enaka, torej veljavnost formule za \(\g A\) implicira tisto za \(A\).

  Obratno, naj bo \(Ïƒ : A â†’ ğ’ªX\) poljuben enojec, in naj velja formula za \(A\).
  V internem jeziku je potem \(Ïƒ = \s a\) za nek \(a\), torej je
  \(Ï†(Ïƒ) â‡” Ï†(\s a)\), ki drÅ¾i po predpostavki.
\end{dokaz}

Ker je relacija \(\hat R\) edina, ki \(R\) razÅ¡iri iz \(A\) na \(\g A\), jo
smemo oznaÄiti kar z \(R\). Prav tako, ker je \(\s -\) vloÅ¾itev \(A\) v
\(\g A\), lahko terme tipa \(A\) obravnavamo kar kot terme tipa
\(\g A\). Izraz \(a âˆˆ Ï„\) bi morali spremeniti v \(\s a âˆˆ \s Ï„\), a lahko piÅ¡emo
kar \(a = Ï„\), saj \(a\) obravnavamo kot term tipa \(\g A\), tip \(\g{\g A}\) je
pa izomorfen \(\g A\), tako da lahko terme, ki bi pristali v \(\g{\g A}\) po
izomorfizmu prenesemo v \(\g A\).

% Oglejmo si najprej, kaj to pomeni na primeru.
% \begin{retrditev}{th:subsing-is-sing}
%   Za vsak \(A\) velja \(âŠ© \for{Ïƒ : \g A}{\exist{x : A}{x âˆˆ Ïƒ}}\).
% \end{retrditev}
% \begin{dokaz}
%   PokaÅ¾imo to trditev ponovno, tokrat z uporabo izreka~\ref{th:valid-compl}.

%   Po gornjem izreku formula velja natanko tedaj, ko velja
%   \[ \for{Ïƒ:\g A}{\exist{x:\g A}{x = Ïƒ}}\text. \]
%   To je pa oÄitno res, saj za \(x\) vzamemo kar \(Ïƒ\).
% \end{dokaz}

To se torej izkaÅ¾e za zelo koristno, saj pomeni, da lahko v interni logiki
uporabljamo vse lastnosti polnih tipov, ampak ko prevajamo formule v
zunanji svet pa lahko vseeno delamo le z zaÄetnim naborom elementov.
To pomeni, da lahko na enojce tipa \(A\) gledamo kar kot na \emph{terme} tipa
\(A\). Pri tem moramo paziti, da so ti termi dobri le za dokazovanje obstoja v
internem jeziku. Gornji izrek nam namreÄ zagotavlja, da taka zamenjava ohranja
\emph{veljavnost} formul. NajpomembnejÅ¡a posledica pa je, da Äe je \(f\)
morfizem, lahko na \(f[a]\) gledamo kot term tipa \(B\). Tako ga bomo pisali kar
\(f(a)\), kot bi priÄakovali za element \(B\), ki je slika \(a\) z morfizmom
\(f\).

\begin{trditev}\label{th:â„’mor-into-compl-is-map}
  Naj bo \(f : A â†¬ B \) in \(B\) poln tip. Tedaj obstaja natanko ena operacija
  \(Ï† : A â† B\), za katero velja \(\i{Ï†(a) = b} = f(a,b)\). 
\end{trditev}
\begin{dokaz}
  Za vsak \(a âˆˆ A\) je \(f[a]\) enojec, torej po polnosti \(B\) natanko
  doloÄa en element \(B\), ki ga oznaÄimo \(Ï†(a)\). To definira preslikavo
  \(Ï† : A â†’ B\). Ta je stroga, saj velja
  \(\e{Ï†(a)} = \exist{b:B}{b âˆˆ f[a]} = \e a\) in
  \(\i{a = a'} âŠ† \i{f(a) = f(a')} = \i{Ï†(a) = Ï†(a')}\).

  Po definiciji preslikave \(Ï†\) je \(Ï†(a) = b\) natanko tedaj, ko je
  \(b âˆˆ f(a)\), torej, ko velja \(f(a,b)\), tako da \(Ï†\) zadoÅ¡Äa gornjemu
  pogoju.

  Naj bo \(Ïˆ : A â† B\) neka druga operacija, ki prav tako zadoÅ¡Äa gornjemu
  pogoju. Potem za vsak \(a âˆˆ A\) velja \(Ïˆ(a) = Ï†(a)\) natanko tedaj, ko velja
  \(f(a,Ï†(a))\). 
\end{dokaz}
\begin{posledica}\label{th:set-eq-cset-with-maps}
  Kategorija polnih tipov je ekvivalentna kategoriji, katere
  \catdef
    {so polni tipi in}
    {so operacije}
\end{posledica}

To je teoretiÄno zelo lepa struktura, a se izkaÅ¾e, da je raÄunsko neprijetna.
NamreÄ napolnitev tipa \(\c â„•\) je \(ğ’©\)~\cite{FH79}. Å½e dokaz dejstva, da je to
res, je dokaj neprijeten. Sloni na tem, da je vsaka lokalno konstantna
preslikava zlepek zoÅ¾itev konstantnih preslikav. Torej, ker so elementi
napolnitve ravno zlepki in zoÅ¾itve, se \(ğ’©\) vloÅ¾i v \(\g{\c â„•}\). Obratno je
vsak enojec v internem jeziku \emph{lokalno} enak nekemu naravnemu Å¡tevilu. To
potem definira lokalno konstantno funkcijo v \(â„•\). Sedaj moramo pokazati Å¡e, da
sta ti preslikavi operaciji, in da sta si inverzni. Poleg tega obstaja veliko
konstrukcij tipov, ki postanejo bolj komplicirane, ko jih napolnimo. Te bomo
videli v naslednjem podrazdelku.


\subsubsection{Lastnosti morfizmov}

Za konec lahko izraÄunamo nekaj koristnih lastnosti morfizmov. Zgoraj smo Å¾e
povedali, da lahko pod doloÄenimi pogoji vrednosti funkcij obravnavamo kot terme
tipa kodomene. Videli smo Å¾e, da lahko piÅ¡emo \(f(a) = b\) namesto \(f(a,b)\),
ampak nam to omogoÄa tudi druge koristne okrajÅ¡ave.

\begin{lema}
  Morfizma \(f\) in \(g : A â†¬ B\) sta enaka natanko tedaj, ko velja 
  \[ âŠ© \for{x : A}{f(x) = g(x)}\text. \]
\end{lema}
\begin{dokaz}
  ÄŒe sta \(f\) in \(g\) enaka potem formula oÄitno velja.
  
  PokaÅ¾emo sedaj drugo smer previdno, brez posebne rabe notranje polnosti \(B\).

  Predpostavimo torej, da velja gornja formula, in da velja \(f(a,b)\) za neka
  \(a\) in \(b\). Potem po predpostavki vemo, da velja \(f(a) = g(a)\). ÄŒe to
  enakost razpiÅ¡emo, dobimo, da obstaja \(b' âˆˆ B\), tako da veljata \(f(a,b')\)
  in \(g(a,b')\). Potem zaradi enoliÄnosti \(f\) dobimo \(b = b'\), torej velja
  tudi \(g(a,b)\). Ker je vloga \(f\) in \(g\) simetriÄna, ter sta \(a\) in
  \(b\) poljubna, velja \(f(a,b)\) natanko tedaj, ko velja \(g(a,b)\), torej sta
  \(f\) in \(g\) enaka.
\end{dokaz}

Gornji lemi se ponavadi pravi \emph{funkcionalna ekstenzionalnost}, saj pravi da
sta si funkciji enaki natanko tedaj, ko sta enaki na vseh vrednostih. IzkaÅ¾e se
tudi, da je to primerna relacija za definicijo \emph{tipa} morfizmov iz \(A\) v
\(B\).

\begin{konstrukcija}\label{cons:exponent}
  \emph{Eksponentni tip} \(A â†¬ B\) je mnoÅ¾ica morfizmov \(A â†¬ B\) z
  enakostjo \(f=g â‡” \for{x:A}{f(x)=g(x)}\).
\end{konstrukcija}
\begin{dokaz}
  To je tip, saj je relacija oÄitno simetriÄna in tranzitivna.
  Pokazati je torej treba le, da obstaja morfizem \(\ev : (Aâ†¬B)Ã—A â†¬ B\), za
  katerega velja, da za vsak \(e : CÃ—A â†¬ B\) obstaja enoliÄna preslikava
  \(u : C â†¬ A â†¬ B\), da je \(e = \evâˆ˜(uÃ—\id)\). ÄŒe to enakost zapiÅ¡emo na
  elementih dobimo, da mora veljati
  \[ e(c,a) = \evâˆ˜(uÃ—\id)(c,a) = \ev(u(c),a) = u(c)(a)\text. \]
  To nam enoliÄno doloÄa preslikavo \(u\) in je dokaz konÄan.
\end{dokaz}
Standardna oznaka za eksponentni tip je \(B^A\), a tu raje uporabimo
\({A â†¬ B}\), da ne bomo meÅ¡ali eksponentnega tipa z mnoÅ¾ico preskikav iz \(A\) v
\(B\). 

\begin{trditev}\label{th:Î©-is-subobj-class}
  Tip \(Î©\) je \emph{klasifikator podobojektov}.
  % mnoÅ¾ica \(ğ’ªX\) skupaj z enakostjo \(â‡”\) in ga oznaÄimo \(Î©\).
\end{trditev}
\begin{dokaz}
  V trditvah~\ref{th:â„’sub-is-map-to-Î©} in~\ref{th:â„’sub-is-sub} smo Å¾e pokazali,
  da lahko vsakemu monomorfizmu \({m : S â†¬ A}\) priredimo enoliÄen morfizem
  \(Ï‡_S : A â†¬ Î©\), da je \(S â‰… Ï‡_Sâ»Â¹(âŠ¤)\), torej je \(Î©\) res klasifikator
  podobjektov.
\end{dokaz}

Kot ponavadi definiramo potenÄni tip \(ğ’«A\) kot eksponent \(A â†¬ Î©\), a kot
smo povedali Å¾e v trditvi~\ref{th:â„’sub-is-map-to-Î©}, so to natanko podtipi.

\begin{konstrukcija}\label{cons:subobjs}
  \emph{Tip podtipov \(A\)} oziroma \emph{potenÄni tip \(A\)} je eksponentni
  tip \(A â†¬ Î©\). Ta je enak tipu na mnoÅ¾ici podtipov \(A\), z isto enakostjo kot
  na ekponentnem tipu. OznaÄimo ga z \(ğ’«{A}\).
\end{konstrukcija}
% \begin{dokaz}
%   V~\ref{th:â„’sub-is-map-to-Î©} smo pokazali, da sta mnoÅ¾ici izomorfni. Poleg
%   tega, je \(S =_{A â†¬ Î©} T\) natanko tedaj, ko \(\for{x:A}{x âˆˆ S â‡” x âˆˆ T}\),
%   torej ko je \(S(a) = T(a)\) za vse \(a âˆˆ A\). To pa natanko pomeni, da sta
%   \(S\) in \(T\) enaka kot preslikavi, torej enaka v konstantem tipu.
% \end{dokaz}

Sedaj, ko imamo dostop do vrednosti morfizmov, pa lahko karakteriziramo
epimorfizme in monomorfizme. V obiÄajni teoriji mnoÅ¾ic so te natanko surjekcije
in injekcije, kar se izkaÅ¾e za resniÄno tudi za morfizme med tipi.

Najprej pa konstruirajmo Å¡e nekaj konstrukcij tipov, saj jih potrebujemo
v dokazu.
\begin{konstrukcija}
  Za tipa \(A\) in \(B\) je mnoÅ¾ica \(A+B\) z enakostjo generirano z relacijami
  \(Î¹â‚€(x) = Î¹â‚€(x') â‡” x=x'\) in \(Î¹â‚(y) = Î¹â‚(y') â‡” y=y'\), kjer sta \(x\) in
  \(x'\) prosti spremenljivki tipa \(A\), \(y\) in \(y'\) pa tipa \(B\).
  OznaÄimo ga kar z \(A+B\). Poleg tega sta kanoniÄni vloÅ¾itvi \(Î¹áµ¢\) operaciji.
\end{konstrukcija}
\begin{dokaz}
  Pokazati je treba, da sta vloÅ¾itvi strogi in ekstenzionalni.
  Brez Å¡kode za sploÅ¡nost lahko to pokaÅ¾emo zgolj za \(Î¹ : A â†’ A+B\).
  Pri obeh lastnostih, ki jih moramo preveriti, je enakost na \(A+B\) vedno med
  elementi prve komponente, tako da se \(Î¹(a) = Î¹(a')\) vedno prevede kar na
  \(a = a'\). Potem je \(Î¹\) oÄitno stroga in ekstenzionalna.
\end{dokaz}
\begin{konstrukcija}
  \emph{Kojedro} morfizma \(f : A â†¬ B\) je zlepek tipov \(B\) in \(B\) po
  podmnoÅ¾ici \(f[A]\). OznaÄimo ga \(\coker(f)\).
\end{konstrukcija}
\begin{dokaz}
  Kot v Uvodu v geometrijsko topologijo ta zlepek konstruiramo kot kvocient
  tipa \(B+B\) po relaciji generirani z \(Î¹â‚(b) \sim Î¹â‚‚(b) â‡” b âˆˆ f[A]\).
\end{dokaz}

\begin{definicija}
  Morfizem \(f : A â†¬ B\) je \emph{surjektiven}, ko velja
  \[ âŠ© \for{y : B}{y âˆˆ f[A]}\text, \]
  in \emph{injektiven}, ko velja
  \[ âŠ© \for{x,y:A}{f(x) = f(y) â‡’ x = y}\text. \]
\end{definicija}
\begin{trditev}
  Surjekcije so natanko epimorfizmi v \(\cat{Set}{\p{ğ’ªX}}\).
\end{trditev}
\begin{dokaz}
  Naj bo \(f : A â†¬ B\).

  Denimo, da je \(f\) surjektiven, \(g\) in \(h : B â†¬ C\), in \(g âˆ˜ f = h âˆ˜ f\).
  Naj bo \(b : B\) in dokaÅ¾imo \(g(b) = h(b)\).
  Po surjektivnosti obstaja \(a : A\), da je \(b = f(a)\), torej sledi
  \(g(b) = g(f(a)) = h(f(a)) = h(b)\).

  Po drugi strani predpostavimo, da je \(f\) epimorfizem.
  Poglejmo si potem vloÅ¾itvi v kojedro \(Î¹â‚,Î¹â‚‚ : B â†¬ \coker(f)\).
  Te \(f\) po konstrukciji oÄitno izenaÄi, saj je \(\coker(f)\) ravno zlepek
  kopij \(B\) po sliki \(f\). Torej sta po predpostavki enaki, saj je \(f\)
  epimorfizem. Tedaj za vsak \(b : B\) velja, da je \(Î¹â‚(b) = Î¹â‚‚(b)\), torej
  da je \(b âˆˆ f[A]\).
\end{dokaz}

\begin{trditev}
  Injekcije so natanko monomorfizmi v \(\cat{Set}{\p{ğ’ªX}}\).
\end{trditev}
\begin{dokaz}
  Naj bo \(f : B â†¬ C\).

  Denimo, da je \(f\) injektiven, \(g\) in \(h : A â†¬ B\), in \(f âˆ˜ g = f âˆ˜ h\).
  Naj bo \(a : A\) in dokaÅ¾imo \(g(a) = h(a)\).
  Vemo, da je \(f(g(a)) = f(h(a))\). Po injektivnosti to potem pomeni, da velja
  \(g(a) = h(a)\), kar smo tudi Å¾eleli.

  Obratno, naj bo \(f\) monomorfizem in \(a\), \(a' : A\).
  Denimo, da velja \(f(a) = f(a')\) in naj bosta \(g, h : \bb1 â†¬ A\) definirana
  s predpisoma \(g(*) â‰” a\) ter \(h(*) â‰” a'\), torej velja
  \(f(g(*)) = f(a) = f(a') = f(h(*))\) in je \(fâˆ˜g = fâˆ˜h\). Od tod
  sledi, da je \(g = h\), torej velja \(a = g(*) = h(*) = a'\).
\end{dokaz}

Sedaj se pa Å¾elimo vpraÅ¡ati, kaj so bijekcije tipov. V teoriji mnoÅ¾ic vemo, da
so to ravno izomorfizmi, in res to velja tudi pri nas. Za morfizem \(f : A â†¬ B\)
lahko definiramo dual \(fáµ’ : BÃ—A â†’ ğ’ªX\) s predpisom \(fáµ’(b,a) â‰” f(a,b)\).
Kompozituma z dualom sta identiteti, tako da je zares treba pokazati, da je \(fáµ’\)
morfizem.

\begin{trditev}
  Za \(f : A â†¬ B\) je \(fáµ’\) morfizem natanko tedaj, ko je \(f\) bijektiven.
  V tem primeru potem velja \(fâˆ˜fáµ’ = \id = fáµ’âˆ˜f\), torej je \(fáµ’\) inverz \(f\).
\end{trditev}
\begin{dokaz}
  Opazimo da je \(fáµ’\) res celovita natanko tedaj, ko je \(f\) surjektivna, in
  da je enoliÄna natanko tedaj, ko je \(f\) injektivna.
  PokaÅ¾imo sedaj le eno neenakost, saj je druga simetriÄna.

  Naj bo \(a = fáµ’(f(a'))\), torej \(f(a)=f(a')\). Ker je \(f\) bijektivna, je
  \(a = a'\), in velja \(\id = fáµ’âˆ˜f\).
\end{dokaz}

Karakterizirajmo Å¡e razred eksponentov s konstantnim tipom \(\c A â†¬ B\). Ti
predstavljajo ``\(A\)-mnoge produkte tipa \(B\)'' in se izkaÅ¾e, da imajo nad
lokalno povezanimi prostori posebej lepo karakterizacijo.
\begin{trditev}\label{th:lpov-exponentiable}
  ÄŒe je \(X\) lokalno povezan in \(A\) mnoÅ¾ica, velja
  \(âŠ© \c A â†¬ B â‰… \c{A â† B}\).
\end{trditev}
\begin{dokaz}
  Naj bodo \(f : \c A â†¬ B\), \(g : \c{A â† B}\), in \(a : \c A\).
  Najprej, obstja pokritje \(C\), tako da sta na njem \(g\) in \(a\) konstantna.
  Zaradi lokalne povezanosti, lahko predpostavimo, da je \(C\) zares particija.
  Potem lahko \(f(a) = g(a)\) definiramo na \(U âˆˆ C\) preprosto kot
  \(f(a,g(a))\), saj na vsakem elementu \(C\) velja \(g(a) âˆˆ B\).

  Definirajmo morfizem \(Ï†(f,g) â‰” \for{x:\c A}{f(x) = g(x)}\).
  ÄŒe velja \(Ï†(f) = Ï†(f')\), za vse \(x : \c A\) velja \(f(x) = f'(x)\), torej
  je \(Ï†\) injektivna.
  Za surjektivnost naj bo \(g : \c{A â† B}\) in definirajmo
  \(f(a, b) â‰” â‹ƒ\set{U âˆˆ C}{U âŠ© g(a) = b}\).
  Za tega velja \(f(x) = g(x)\), torej velja \(Ï†(f,g)\).
  Sledi, da je \(Ï†\) izomorfizem med \(\c A â†¬ \c B\) in \(\c{A â† B}\).
\end{dokaz}
\begin{opomba}
  ÄŒe je tip \(B\) konstanten, je mnoÅ¾ica operacij natanko mnoÅ¾ica navadnih
  preslikav, tako da izrek v tem primeru pravi \(âŠ© \c A â†¬ \c B â‰… \c{B^A}\).
\end{opomba}

% \begin{trditev}
%   Objekt \(\c{B^A}\) je znotraj enak topoloÅ¡kemu prostoru \(B^A\) s kompaktno
%   odprto topologijo.
% \end{trditev}
% \begin{dokaz}
%   Naj bo \(Ïƒ\) enojec tipa \(\c{B^A}\). Potem slika elemente mnoÅ¾ice \(B^A\) v
%   elemente \(ğ’ªX\). ÄŒe je \(t âˆˆ \e Ïƒ\), je \(\set{f : A â†’ B}{t âŠ© f âˆˆ Ïƒ}\)
%   podmnoÅ¾ica \(B^A\).
% \end{dokaz}


%%% Local Variables:
%%% TeX-master: "main"
%%% End:
