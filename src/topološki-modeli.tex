\section{Topološki modeli}

Teorija modelov morda zveni kot zelo abstraktna in filozofska zadeva (govora je
o matematičnih svetovih), vendar je pa ideja sama blizu vsakemu matematiku, ki
je dokončal drugi letnik dodiplomskega študija.
Situacija je namreč zelo podobna teoriji grup. Struktura grupe je skupek
aksiomov (tako kot jih ima konstruktivna logika ali pa teorija množic), medtem
ko so pa grupe same natanko \emph{modeli} teh aksiomov, in na model logike
mislimo na isti način.

Seveda pa grupe niso edina struktura, za katero lahko izvedemo to analogijo.
Lahko tudi gledamo modele monoidne, kolobarske, vektorske,~itd.~strukture, prav
tako pa lahko gledamo modele topološke strukture ali pa modele izračunljivostne
strukture (recimo turingove stroje).

V logiki in teoriji množic, se pogosto sprašujemo, ali so kakšne trditve
\emph{neodvisne} od aksiomov našega sistema. Na primer aksiom izbire je
neodvisen od preostalih aksiomov teorije množic, hipoteza kontinuuma je
neodvisna od teorije množic z izbiro,~itd. Neodvisnost je mogoče malce
nedostopen pojem, še posebej za matematike, ki verjamejo v absolutno resnico.
Namreč, kako lahko trditev ni niti resnična niti neresnična? Ampak bistvo je v
tem, da trditev ima resničnostno vrednost \emph{v vseh modelih}, vendar če je ta
resničnostna vrednost različna v različnih modelih, je trditvi ne moremo
dodeliti, tako da bo bilo to res v vseh modelih! Ključno je namreč, da noben
model logike ni \emph{odlikovan}, torej nimamo \quot{standardnega modela}.

To se vse sliši nekoliko komplicirano, a nam je zares že intimno znano. V
teoriji grup namreč vemo za \quot{komutativnost}, za katero vemo, da se je ne da
dokazati iz aksiomov grupe, prav tako pa ne velja njena negacija. To pa vemo
natanko zato, ker obstajajo in komutativne in nekomutativne grupe (oziroma
modeli aksiomov grup). V teoriji grup prav tako nimamo \quot{standardne grupe},
za katero velja natanko vse kar velja za vse grupe.

V logiki takim stvarem pravimo \quot{neodvisne trditve}, v teoriji
izračunljivosti tem pravimo \quot{neizračunljive funkcije}, v algebri in
topologiji pa \quot{lastnosti algebraične strukture oz.~topološkega prostora}.

Skratka, prehod med aksiomatskim sistemom in modeli nam je kot matematikom znan,
v algebri smo bili z njim vzgojeni že od malega, a v logiki te sreče žal nismo
imeli. Tako se moramo na stara leta pruičiti teh metod, ki so pa logikom brez
dvoma enako pomembne kot so grupe algebrajikom, ali pa prostori topologom.

Kot smo pa omenili v uvodu, pa obstajajo modeli logike, ki so zgrajeni iz
topoloških prostorov. Tem pravimo topološki modeli, in vse logične trditve v tem
modelu se prevedejo v topološke trditve o topološkem prostoru. Sledi naravno
vprašanje, ali lahko vzpostavimo nekak slovar med neodvisnimi trditvami
(t.~j.~klasičnimi principi v konstruktivni logiki) in topološkimi lastnostmi, ki
so nam znane.

Do tega se vrnemo kasneje, v naslednjem razdelku, za zdaj nas pa čaka malo
teorije snopov, da lahko topološke modele sploh definiramo.

\subsection{Snopi}



%Naj \(X\), \(Y\), … označujejo okoliše, \(U\), \(V\), … pa njihove odprte podmnožice.


\begin{definicija}
  \emph{Predsnop nad okolišem \(X\)} je funktor \(F : \op{\O{\p{X}}} → \setcat\).
  Elementom množic \(F(U)\) pravimo \emph{prerezi (pri U)}.
\end{definicija}

\begin{opomba}
  Predsnope lahko definiramo tudi nad poljubno kategorijo \(\cat C\).
  V tem primeru pišemo \(\psh{\cat C} ≔ \op{\cat C} → \setcat\), za predsnope nad okolišem
  \(X\) pa raje spustimo \(\mc{O}\) in pišemo kar \(\psh{X}\).
\end{opomba}

Preden lahko definiramo snope, moramo nekaj povedati o družinah prerezov.

\begin{definicija}
  Prereza \(s ∈ F(U)\) in \(t ∈ F(V)\) sta \emph{skladna}, ko velja \(s\res{V} = t\res{U}\).
  Družina prerezov \(sᵢ ∈ F(Uᵢ)\) je \emph{skladna}, ko so njeni elementi paroma
  skladni. Prerez je \emph{skladen} z družino, ko je paroma skladen z vsemi
  njenimi elementi.
\end{definicija}

\begin{definicija}
  \emph{Snop nad okolišem} je predsnop, za katerega velja:
  \begin{enumerate}
  \item Za vsako skladno družino prerezov \(sᵢ ∈ F(Uᵢ)\) obstaja enoličen prerez
    \({s ∈ F\p{⋃ᵢUᵢ}}\), ki je skladen z družino.
  \item Za vsako pokritje \(Uᵢ \circlearrowright U\) in skladno družino prerezov \(sᵢ ∈ F(Uᵢ)\) obstaja enoličen prerez
    \(s ∈ F(U)\), ki je skladen z družino.
  \item Za vsako skladno družino prerezov \(sᵢ\) na \(Uᵢ\) obstaja enoličen prerez
    \(s\) na \(⋃ᵢUᵢ\), ki je skladen z družino.
  % \item Za vsako skladno družino prerezov \(sᵢ : Uᵢ\) obstaja enoličen prerez
  %   \(s : ⋃ᵢUᵢ\), ki je skladen z družino.
  \item Za vsako skladno družino prerezov \(Uᵢ ⊩ sᵢ\) obstaja enoličen prerez
    \({⋃ᵢUᵢ ⊩ s}\), ki je skladen z družino.
  \item Za vsako skladno družino prerezov \(Uᵢ ⊩ sᵢ ∈ F\) obstaja enoličen prerez
    \({⋃ᵢUᵢ ⊩ s ∈ F}\), ki je skladen z družino.
  % \item Za vsak par prerezov \(s, t ∈ F(U)\), je \(s = t\) natanko tedaj, ko za
  %   pokritje \(Uᵢ \circlearrowright U\) velja,
  \end{enumerate}
\end{definicija}

\begin{definicija} %TODO: popravi ta vsaj unija biznis
  \emph{Amalgamacija} družine prerezov je vsak prerez, ki je definiran vsaj na
  uniji družine in je z njo skladen.
\end{definicija}

% Naj \(X\), \(Y\), … označujejo okoliše, \(U\), \(V\), … pa njihove odprte podmnožice.

% \begin{definicija}
%   \emph{Predsnop nad okolišem \(X\)} je funktor \(F : \op{\O{\p{X}}} → \setcat\).
%   Elementom množic \(F(U)\) pravimo \emph{prerezi (pri U)}.
% \end{definicija}

% \begin{opomba}
%   Predsnope lahko definiramo tudi nad poljubno kategorijo \(\cat C\).
%   V tem primeru pišemo \(\psh{\cat C} ≔ \op{\cat C} → \setcat\), za predsnope nad okolišem
%   \(X\) pa raje spustimo \(\mc{O}\) in pišemo kar \(\psh{X}\).
% \end{opomba}

% Preden lahko definiramo snope, moramo nekaj povedati o družinah prerezov.

% \begin{definicija}
%   Prereza \(s ∈ F(U)\) in \(t ∈ F(V)\) sta \emph{skladna}, ko velja \(s\res{V} = t\res{U}\).
%   Družina prerezov \(sᵢ ∈ F(Uᵢ)\) je \emph{skladna}, ko so njeni elementi paroma
%   skladni. Prerez je \emph{skladen} z družino, ko je paroma skladen z vsemi
%   njenimi elementi.
% \end{definicija}

% \begin{definicija}
%   \emph{Amalgamacija} (nujno skladne) družine prerezov je prerez, ki je
%   definiran vsaj na uniji družine in je z njo skladen.
% \end{definicija}
% \begin{opomba}
%   Če družina ni skladna očitno ne more imeti amalgamacije.
% \end{opomba}

% \begin{definicija}
%   \emph{Snop nad okolišem} je predsnop, za katerega ima vsaka skladna
%   družina prerezov enolično amalgamacijo.
% \end{definicija}

% %\begin{slogan}
% %  Vsaka skladna družina prerezov v snopu ima enolično amalgamacijo.
% %\end{slogan}
% %\begin{slogan}
% %  Predsnop je snop, kadar ima vsaka skladna družina prerezov enolično amalgamacijo.
% %\end{slogan}

% \begin{definicija}
%   Morfizem med (pred)snopoma \(F\) in \(G\) je naravna transformacija med
%   njima kot funktorjema.
% \end{definicija}

% \begin{definicija}
%   Kategoriji vseh snopov na \(X\), skupaj z morfizmi med njimi
%   pravimo~\(\sh{X}\), kategoriji predsnopov pa \(\psh X\).
% \end{definicija}


\subsection{Prezentacije snopov}

Naj bo \(F\) snop. Potem po lemi Yonede velja \(F(U) = \textrm{Nat}{\p{よU, F}}\), torej so
elementi snopa natanko določeni z naravnimi transformacijami (v snop).
Poleg tega pa za snopa \(F\) in \(G\) ter naravno transformacijo \(α : F ⇒ G\)
med njima velja, da \(α\) komutira z zožitvami, torej, če je \(V ⊆ U\) in
\(f ∈ F(U)\), velja \(α_V(f{\res V}) = α_U(f){\res V}\).
To pa pomeni, da so vrednosti morfizma natanko določene z vrednostmi pri tako
imenovanih globalnih lokalnih prerezih ozirmoa elementih.
V mislih imamo na primer primer iz kompleksne analize, kjer gledamo snop
kompleksnih logaritmov. Vemo, da globalen logaritem ne obstaja, vendar pa vseeno
obstajajo loklani logaritmi, te imajo pa maksimalne analitične razširitve, ki
bi jim lahko rekli \quot{globalni lokalni logaritmi}.

Bolj natančno torej, naj bo \(\ln\) množica parov \(\p{U, φ}\), kjer je
\(U ⊆ ℂ\) in \(φ : U → ℂ\) lokalni logaritem, tako da ne obstaja nobena množica
večja od \(U\), na katero lahko \(φ\) razširimo.
Potem je vsak ellement snopa logaritmov zožitev nekega elementa \(\ln\), poleg
tega pa so vsi elementi \(\ln\) paroma neskladni (sicer bi jih lahko zlepili in
dobili strogo razširitev obeh, kar je v protislovju z maksimalnostjo elementov
\(\ln\)).

Naivno bi sedaj želeli snop logaritmov \quot{generirati} z elementi \(\ln\),
tako da bi vzeli \(V ↦ \set{φ{\res V}}{(U, φ) ∈ \ln \text{ in } V ⊆ U}\), in to
v tem primeru res deluje, ampak v splošnem pa ne moremo tvoriti zožitev.
Lahko vzamemo potem \(φ{\res V}\) kot formalni element, kjer pa spet nastane
problem, da če se dva prereza ujemata na neki množici, morata biti njuni
zožitvi na to množico enaki. To lahko popravimo tako da vpeljemo nekakšno
relacijo na prerezih, ki nam pove ko kakšne mere se ujemata (oziroma nam da
največjo odprto množico, kjer sta enaka). Pišemo jo lahko recimo \(⟦φ = ψ⟧\).
Ta relacija bo gotovo simetrična, prav tako pa bo \quot{tranzitivna}, t.j. če se
\(φ\) in \(ψ\) ujemata na \(U\), in \(ψ\) in \(ξ\) na \(V\), se \(φ\) in \(ξ\)
gotovo ujemata vsaj na preseku \(U∩V\). Očitno pa ta relacija ni refleksivna, v
smislu da je \(φ\) v relaciji s samim sabo zgolj na množici, na kateri je
definiran. To pomeni, da lahko za \(\ln\) namesto parov \(\p{U, φ}\) vzamemo kar
prereze same, saj lahko \(U\) dobimo iz \(⟦φ = φ⟧\). Tej množici pravimo
\emph{razpon \(φ\)} in jo pišemo tudi \(‖φ‖\).

%Ostane le še problem kako pravilno tvoriti kvocient iz te relacije, kar pa
%upamo, da se ognemo z bolj strukturiranim pogledom.

Zgoraj opisanem postopku se reče tudi konstrukcija toposa iz
triposa~\angl{tripos to topos construction} in je to tudi motivacijski primer za
razvoj te konstrukcije.

\begin{definicija}
  \emph{\(ℒ\)-vrednotena množica} oziroma \emph{\(ℒ\)-množica} je množica \(A\),
  skupaj s preslikavo, ki jo pišemo \(⟦- = -⟧ : A×A → ℒ\), tako da velja
  \begin{align*}
    ⟦ a = b ⟧ ≤ ⟦ b = a ⟧\\
    ⟦ a = b ⟧ ∧ ⟦ b = c ⟧ ≤ ⟦ a = c ⟧
  \end{align*}
  Če iz konteksta ni razvidno kateri množici pripada preslikava \(⟦- = -⟧\),
  jo pišemo z indeksom \(⟦- =_A -⟧\).

  Kot zgoraj naj bo \(‖a‖ ≔ ⟦a = a⟧\) \emph{razpon \(a\)}.
\end{definicija}

Če \(≤\) beremo kot implikacijo, zgornja aksioma zgledata zelo podobno aksiomoma
simetričnosti in tranzitivnosti delno urejenih množic. Ker v intuicionistični
logiki na okvirje gledamo kot resničnostne vrednosti, in zaradi tenzor-hom
adjunkcije, lahko to podobnost reificiramo v tako imenovani jezik triposa.

Ker je \(a∧b ≤ c\) natanko tedaj ko \(a ≤ b⇒c\) (ker je \(ℒ\) okvir),
lahko \(a ≤ b\) interpretiramo kot \(⊤ = a⇒b\), kjer \(⊤\) predstavlja vrhnji
element okvira, prav tako pa predstavlja \quot{resnico}.
To pomeni, da res na \(a ≤ b\) lahko gledamo kot \quot{iz \(a\) sledi \(b\)}.

Naslednji izziv je definirati preslikave med \(ℒ\)-množicami.
Če pomislimo spet na snope, je preslikava iz \(F\) v \(G\) že določena z
globalnimi lokalnimi elementi, vendar pa nam nič ne zagotavlja, da so njihove
slike prav tako globali loklani elementi v \(G\), je pa gotovo zožitev nekega
(potencialno neenoličnega) takega elementa.

Če je \(f ∈ F'\) in \(α : F ⇒ G\), velja \(‖f‖ = ⋁_{g ∈ G'} ⟦g = α(f)⟧\),
kjer z \(F'\) in \(G'\) označimo množici globalnih lokalnih elementov.
Ta enačba nam torej predstavlja celovitost, pri enoličnosti pa moramo paziti.
Kot rečeno, globalni lokalni element v \(G\) ni enolično določen, je pa enolično
določena njegova (oziroma njihova) zožitev na razpon \(f\).
Velja še več, če pogledamo primerjavi \(α(f)\) z dvema elementoma \(g\) in
\(g'\), po tranzitivnosti relacije dobimo, da je presek teh dveh množic nujno
vsebovan v \(⟦g = g'⟧\), torej na nobeni odprti množici ni \(α(f)\) enak dvema
elementoma.

Definirajmo torej morfizem \(ℒ\)-množic kot tako relacijo.

\begin{definicija}
  \emph{Morfizem med \(ℒ\)-množicama} \(A\) in \(B\) je preslikava \(⟦- = f(-)⟧ : B×A → ℒ\),
  za katero velja
  \begin{align}% TODO: change
    &⟦b =_B b'⟧ ∧ ⟦b' = f(a)⟧ ≤ ⟦b = f(a)⟧    \tag{M1}\label{M1}\\
    &⟦b = f(a')⟧ ∧ ⟦a' =_A a⟧ ≤ ⟦b = f(a)⟧    \tag{M2}\label{M2}\\
    &⟦b = f(a)⟧ ∧ ⟦b' = f(a)⟧ ≤ ⟦b =_B b'⟧    \tag{M3}\label{M3}\\
    &‖a‖ = ⋁_{b ∈ B} ⟦b = f(a)⟧               \tag{M4}\label{M4}
  \end{align}
  Na prvi dve pravili lahko gledamo kot na skladnost z relacijama na \(A\) in
  \(B\), na drugi dve pa kot na enoličnost in celovitost, zato pišemo morfizme
  tudi v bolj funkcijskem zapisu kot \(f : A ↬ B\).

  Če imamo morfizma \(A \oset{f}{↬} B \oset{g}{↬} C\),
  je njun kompozitum \(gf : A ↬ C\) definiran kot
  \[ ⟦c = gf(a)⟧ ≔ ⋁_{b ∈ B} ⟦c = g(b)⟧∧⟦b = f(a)⟧\text. \]
\end{definicija}
\begin{opomba}
  Podobnost med oklepaji je namerna, je pa vseeno vredno poudariti, da izraz
  \(⟦b = f(a)⟧\) ni povezan z izrazom \(⟦b =_B b'⟧\) nič več, kot lahko sklepamo
  iz gornjih aksiomov. Drugače rečeno, kljub temu, da na \(⟦b = f(a)⟧\) želimo
  gledati kot primerjavo slike \(a\) v \(ℒ\)-množici \(B\), se izraza vseeno
  bistveno razlikujeta, namreč v \(B\) ne obstaja nujno kak element, ki bi mu
  lahko rekli slika \(a\).
\end{opomba}

Vseeno pa v jeziku triposa na \(⋁_{b ∈ B} φ(b)\) gledamo kot eksistenčni
kvantifikator, torej \ref{M4} res pravi, da obstaja nek \(b\), ki je slika
elementa \(a\), definicija kompozicije pa je potem natanko standardna
kompozicija relacij.

Skupaj z identiteto \(⟦- =_A -⟧\), tvorijo \(ℒ\)-množice kategorijo, ki jo označimo \(\cat{Set}(ℒ)\).

\begin{lema}
  Naj bosta \(f, g : A ↬ B\) morfizma.
  Potem sta enaka natanko tedaj, ko velja
  \[ \for{a ∈ A, b ∈ B}{ ⟦b = f(a)⟧ ≤ ⟦b = g(a)⟧ }.\]
\end{lema}
\begin{dokaz}
  V eno smer je trditev očitna, tako da predpostavimo,
  da za vsaka \(a\) in \(b\) velja \(⟦b = f(a)⟧ ≤ ⟦b = g(a)⟧\).
  Dokazati moramo torej, da velja tudi druga neenakost.
  \begin{align*}
    ⟦b = g(a)⟧
    &= ⟦b = g(a)⟧ ∧ ⟦a = a⟧ = ⟦b = g(a)⟧ ∧ \bigvee_{b' ∈ B} ⟦b' = f(a)⟧\\
    &= \bigvee_{b' ∈ B} ⟦b = g(a)⟧ ∧ ⟦b' = f(a)⟧ ∧ ⟦b' = g(a)⟧\\
    &≤ \bigvee_{b' ∈ B} ⟦b = b'⟧ ∧ ⟦b' = f(a)⟧ ≤ ⟦b = f(a)⟧.\qedhere
  \end{align*}
\end{dokaz}

Če na zgornjo formulo gledamo kot neko trditev v jeziku množic in funkcij, bi se
brala kot "če je \(f(a) = b\) je potem tudi \(g(a) = b\)", kar pa ponavadi res
pomeni, da sta funkciji \(f\) in \(g\) enaki.

Na podoben način bi si želeli karakterizirati epimorfizme in monomorfizme, v
kategoriji \(\cat{Set}(ℒ)\), in res jih lahko karakteriziramo kot surjekcije in
injekcije v tem jeziku:

\begin{trditev}
  Morfizem \(f : A ↬ B\) je epimorfizem, če velja
  \[ \for{b ∈ B}{ ⟦b = b⟧ = ⋁_{a ∈ A} ⟦b = f(a)⟧ }\text, \]
  in monomorfizem, če velja % TODO: A kvantificiram?
  \[ \for{a,a' ∈ A, b ∈ B}{ ⟦b = f(a)⟧ ∧ ⟦b = f(a')⟧ ≤ ⟦a = a'⟧}\text. \]
\end{trditev}
\begin{dokaz}
  % TODO: dokaz
  long and arduous
\end{dokaz}

Sedaj se pa želimo vprašati, kaj so bijekcije v kategoriji \(\cat{Set}(ℒ)\).
Že iz teorije množic vemo, da ima vsaka relacija dualno relacijo, ki se pa
obnaša kot nekakšen inverz. Za morfizem \(f : A ↬ B\) lahko definiramo dual
\(f⁻¹ : B ↬ A\) tako, da preprosto zamenjamo elementa v produktu.
Kompozituma z dualom pa sta res identiteti.

\begin{trditev}
  Za \(f : A ↬ B\) je \(f∘f⁻¹ = \id = f⁻¹∘f\).
\end{trditev}
\begin{dokaz}
  \begin{align*}
    ⟦b' = ff⁻¹(b)⟧
    &= ⋁_{a ∈ A} ⟦b' = f(a)⟧∧⟦a = f⁻¹(b)⟧\\
    &= ⋁_{a ∈ A} ⟦b' = f(a)⟧∧⟦b = f(a)⟧ ≤ ⟦b' = b⟧\\
    ⟦a' = f⁻¹f(a)⟧
    &= ⋁_{b ∈ B} ⟦a' = f⁻¹(b)⟧∧⟦b = f(a)⟧\\
    &= ⋁_{b ∈ V} ⟦a' = f⁻¹(b)⟧∧⟦a = f⁻¹(b)⟧ ≤ ⟦a' = a⟧\qedhere
  \end{align*}
\end{dokaz}

Ta dokaz zgleda, kot da pravi, da je vsak morfizem izomorfizem, vendar to očitno
ni res. In res, v zgornjem dokazu uporabimo, da je \(f⁻¹\) sploh morfizem
\(ℒ\)-množic. Prvima dvema aksiomoma je že zadoščeno, druga dva sta pa
ekvivalentna natanko injektivnosti in surjektivnosti \(f\).

Iz gornjega sicer zgleda, kot da potrebujemo zgolj injektivnost \(f\), vendar pa
morata biti tudi kompozituma \(ff⁻¹\) in \(f⁻¹f\) \(ℒ\)-morfizma, kjer se pa
skriva uporaba preostalih aksiomov.

Trditev se torej pravilno glasi tako:
\begin{trditev}
  Za \(f : A ↬ B\) je \(f⁻¹\) (morfizem in) inverz \(f\) natanko tedaj, ko je \(f\) bijektivna.
\end{trditev}

\subsubsection{Karakterizacija podobjektov}

Z uporabo gornje karakterizacije monomorfizmov, lahko karakteriziramo tudi podobjekte.

Denimo, da je \(S\) podsnop snopa \(F\). To pomeni, da je snop, in da za vsako odprto
množico velja \(S(U) ⊆ F(U)\), in naj bo \(F'\) spet množica globalnih lokalnih
elementov. Potem vsakemu elementu \(F'\) lahko priredimo največjo odprto
množico, tako da je zožitev tega elementa v \(S\) (seveda bodo potem tudi vse
manjše zožitve v \(S\)). Označimo to recimo z \(⟦f ∈ S⟧\), za \(f ∈ F'\).

Ker je vsak element \(F\) zožitev nekega elementa \(F'\), lahko podsnop \(S\)
rekonstruiramo kot \(S(U) = \set{f{\res U}}{f ∈ F' \text{ in } ⟦f ∈ S⟧ ⊇ U}\).

% Gornjo konstrukcijo lahko natančno definiramo na \(ℒ\)-množicah:
Sledi, da so podsnopi \(F\) natanko določene preslikave \(F'\) v \(ℒ\), kar pa
lahko izrazimo z \(ℒ\)-množicami.

\begin{definicija}
  \(ℒ\)-podmnožica \(A\) je preslikava \( ⟦- ∈ S⟧ : A → ℒ \), za katero velja
  \begin{align*}
    &⟦a ∈ S⟧ ≤ ⟦a = a⟧\\
    &⟦a = a'⟧ ∧ ⟦a' ∈ S⟧ ≤ ⟦a ∈ S⟧
  \end{align*}
  t.~j. je skladna z relacijo na \(A\). Pišemo tudi \(S ⊑ A\).
\end{definicija}
\begin{lema}
  Za \(ℒ\)-podmnožico \(S ⊑ A\) velja \(⟦a = a'⟧∧⟦a' ∈ S⟧ = ⟦a = a'⟧∧⟦a ∈ S⟧\).
\end{lema}

\begin{trditev}
  Obstaja ekvivalenca med delnima ureditvima \(ℒ\)-podmnožic \(A\) in podobjektov \(A\).
\end{trditev}
\begin{proof}
  Naj bo \(m : S ↬ A\) monomorfizem \(ℒ\)-množic.
  Potem definiramo preslikavo \( ⟦- ∈ m⟧ : A → ℒ \) s predpisom
  \(a ↦ ⋁_{s ∈ S} ⟦a = m(s)⟧\).

  Ta preslikava definira \(ℒ\)-množico, saj velja
  \begin{align*}
    &⟦a ∈ m⟧ = ⋁_{s ∈ S} ⟦a = m(s)⟧ ≤ ⋁_{s ∈ S} ⟦a = a⟧ = ‖a‖\text{ in}\\
    &⟦a = a'⟧∧⟦a' ∈ m⟧ = ⋁_{s ∈ S} ⟦a = a'⟧∧⟦a' = m(s)⟧ ≤ ⋁_{s ∈ S} ⟦a = m(s)⟧ = ⟦a ∈ m⟧\text.
  \end{align*}

  
  % TODO: complete proof
\end{proof}


\subsubsection{Polne \texorpdfstring{\(ℒ\)}{ℒ}-množice}


Prej smo že omenili, da lahko iz globalnih lokalnih elementov rekonstruiramo
snop, vendar je ta konstrukcija komplicirana, poleg tega pa potem delamo z
nekimi kvocienti, kar nikoli ni prijetno. Tako bi želeli, da bi naše
\(ℒ\)-množice kar dopolnili še z vsemi ostalimi elementi snopa. Vemo, da imamo
za to dovolj informacij, saj je vsak element zožitev enega od globalnih
lokalnih, je pa vseeno izziv kako identificirati zožitve, ki se ujemajo.

Trik, ki ga bomo uporabili smo že srečali pri motivaciji za definicijo
\(ℒ\)-preslikav, namreč, da lahko element snopa \(f\) primerjamo z vsemi
globalnimi lokalnimi elementi, torej da dobimo funkcijo iz \(ℒ\)-množice v okvir
\(ℒ\). Ta konstrukcija v snopih enolično določa elemente, torej če sta
\(f ∈ F(U)\) in \(g ∈ F(V)\), in se njune primerjave ujemata na vseh globalnih
lokalnih elementih, se v posebnem tudi ujemata z neko razširitvijo \(f\) (ki jo
označimo \(f'\)), torej velja \(f{\res V} = f'{\res{U∩V}} = g{\res U}\), kar pa
pomeni, da sta \(f\) in \(g\) skladna. Potem pa nam vsaka primerjava definira
skladno družino, ki jo lahko zlepimo v enoličen element snopa.

Spomnimo se pa, da so take funkcije natanko podobjekti, in če je element
podobjekta enolično določen, mu lahko pravimo enojec, oziroma podenojec, ker ta
element ne obstaja nujno med globalnimi lokalnimi elementi. Vendar pa kljub
temu, da so te podenojci lahko \quot{prazni}, imajo dovolj zanimivo strukturo,
da iz njih lahko rekonstruiramo celoten snop.

% % TODO: reword
% Naj bo \(F\) snop nad \(ℒ\). Potem lahko za \(m ∈ F(U)\) definiramo enojec
% \(⟦a ∈ ⟨m⟩⟧ ≔ ⟦a = m⟧\), kjer je \(a ∈ F(V), V ∈ ℒ\).
% Na enojcih lahko definiramo tudi \(⟦⟨m⟩ = ⟨n⟩⟧ ≔ ⟦m = n⟧\).
% Snop \(F\) lahko sedaj rekonstruiramo iz njegovih enojcev.
% Podobno bomo storili za \(ℒ\)-množice.

\begin{definicija}
  \emph{(Pod)enojec} na \(ℒ\)-množici \(A\) je \(ℒ\)-podmnožica \(S ⊑ A\), za katero velja
  \[ \for{a,b ∈ S}{⟦a ∈ S⟧ ∧ ⟦b ∈ S⟧ ≤ ⟦a = b⟧}\text. \]
\end{definicija}
\begin{opomba}
  Če razpišemo definicijo \(ℒ\)-podmnožic, dobimo da so enojci preslikave, ki poleg
  gornjemu pogoju zadoščajo zgolj še drugi pogoj \(ℒ\)-podmnožic, torej
  \[ \for{a,b ∈ A}{⟦a = b⟧ ∧ ⟦b ∈ S⟧ ≤ ⟦a ∈ S⟧}\text. \]
\end{opomba}

V jeziku triposa to res pravi, da ima podenojec kvečjemu en element.
\begin{opomba}
  V literaturi se tem preslikavam reče kar enojci, saj enolično določajo
  elemente snopa.
\end{opomba}

\begin{lema}% TODO: refactor. this should be a definition or something.
  Za vsak \(m ∈ A\) lahko tvorimo enojec \(σₘ : A → ℒ\), s predpisom
  \(a ↦ ⟦a = m⟧\). \(ℒ\)-množico enojcev \(A\) z relacijo
  \(⟦ρ = τ⟧ ≔ ⋁_{a ∈ A} ρ(a)∧τ(a)\) označimo \(σ(A)\).
\end{lema}
\begin{dokaz}
  Preslikava \(σₘ\) je res enojec, saj velja
  \begin{align*}
    σₘ(a)∧σₘ(b) &= ⟦a = m⟧∧⟦m = b⟧ ≤ ⟦a = b⟧\text{ in}\\
    ⟦a = b⟧∧σₘ(b) &= ⟦a = b⟧∧⟦b = m⟧ ≤ ⟦a = m⟧ = σₘ(a)\text.
  \end{align*}

  Relacija je očitno simetrična, tako da si poglejmo le tranzitivnost:
  \begin{align*}
    ⟦ρ = τ⟧∧⟦τ = θ⟧
    &= \p{⋁_{a ∈ A} ρ(a)∧τ(a)} ∧ \p{⋁_{a ∈ A} τ(a)∧θ(a)}\\
    &= ⋁_{a,a' ∈ A} ρ(a)∧τ(a)∧τ(a')∧θ(a')\\
    &≤ ⋁_{a,a' ∈ A} ρ(a)∧⟦a = a'⟧∧θ(a')\\
    &≤ ⋁_{a ∈ A} ρ(a)∧θ(a) = ⟦ρ = θ⟧\text,
  \end{align*}
  kjer v drugi enakosti uporabimo, da je \(ℒ\) okvir.
\end{dokaz}

\begin{lema}\label{lem:image}
  Vsak \(ℒ\)-morfizem \(f : A ↬ B\), \(a ∈ A\), in \(b ∈ B\) inducirajo
  \begin{enumerate}
  \item \(ℒ\)-podmnožico \(f⁻¹(b) ⊑ A\), definirano z \(x ↦ ⟦b = f(x)⟧\) in
  \item enojec \(f(a) ⊑ B\), definiran z \(y ↦ ⟦y = f(a)⟧\).
  \end{enumerate}
\end{lema}
\begin{dokaz}
  % \begin{enumerate}
  % \item Prvi aksiom drži, saj imamo \(⟦a ∈ f⁻¹(b)⟧ = ⟦b = f(a)⟧ ≤ ‖a‖\), drugi
  %   %aksiom pa sledi iz drugega aksioma \(ℒ\)-morfizmov.
  %   aksiom pa sledi iz aksioma \ref{M2}.
  % \item Prvi aksiom sledi iz celovitosti, drugi pa podobno kot zgoraj iz \ref{M1}.\qedhere
  % \end{enumerate}
  V obeh primerih prvi aksiom drži zaradi celovitosti, drugi pa zaradi
  skladnosti morfizma z relacijo na ustrezni \(ℒ\)-množici.
\end{dokaz}

\begin{lema}\label{lem:subst}
  Za \(ℒ\)-podmnožico \(φ : A → ℒ\) velja \({φ(a) = ⋁_{x ∈ A} φ(x)∧⟦x = a⟧}\).
  V posebnem za \(ℒ\)-morfizem \(f : A ↬ B\) velja \(⟦b = f(a)⟧ = ⋁_{x ∈ A} ⟦b = f(x)⟧∧⟦x = a⟧\).
\end{lema}
\begin{dokaz}
  Ker je \({φ(a) = φ(a)∧⟦a = a⟧}\) velja \( φ(a) ≤ ⋁_{x ∈ A} φ(x)∧⟦x = a⟧\),
  obratna neenakost pa sledi iz drugega aksioma \(ℒ\)-podmnožic.
\end{dokaz}

\begin{lema}\label{lem:sigmaunit}
  Za \(m,n ∈ A\) in \(τ ∈ σ(A)\) veljajo naslednje enakosti:
  \begin{enumerate}
  \item \(σ_τ(σₘ) = ⟦σₘ = τ⟧ = τ(m)\)
  \item \(⟦σₘ = σₙ⟧ = ⟦m = n⟧\)
  \item \(σₘ(n) = σₙ(m)\)
  \item \(⟦m = n⟧ = ⋁_{τ ∈ σ(A)} τ(m)∧τ(n)\)
  \end{enumerate}
\end{lema}
\begin{dokaz}
  Prvi enačaj velja po definiciji, tako da razpišemo zgolj drugega:
  \begin{equation*}
    ⟦σₘ = τ⟧ = ⋁_{a ∈ A} σₘ(a)∧τ(a) = ⋁_{a ∈ A} ⟦m = a⟧∧τ(a) = τ(m)\text,
  \end{equation*}
  kjer smo za zadnjo enakost uporabili gornjo lemo na \(ℒ\)-podmnožici \(τ\).

  Enakost v drugi točki sledi iz \(⟦σₘ = σₙ⟧ = σₙ(m) = ⟦m = n⟧\),
  tretja točka pa sledi po definiciji iz simetrčnosti relacije.

  Oglejmo si še zadnjo točko. Neenakost \(≥\) očitno sledi iz aksiomov enojcev,
  tako da moramo preveriti zgolj drugo smer:
  \begin{equation*}
    ⟦m = n⟧ = ⟦m = n⟧∧⟦n = m⟧ = σₘ(n)∧σₙ(m) ≤ ⋁_{τ ∈ σ(A)} τ(m)∧τ(n)\qedhere
  \end{equation*}
\end{dokaz}

Kot smo rekli na začetku podrazdelka, nam vsak enojec na \(F'\) enolično določa
element snopa \(F\). Prav tako pa enojci na \(F\) enolično določajo elemente
\(F\). Če torej želimo dopolniti \(ℒ\)-množico do celega snopa, moramo vzeti
njeno množico enojcev, oziroma bolj natančno, so polne \(ℒ\)-množice take, kjer
nam enojci ne predstavljajo nobenih novih elementov. % nobenih drugih elementov
                                % kot elementov \(ℒ\)-množice same.

\begin{definicija}
  \(ℒ\)-množica \(A\) je \emph{polna}, kadar je preslikava množic \(m ↦ σₘ\)
  bijekcija. Polno podkategorijo polnih \(ℒ\)-množic označimo s
  \(\cat{CSet}(ℒ)\).
\end{definicija}
% NOTE: σ definira idempotentno monado. To mi avtomatsko da naslednjih par
% rezultatov (specifično do izreka da so polne ℒ-množice refleksivna
% podkategorija).
\begin{lema}
  \(ℒ\)-množica \(σ(A)\) je polna.
\end{lema}
\begin{dokaz}
  Pokazati moramo, da je preslikava \(τ ↦ σ_τ\) bijekcija.
  % TODO: reword
  Injektivnost:
  Denimo, da velja \(σ_τ = σ_ρ\). Potem velja
  \begin{equation*}
    τ(a) = σ_τ(σₐ) = σ_ρ(σₐ) = ρ(a)\text,
  \end{equation*}
  torej je preslikava injektivna.
  % NOTE: to je inverz enote (in je množenje).
  Naj bo sedaj \(Σ ∈ σσ(A)\). Definirajmo \(τ(a) ≔ Σ(σₐ)\).
  To je enojec, saj velja
  \begin{align*}
    τ(a)∧τ(b) &= Σ(σₐ)∧Σ(σ_b) ≤ ⟦σₐ = σ_b⟧ = ⟦a = b⟧\text{ in}\\
    ⟦a = b⟧∧τ(b) &= ⟦a = b⟧∧Σ(σ_b) = ⟦σₐ = σ_b⟧∧Σ(σ_b) ≤ Σ(σₐ) = τ(a)\text.
  \end{align*}

  Pokažimo še, da je \(Σ = σ_τ\).
  \begin{align*}
    σ_τ(ρ)
    &= ⟦τ = ρ⟧ = ⋁_{a ∈ A} τ(a)∧ρ(a) = ⋁_{a ∈ A} Σ(σₐ)∧⟦ρ = σₐ⟧\\
    &= ⋁_{a ∈ A} Σ(ρ)∧⟦ρ = σₐ⟧ = Σ(ρ)∧‖ρ‖ = Σ(ρ)\text,
  \end{align*}
  kjer za tretjo enakost uporabimo, da lahko pod enakostjo menjamo argumente \mbox{\(ℒ\)-podmnožicam}.
  Sledi, da za vsak enojec v \(σσ(A)\) obstaja natanko en enojec v \(σ(A)\), ki
  se vanj slika, tako da je preslikava \(σ\) res bijekcija, in je \(σ(A)\) polna.
\end{dokaz}

\begin{trditev}
  Naj bo \(f : A ↬ B \) in \(B\) polna \(ℒ\)-množica. Tedaj obstaja preslikava
  \(φ : A → B\), za katero velja \(⟦b = f(a)⟧ = ⟦b =_B φ(a)⟧\).
  Poleg tega velja tudi \(⟦φ(a) = φ(a')⟧ ≥ ⟦a = a'⟧\), in enakost drži kadar je \(a = a'\).
\end{trditev}
\begin{dokaz}
  Za vsak \(a ∈ A\) je \(b ↦ ⟦b = f(a)⟧\) enojec, torej po polnosti \(B\)
  natanko določa en element \(B\), ki ga označimo \(φ(a)\). To definira
  preslikavo \(φ\).
  % TODO: neenakosti?
\end{dokaz}
\begin{posledica}
  Kategorija polnih \(ℒ\)-množic je ekvivalentna kategoriji, katere
  \catdef
    {so polne \(ℒ\)-množice in}
    {\(A → B\) so funkcije \(f : A → B\), ki zadoščajo sledečima pogojema:
      \begin{itemize}
      \item \(⟦a = a'⟧ ≤ ⟦f(a) = f(a')⟧\), in
      \item \(⟦a = a⟧ = ⟦f(a) = f(a)⟧\).
      \end{itemize}}
    %\newline
    %\begin{tabular}{l}
    %  \(⟦a = a'⟧ ≤ ⟦f(a) = f(a')⟧\)\\
    %  \(⟦a = a⟧ = ⟦f(a) = f(a)⟧\)
    %\end{tabular}}
\end{posledica}

\begin{izrek}\label{th:sigmaiso}
  \(ℒ\)-množica \(σ(A)\) je izomorfna \(A\).
\end{izrek}
\begin{dokaz}
  % NOTE: f je enota monade σ, če je g njen inverz, kaj je njena povezava z
  % množenjem? Plus lahko spustimo pol dokazov, da je f morfizem.
  Definirajmo preslikavo \(⟦τ = η(a)⟧ = τ(a)\).
  Očitno je skladna z relacijama, tako da moramo preveriti zgolj
  enoličnost in celovitost. Enoličnost sledi iz neenakosti
  \(τ(a)∧ρ(a) ≤ ⟦τ = ρ⟧\), celovitost pa iz enakosti
  \[ ⟦a = a⟧ = ⟦σₐ = σₐ⟧ = ⋁_{τ ∈ σ(A)} ⟦σₐ = τ⟧ = ⋁_{τ ∈ σ(A)} τ(a)\text. \]
  
  Preveriti moramo torej le še, da je bijekcija. Injektivna je očitno, saj to
  sledi iz definicije enojca, surjektivnost pa sledi iz
  \(⟦σₐ = η(a)⟧ = σₐ(a) = ‖a‖\).
\end{dokaz}
\begin{posledica}
  Kategorija \(ℒ\)-množic je ekvivalentna kategoriji polnih \(ℒ\)-množic.
\end{posledica}

\begin{lema}
  Polne \(ℒ\)-množice imajo operator zožitve, t.~j. za vsak \(m ∈ A\) in
  \(U ∈ ℒ\) obstaja \(m{\res U} ∈ A\), tako da velja \(⟦a = m{\res U}⟧ = ⟦a = m⟧∧U\).
  V posebnem torej tudi velja \(‖m{\res U}‖ = ‖m‖∧U\) in \(m{\res U\res V} = m{\res{U∧V}}\).
\end{lema}
\begin{dokaz}
  Tvorimo kar \(τ(a) = ⟦a = m⟧∧U\). To je enojec, saj
  \begin{align*}
    τ(a)∧τ(b) &= ⟦a = m⟧∧U∧⟦b = m⟧∧U ≤ ⟦a = b⟧\text{ in}\\
    ⟦a = b⟧∧τ(b) &= ⟦a = b⟧∧⟦b = m⟧∧U ≤ ⟦a = m⟧∧U = τ(a)\text.
  \end{align*}
  Ker je \(A\) polna, ta ustreza nekemu elementu, ki mu lahko rečemo
  \(m{\res U}\), zanj pa očitno velja željena enakost
  \begin{equation*}
    ⟦a = m{\res U}⟧ = ⟦σₐ = τ⟧ = τ(a) = ⟦a = m⟧∧U\text. \qedhere
  \end{equation*}
\end{dokaz}
\begin{posledica}
  Za \(m ∈ A\) in \(U ∈ ℒ\) velja \(σₘ{\res U}(n) = σₘ(n)∧U\).
\end{posledica}
\begin{posledica}
  Za \(τ ∈ σ(A)\) in \(U ∈ ℒ\) velja \(σ_τ{\res U} = σ_{τ{\res U}}\).
\end{posledica}

\begin{lema}
  Polne \(ℒ\)-množice imajo lepljenje skladnih družin, t.~j. za vsako družino
  \(mᵢ ∈ A\), za katero velja \(mᵢ{\res{Uⱼ}} = mⱼ{\res{Uᵢ}}\), kjer je \(Uᵢ ≔ ‖mᵢ‖\),
  obstaja tak \(m ∈ A\), da je \(m{\res{Uᵢ}} = mᵢ\).
  %\(mᵢ ∈ A\) za katero velja \(⟦mᵢ = mⱼ⟧ = ‖mᵢ‖∧‖mⱼ‖\) obstaja nek \(m ∈ A\),
  %tako da je \(⟦m = mᵢ⟧ = ‖mᵢ‖\) in \(‖m‖ = ⋁ᵢ‖mᵢ‖\).
\end{lema}
\begin{dokaz}
  Naj bodo \(mᵢ\) taki in tvorimo preslikavo \(τ(a) = ⋁ᵢ⟦a = mᵢ⟧\).
  Iz skladnosti družine sledi, da velja
  \[ ⟦a = mᵢ⟧∧Uⱼ = ⟦a = mᵢ{\res{Uⱼ}}⟧ = ⟦a = mⱼ{\res{Uᵢ}}⟧ = ⟦a = mⱼ⟧∧Uᵢ\text. \]
  
  Preslikava \(τ\) je enojec, saj velja
  \begin{align*}
    ⟦a = b⟧∧τ(b)
    &= ⋁ᵢ⟦a = b⟧∧⟦b = mᵢ⟧ ≤ ⋁ᵢ⟦a = mᵢ⟧ = τ(a)\text{ in}\\
    τ(a)∧τ(b)
    &= ⋁ᵢⱼ⟦a = mᵢ⟧∧⟦b = mⱼ⟧\\
    &= ⋁ᵢⱼ⟦a = mᵢ⟧∧Uᵢ∧⟦b = mⱼ⟧∧Uⱼ\\
    &= ⋁ᵢⱼ⟦a = mᵢ⟧∧Uⱼ∧⟦b = mⱼ⟧∧Uᵢ\\
    &= ⋁ᵢ⟦a = mᵢ⟧∧⟦b = mᵢ⟧ ≤ ⟦a = b⟧\text,
  \end{align*}
  torej ustreza nekemu \(m ∈ A\). Po zgornji lemi velja
  \begin{equation*}
    ⟦mᵢ = m{\res{Uᵢ}}⟧ = ⟦mᵢ = m⟧∧Uᵢ = σₘ(mᵢ)∧Uᵢ = \textstyle⋁\!ⱼ⟦mᵢ = mⱼ⟧∧Uᵢ = Uᵢ\text,
  \end{equation*}
  torej se ujemata na celotnem razponu in sta enaka.

  Razpon \(m\) je \(‖m‖ = σₘ(m) = ⋁ᵢ⟦m = mᵢ⟧ = ⋁ᵢUᵢ\), kar mora veljati za vsako
  amalgamacijo družine \(mᵢ\), tako da je \(m\) tudi enoličen.
\end{dokaz}

\begin{konstrukcija}
  Naj bo \(A\) \(ℒ\)-množica. Potem ji lahko priredimo snop
  \[ Θ(A)(U) = \set{τ ∈ σ(A)}{‖τ‖ = U}\text. \]
  Morfizmu \(f : A ↬ B\) \(ℒ\)-množic priredimo preslikavo
  % NOTE: to je morphism action σ, torej Θ je I∘σ, kjer I predstavlja renotation
  % polne ℒ-množice v snop
  \[ Θ(f)_U(τ)(b) ≔ ρ(b) = ⋁_{a ∈ A}⟦b = f(a)⟧∧τ(a)\text. \]
  To je res enojec na \(B\), saj velja
  \begin{align*}
    ⟦b' = b⟧∧ρ(b)
    &= ⋁_{a ∈ A}⟦b' = b⟧∧⟦b = f(a)⟧ ≤ ⋁_{a ∈ A}⟦b' = f(a)⟧ = ρ(b')\text{ in}\\
    ρ(b)∧ρ(b')
    &= ⋁_{a,a' ∈ A} ⟦b = f(a)⟧∧τ(a)∧τ(a')∧⟦b' = f(a')⟧\\
    &≤ ⋁_{a,a' ∈ A} ⟦b = f(a)⟧∧⟦a = a'⟧∧⟦b' = f(a')⟧\\
    &≤ ⋁_{a' ∈ A} ⟦b = f(a')⟧∧⟦b' = f(a')⟧ ≤ ⟦b = b'⟧\text.
  \end{align*}
  To definira funktor med kategorijama \(\cat{Set}(ℒ)\) in \(\cat{Sh}(ℒ)\).
\end{konstrukcija}

\begin{konstrukcija}
  Naj bo \(P\) predsnop. Potem mu lahko priredimo \(ℒ\)-množico
  \(Γ(P) ≔ ∑_{U ∈ ℒ} P(U)\) z relacijo
  % NOTE: ta je pa zgolj renotation predsnopa v ℒ-množico, tako da je od
  % adjunkcije samo σ.
  \[ ⟦\p{U, f} = \p{V, g}⟧ ≔ ⋁\set{W ∈ ℒ}{W≤U∧V \text{ in } f\res W = g\res W}\text. \]
  % TODO: dokaži polnost
  Morfizmu predsnopov \(α : P ⇒ Q\) priredimo preslikavo \(Γ(α)(U, f) ≔ α_U(f)\).
  To definira funktor med kategorijama \(\cat{PSh}(ℒ)\) in \(\cat{Set}(ℒ)\).
\end{konstrukcija}

\begin{trditev}
  Funktor \(Γ\) je levi adjunkt funktorju \(Θ\).
\end{trditev}
\begin{dokaz}
  % Naj bo \(φ : Θ(A) → P\) morfizem predsnopov. Definirati želimo morfizem
  % \mbox{\(ℒ\)-množic} \(A ↬ Γ(P)\).
  % Elementoma \(a ∈ A\) z \(‖a‖ = U\) in \(\p{V, f} ∈ Γ(P)\) lahko priredimo
  % \(⟦f = φ_U(σₐ)⟧\).
  % To je očitno morfizem \(ℒ\)-množic.
  
  % Obratno, naj bo \(φ : A ↬ Γ(P)\) morfizem \(ℒ\)-množic.
  % Tedaj elementu \(τ ∈ Θ(A)(U)\) priredimo element \(\).
  % To spet očitno definira morfizem snopov, tako da sta funktorja \(Θ\) in \(Γ\)
  % res adjungirana in definirata ekvivalenco željenih kategorij.
  % % TODO: correct this detail
  % Naj bo \(φ : P ⇒ Θ(A)\). Potem \(⟦a = f\p{U, p}⟧ ≔ φ_U(p)(a)\) definira
  % morfizem \(ℒ\)-množic \(Γ(P) ↬ A\), saj velja \(φ_U(p)(a) = ⟦σₐ = φ_U(p)⟧\).
 
  % Obratno, naj bo \(f : Γ(P) ↬ A\). Morfizem predsnopov \(φ : P ⇒ Θ(A)\)
  % konstruiramo kot \(φ_U(p) ≔ ⟦- = f\p{U, p}⟧\), ki je enojec na \(A\).
  % Razpon tega enojca je pa \(⋁_{a ∈ A} ⟦a = f\p{U, p}⟧ = ‖\p{U,p}‖ = U\).

  % Ti prireditvi sta si očitno inverzni, tako da definirata adjunkcijo \(Γ ⊣ Θ\).
  Koenota adjunkcije je izomorfizem iz izreka \ref{th:sigmaiso},
  enota pa slika \(p ∈ P(U)\) v \(σ_{(U,p)}\). To je naravna
  transformacija, saj \(σ\) \quot{komutira} z zožitvami.
\end{dokaz}

\begin{izrek}
  Kategorija polnih \(ℒ\)-množic je ekvivalentna kategoriji snopov nad \(ℒ\).
\end{izrek}
\begin{dokaz}
  Če funktorja \(Γ\) in \(Θ\) zožimo na dani kategoriji, sta si spet
  adjungirana, tako da moramo zgolj pokazati, da sta enota in koenota
  izomorfizma.

  Koenota je že izomorfizem po \ref{th:sigmaiso}, tako da moramo preveriti zgolj
  enoto.

  Naj bo \(F\) snop. Potem \(η_U : F(U) → ΘΓ(F)(U)\) slika \(f ↦ σ_{(U,f)}\).
  Ker je \(F\) snop je \(ℒ\)-množica \(Γ(F)\) že polna, tako da so elementi
  \(ΘΓ(F)(U)\) že natanko elementi \(Γ(F)\) z razponom \(U\), ki so pa natanko
  elementi \(F(U)\), torej je tudi enota izomorfizem.
\end{dokaz}

%%% Local Variables:
%%% TeX-master: "main"
%%% End:
