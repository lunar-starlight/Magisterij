\section{TopoloÅ¡ki modeli}\label{sec:modeli}

% Teorija modelov morda zveni kot zelo abstraktna in filozofska zadeva (govora je
% o matematiÄnih svetovih), vendar je pa ideja sama blizu vsakemu matematiku, ki
% je dokonÄal drugi letnik dodiplomskega Å¡tudija.
% Situacija je namreÄ zelo podobna teoriji grup. Struktura grupe je skupek
% aksiomov (tako kot jih ima konstruktivna logika ali pa teorija mnoÅ¾ic), medtem
% ko so pa grupe same natanko \emph{modeli} teh aksiomov, in na model logike
% mislimo na isti naÄin.

% Seveda pa grupe niso edina struktura, za katero lahko izvedemo to analogijo.
% Lahko tudi gledamo modele monoidne, kolobarske, vektorske,~itd.~strukture, prav
% tako pa lahko gledamo modele topoloÅ¡ke strukture ali pa modele izraÄunljivostne
% strukture (recimo turingove stroje).

% V logiki in teoriji mnoÅ¾ic, se pogosto spraÅ¡ujemo, ali so kakÅ¡ne trditve
% \emph{neodvisne} od aksiomov naÅ¡ega sistema. Na primer aksiom izbire je
% neodvisen od preostalih aksiomov teorije mnoÅ¾ic, hipoteza kontinuuma je
% neodvisna od teorije mnoÅ¾ic z izbiro,~itd. Neodvisnost je mogoÄe malce
% nedostopen pojem, Å¡e posebej za matematike, ki verjamejo v absolutno resnico.
% NamreÄ, kako lahko trditev ni niti resniÄna niti neresniÄna? Ampak bistvo je v
% tem, da trditev ima resniÄnostno vrednost \emph{v vseh modelih}, vendar Äe je ta
% resniÄnostna vrednost razliÄna v razliÄnih modelih, je trditvi ne moremo
% dodeliti, tako da bo bilo to res v vseh modelih! KljuÄno je namreÄ, da noben
% model logike ni \emph{odlikovan}, torej nimamo \quot{standardnega modela}.

% To se vse sliÅ¡i nekoliko komplicirano, a nam je zares Å¾e intimno znano. V
% teoriji grup namreÄ vemo za \quot{komutativnost}, za katero vemo, da se je ne da
% dokazati iz aksiomov grupe, prav tako pa ne velja njena negacija. To pa vemo
% natanko zato, ker obstajajo in komutativne in nekomutativne grupe (oziroma
% modeli aksiomov grup). V teoriji grup prav tako nimamo \quot{standardne grupe},
% za katero velja natanko vse kar velja za vse grupe.

% V logiki takim stvarem pravimo \quot{neodvisne trditve}, v teoriji
% izraÄunljivosti tem pravimo \quot{neizraÄunljive funkcije}, v algebri in
% topologiji pa \quot{lastnosti algebraiÄne strukture oz.~topoloÅ¡kega prostora}.

% Skratka, prehod med aksiomatskim sistemom in modeli nam je kot matematikom znan,
% v algebri smo bili z njim vzgojeni Å¾e od malega, a v logiki te sreÄe Å¾al nismo
% imeli. Tako se moramo na stara leta pruiÄiti teh metod, ki so pa logikom brez
% dvoma enako pomembne kot so grupe algebrajikom, ali pa prostori topologom.

% Kot smo pa omenili v uvodu, pa obstajajo modeli logike, ki so zgrajeni iz
% topoloÅ¡kih prostorov. Tem pravimo topoloÅ¡ki modeli, in vse logiÄne trditve v tem
% modelu se prevedejo v topoloÅ¡ke trditve o topoloÅ¡kem prostoru. Sledi naravno
% vpraÅ¡anje, ali lahko vzpostavimo nekak slovar med neodvisnimi trditvami
% (t.~j.~klasiÄnimi principi v konstruktivni logiki) in topoloÅ¡kimi lastnostmi, ki
% so nam znane.

% Do tega se vrnemo kasneje, v naslednjem razdelku, za zdaj nas pa Äaka malo
% teorije snopov, da lahko topoloÅ¡ke modele sploh definiramo.

% TODO: rewrite

% Oglejmo si najprej primer zveznih funkcij iz \(X\) v \(â„\).
% Zanje se vedno lahko vpraÅ¡amo, Äe so pozitivne, negativne, ali so gladke,
% ipd.~vendar nas pogosto zanima tudi \emph{kje} za doloÄeno funkcijo neka
% lastnost velja. Recimo preprosto, da je \(f : â„ â†’ â„\) identiteta. Tedaj je
% pozitivna na \((0,âˆ)\), negativna na \((-âˆ,0)\), gladka pa na celem \(â„\).
% KlasiÄno je pozitivnost funkcije resniÄnostna vrednost. Z drugimi besedami,
% pozitivnost je predikat na (zveznih) realnih funkcijah. Mi pa zares Å¾elimo
% opredeliti, kje ta lastnost velja, ne zgolj Äe velja na celem prostoru.
% Å½elimo torej, da ima ``prava'' pozitivnost vrednosti v podmnoÅ¾icah prostora
% \(X\), in da bo imela topologija \(X\) kaj vpliva naj bodo to zgolj odprte
% podmnoÅ¾ice.

% Å½elimo pa tudi obravnavati funkcije, ki niso definirane na celotni domeni, na
% primer \(x â†¦ xâ»Â¹\). Tako naÅ¡ primer razÅ¡irimo na mnoÅ¾ico vseh funkcij \(U â†’ â„\),
% kjer je \(U âˆˆ ğ’ªX\), in oznaÄimo mnoÅ¾ico vseh teh funkcij z \(R\). Potem pa za
% \(f âˆˆ R\) definiramo \emph{definicijsko obmoÄje} oziroma \emph{razpon} kot
% domeno funkcije \(f\), in ga oznaÄimo \(â€–fâ€–\).
% Na to mnoÅ¾ico lahko sedaj uvedemo predikat enakosti, ki seveda meri, na kateri
% mnoÅ¾ici se dve funkciji ujemata, na oÄiten naÄin:
% \[ âŸ¦f = gâŸ§ = \int\set{t âˆˆ â€–fâ€–âˆ©â€–gâ€–}{f(t) = g(t)}\text. \]

% Ni nakljuÄje, da preslikavam \(R â†’ ğ’ªX\) pravimo predikati, saj se da pokazati,
% da za vsako polno Heytingovo algebro (kar \(ğ’ªX\) je) obstaja nek model
% konstruktivne matematike, tako da so resniÄnostne vrednosti natanko odprte
% mnoÅ¾ice \(X\). V tem smislu \(âŸ¦f = gâŸ§\) predstavlja kar enakost med funkcijami,
% \(â€–fâ€–\) je pa predikat obstoja elementa \(â€–fâ€– = \exist{f : R}{âŠ¤}\). Velja tudi
% enakost \(â€–fâ€– = âŸ¦f = fâŸ§\), torej zares predikata \(â€–-â€–\) ne potrebujemo.

% V sploÅ¡nem, mnoÅ¾icam kot so \(R\), torej takim, da imajo definirano enakost z
% vrednostmi v \(ğ’ªX\) pravimo \emph{Heytingovo vrednotene mnoÅ¾ice},
% \emph{\(ğ’ªX\) vrednotene mnoÅ¾ice}, ali na kratko \emph{\(ğ’ªX\)-mnoÅ¾ice}.

V tem razdelku najprej podrobno opiÅ¡emo, kako interpretiramo logiko odprtih
mnoÅ¾ic v topoloÅ¡kem prostoru samem. Kasneje potem to logiko razÅ¡irimo do logike
viÅ¡jega reda, kar nam tvori \emph{topoloÅ¡ki model}. V tem delu ne razvijemo vseh
detajlov formalno, le predstavimo teorijo topoloÅ¡kih modelov na tak naÄin, da bo
najbolj koristna za rabo v kasnejÅ¡ih poglavjih. Za natanÄne detajle o
intuicionistiÄni logiki delnih elementov si lahko ogledate~\cite{Scott79}. Za
detajle o konstrukciji modelov te logike si lahko ogledate~\cite{FS79}, in za
detajle o bolj raÄunskih lastnostih teh modelov~\cite[pogl.~2.6-2.8]{Borceux94}.

To teorijo se navadno razvija za okoliÅ¡e, ki so alternativen naÄin definicije
topoloÅ¡kega prostora, ki deluje neposredno z odprtimi mnoÅ¾icami. IzkaÅ¾e se, da
lahko veÄ topoloÅ¡kih prostorov predstavlja isti okoliÅ¡, a kljuÄno je, da je ta
okoliÅ¡ natanko Kolmogorovov kvocient teh prostorov, ki je za vse enak. To pa
pomeni, da je naÅ¡a teorija doloÄena le do Kolmogorovovega kvocienta natanÄno,
torej bomo predpostavili, da so vsi naÅ¡i prostori \(Tâ‚€\).

\subsection{Logika odprtih mnoÅ¾ic}\label{sec:modeli-logika-odprtih}

Naj bo \(X\) topoloÅ¡ki prostor. Podrobno si oglejmo kako logiÄne operacije
delujejo v logiki odprtih mnoÅ¾ic.

Ker vsako odprto mnoÅ¾ico interpretiramo kot resniÄnostno vrednost, nam torej
\(U âŠ† X\) predstavlja ``resnico na \(U\)''. To pomeni, da je \emph{resnica}
\(âŠ¤\) kar \(X\), in \emph{neresnica} \(âŠ¥\) \(âˆ…\). Tu smo vzeli prazno mnoÅ¾ico,
ker neresnica ni nikjer res, torej mora imeti resniÄnostno vrednost prazne
mnoÅ¾ice.

NajlaÅ¾je si je to predstavljati na primeru resniÄnostne vrednosti pozitivnosti
realne funkcije \(f : X â†’ â„\). Funkcija \(f\) je pozitivna natanko tedaj, ko je
vrednost \(f > 0\) enaka \(X\). Prav tako bo nepozitivna, ko je vrednost enaka
\(âˆ…\). DrugaÄe reÄeno, je \(f\) pozitivna natanko tedaj, ko je \(f > 0\) res, a
ko \(f > 0\) \emph{ni} res, oziroma, ko je res njena negacija, je funkcija
\emph{nepozitivna}, torej je povsod manjÅ¡a ali enaka \(0\). ÄŒe je pa \(f\) na
primer identiteta \(\id : â„ â†’ â„\), ki ni niti pozitivna, niti nenegativna, je pa
vrednost \(\id > 0\) enaka \(\p{0,âˆ}\), medtem ko je vrednost \(Â¬(\id > 0)\)
enaka \(\p{-âˆ,0}\), ne \((-âˆ,0]\). To je zato, ker je vrednost trditve najveÄja
odprta mnoÅ¾ica, na kateri trditev velja. Na mnoÅ¾ici \((-âˆ,0]\) Å¾e velja
\(Â¬(\id>0)\), a je nad prostorom \(â„\) njena vrednost le \emph{notranjost} te
mnoÅ¾ice. Negacija v logiki odprtih mnoÅ¾ic torej ni komplement! IzkaÅ¾e se, da
moramo vzeti notranjost komplementa, oziroma njeno
\emph{zunanjost}~\angl{exterior}.

Naj bosta \(U\) in \(V\) recimo vrednosti pozitivnosti realnih funkcij \(f\) in
\(g\). Konjunkcijo \(U âˆ§ V\) potem beremo kot ``funkciji \(f\) in \(g\) sta obe
pozitivni'', kar je res natanko na preseku mnoÅ¾ic \(U\) in \(V\). Podobno je
disjunkcija \(U âˆ¨ V\) natanko unija \(U\) in \(V\).
% Za negacijo moramo malo razmisliti. Izraz \(f > 0\) lahko preprosto negiramo, in
% dobimo pogoj \(f â‰¤ 0\), ampak mnoÅ¾ica \(t âˆˆ X\) za katere to drÅ¾i tudi ni odprta
% (in je natanko komplement \(U\), kar bi bil drugi kandidat za negacijo \(U\)).
% Ampak lahko pa vzamemo njeno notranjost, torej ``najveÄjo odprto mnoÅ¾ico, na
% kateri \(f > 0\) ne velja''. Temu se potem reÄe tudi ``zunanjost mnoÅ¾ice
% \(U\)'', oznaÄeno \(\ext{U}\), iz angleÅ¡ko ``\foreignlanguage{english}{exterior}''.

Implikcije med mnoÅ¾icama pa v matematiki ponavadi ne vidimo, tako da nam tudi
naÅ¡a geometrijska slika ne bo veliko pomagala. Implikacija med mnoÅ¾icama
\(A, B âŠ† X\) se definira dokaj intuitivno kot \(\set{x âˆˆ X}{x âˆˆ A â‡’ x âˆˆ B}\).
V klasiÄni metateoriji je potem ta mnoÅ¾ica kar enaka \(B âˆª Aá¶œ\). Res,
implikacija zgoraj je natanko \(x âˆˆ B âˆ¨ x âˆ‰ A\), oziroma \(x âˆˆ B âˆª Aá¶œ\). Ampak
ta mnoÅ¾ica za \(U\) in \(V\) ni nujno odprta, tako da moramo spet vzeti njeno
notranjost, torej \(U â‡’ V\) je \(\int{\p{V âˆª Uá¶œ}}\).
Implikacijo bi lahko tudi definirali drugaÄe, saj se izkaÅ¾e, da je natanko
karakterizirana z naslednjo lemo.
\begin{lema}
  Za vsak \(W âˆˆ ğ’ªX\) je \(W âŠ† U â‡’ V\) natanko tedaj, ko je \(W âˆ© U âŠ† V\).
\end{lema}
\begin{dokaz}
  Najprej preoblikujmo desno vsebovanost, saj lahko reÄemo da Å¾e na nivoju
  mnoÅ¾ic, velja, da je \(W âˆ© U âŠ† V\) natanko tedaj, ko je \(W âŠ† V âˆª Uá¶œ\).
  Potem je pa po definiciji \(U â‡’ V\) najveÄja odprta podmnoÅ¾ica \(V âˆª Uá¶œ\),
  tako da bo gornja ekvivalenca oÄitno veljala, v eno smer ker je
  \(U â‡’ V âŠ† V âˆª Uá¶œ\), v drugo smer pa ker je to najveÄja taka mnoÅ¾ica.
\end{dokaz}

V klasiÄni matematiki se pogosto reÄe, da je implikacija \(U â‡’ V\) kar
definirana kot \(V âˆ¨ Â¬U\), torej \(V âˆª \int{\p{Uá¶œ}}\), ampak to v tem primeru ne
drÅ¾i, kar vemo tudi iz konstruktivne matematike. Res, pokaÅ¾emo lahko, da Äe
velja \(U â‡’ V = V âˆ¨ Â¬U\), velja princip izkljuÄene tretje moÅ¾nosti.Za
implikacijo si verjetno Å¾elimo, da velja \(U â‡’ U\) za vse \(U\). Ampak Äe velja
gornja enakost, bi to pomenilo, da velja \(U âˆ¨ Â¬U\) za vse \(U\), kar je pa
natanko princip izkljuÄene tretje moÅ¾nosti.
% Naj bo recimo \(X\) prostor
% Sierpinskijeva, torej prostor z dvema toÄkama \(0\) in \(1\), kjer je zgolj
% toÄka \(1\) odprta. Potem je pa negacija \(U â‰” \{1\}\) prazna mnoÅ¾ica, in je
% \(U âˆ¨ Â¬U = U â‰  X\). Logika tega prostora ni klasiÄna, in tam gornja enakost ne
% velja.
Imamo torej sledeÄi slovar:
\begin{table}[h]
  \centering
  \begin{tabularx}{0.5\textwidth}{C|C}
    Logika    & Topologija\\
    \hline
    \(âŠ¤\)     & \(X\)\\
    \(âŠ¥\)     & \(âˆ…\)\\
    \(U âˆ§ V\) & \(U âˆ© V\)\\
    \(U âˆ¨ V\) & \(U âˆª V\)\\
    \(Â¬U\)    & \(\ext{U}\)\\
    \(U â‡’ V\) & \(\int{\p{V âˆª Uá¶œ}}\)
  \end{tabularx}
  
  \caption{Slovar za logiko odprtih mnoÅ¾ic}
  \label{tab:logic-opens-dict}
\end{table}
Na oÄiten naÄin logiki dodamo tudi \(â‡”\) kot konjunkcijo implikacij.

V nadaljevanju bomo raje pisali logiÄne simbole, razen kjer govorimo konkretno o
operacijah na toÄkah prostora. Glavni razlog za to je, da se Å¾elimo zanaÅ¡ati na
intuicijo iz logike, kar bo pomagalo pri razumevanju motivacije veÄine
definicij. Imamo pa Å¡e skrivni razlog za to, ki ga bomo razkrili kasneje.
To tudi pomeni, da bomo namesto \(âŠ†\) pisali \(â‰¤\).

\begin{opomba}
  Ker je \(Wâˆ§U â‰¤ V\) natanko tedaj ko je \(W â‰¤ Uâ‡’V\), je \(U â‰¤ V\) natanko
  tedaj, ko velja \(âŠ¤ = Uâ‡’V\), torej ko je \(Uâ‡’V\) ``res''. To pa pomeni, da
  lahko na \(U â‰¤ V\) gledamo kot ``iz \(U\) sledi \(V\)''.
\end{opomba}

S tem smo vsakemu prostoru priredili izjavni raÄun, sedaj bi pa Å¾eleli
to logiko obogatiti do logike prvega (in nato viÅ¡jega) reda.
Do neke mere lahko tudi povemo, kaj so kvantifikatorji v tej logiki, le da lahko
kvantificiramo zgolj po resniÄnostnih vrednostih.
Naj bo \(P\) predikat na \(ğ’ªX\). IzkaÅ¾e se, da lahko te interpretiramo kot
funkcije tipa \(ğ’ªX â†’ ğ’ªX\).
Najprej, Äe Å¾elimo najti, na kateri mnoÅ¾ici je \(P\) res za vse \(U âˆˆ ğ’ªX\),
moramo najti najveÄjo odprto mnoÅ¾ico, ki je vsebovana v vsakem \(P(U)\), kar je
natanko notranjost preseka teh mnoÅ¾ic.
Obstoj je malo bolj kompliciran. Vrnimo se nazaj na primer, kjer so resniÄnostne
vrednosti pozitivnost realnih funkcij. Potem bi ``obstaja \(f\), da je
\(f > 0\) in velja \(P(f)\)'' lahko interpretirali kot da iÅ¡Äemo pozitivno funkcijo
\(f\), za katero velja \(P\). Ampak bolj skladno z razpravo zgoraj bi bilo, da
iÅ¡Äemo najveÄjo odprto mnoÅ¾ico, na kateri kak tak \(f\) zadoÅ¡Äa \(P(f)\).
NajveÄja odprta mnoÅ¾ica je pa kar unija vseh odprtih, kjer to velja, in to
gotovo velja na vsakem \(P(f)\). Sledi, da je vrednost tega obstoja natanko unija
\(P(f)\). To se potem tudi sklada z intuicijo, da je eksistenÄni kvantifikator
nekakÅ¡na neskonÄna disjunkcija, saj smo tudi to interpretirali kot unijo.
V sploÅ¡nem sta pravili interpretacije univerzalnih kvantifikatorjev torej sledeÄi.
\begin{align*}
  \for{p : Î©}{P(p)}   &â‰” \int{\parens[\bigg]{â‹‚_{U âˆˆ ğ’ªX}P(U)}}\\
  \exist{p : Î©}{P(p)} &â‰” â‹ƒ_{U âˆˆ ğ’ªX}P(U)
\end{align*}
Nekaj primerov formul, ki uporabljajo kvantifikatorje bi bili na primer
\(\for{p:Î©}{pâˆ¨Â¬p}\) ali \(\for{p:Î©}{\exist{q:Î©}{p â‡” Â¬q}}\). Prva je recimo
princip izkljuÄene tretje moÅ¾nosti, druga pa nima posebnega imena, a pravi, da
je vsaka resniÄnostna vrednost negacija. IzkaÅ¾e se, da Äeprav ti formuli
konstruktivno \emph{nista} ekvivalentni, karakterizirata enake topoloÅ¡ke
prostore. Dokaz tega dejstva se nahaja v~\cite[izr.~2.1]{GJ08}
% Zares bi lahko rekli tudi malo veÄ. ÄŒe je \(A\) poljubna mnoÅ¾ica in \(P\)
% podobno kot zgoraj tipa \(A â†’ ğ’ªX\), lahko definiramo \(\for{a : \c A}{P(a)}\)
% kot \(\int{\p{â‹‚_{a âˆˆ A}P(a)}}\). Tu v bistvu mnoÅ¾ico \(A\) v naÅ¡o logiko vloÅ¾imo
% kot diskreten prostor (oznaÄen \(\c A\)), kar dela dobro za na primer mnoÅ¾ico
% naravnih Å¡tevil, se pa izkaÅ¾e, da za recimo realna Å¡tevila ne deluje. Res,
% realna Å¡tevila (v veÄini logik) ne bodo diskreten prostor! Si bomo pa vseeno
% podrobneje pogledali kdaj toÄno so, saj se izkaÅ¾e, da ima to zanimive posledice.

\begin{lema}
  Za \(U âˆˆ ğ’ªX\) velja \(X = Uâˆ¨Â¬U\), natanko tedaj, ko je \(U\) zaprta.
\end{lema}
\begin{dokaz}
  Interpretacija \(Uâˆ¨Â¬U\) je \(U âˆª \int{Uá¶œ}\). ÄŒe je \(U\) zaprta, je
  \(Â¬U = Uá¶œ\) in je \(Uâˆ¨Â¬U = X\). Obratno, ker je \(U âŠ¥ Â¬U\), Äe je
  \(X = Uâˆ¨Â¬U\), mora biti \(Â¬U=Uá¶œ\), in je \(U\) zaprta.
\end{dokaz}

\begin{trditev}\label{th:lem-is-discrete}
  Nad topoloÅ¡kim prostorom velja princip izkljuÄene tretje moÅ¾nosti natanko
  tedaj, ko je prostor diskreten.
\end{trditev}
\begin{dokaz}
  Princip izkljuÄene tretje moÅ¾nosti pravi, da velja formula
  \(\for{p : Î©}{p âˆ¨ Â¬p}\). Po gornji lemi to pomeni, da je vsaka odprta mnoÅ¾ica
  zaprta. 

  Naj bo \(t âˆˆ X\) in \(s âˆˆ \cl\{t\}â§µ\{t\}\). Potem po \(Tâ‚€\) lastnosti obstaja
  odprta mnoÅ¾ica, ki ju loÄuje. Ampak ker je \(s\) v zaprtju \(t\) mora biti ta
  odprta mnoÅ¾ica okolica \(t\). Ta je po predpostavki potem zaprta, torej vsebuje
  \(\cl\{t\}\). Ampak to je protislovno, saj ne sme vsebovati toÄke \(s\).
  Sledi, da taka toÄka \(s\) ne obstaja, torej je \(\cl\{t\} = \{t\}\), in je po
  prepostavki prostor diskreten.
\end{dokaz}

\begin{definicija}
  Prostor je \emph{ekstremalno nepovezan}, ko je zaprtje vsake odprte mnoÅ¾ice
  odprto.
\end{definicija}
\begin{trditev}\label{th:wlem-is-ext-disc}
  Nad topoloÅ¡kim prostorom velja DeMorganov zakon natanko tedaj, ko je prostor
  ekstremalno nepovezan.
\end{trditev}
\begin{dokaz}
  DeMorganov zakon je ekvivalenten trditvi \(\for{p : Î©}{Â¬p âˆ¨ Â¬Â¬p}\), kar pa
  po gornji lemi pravi, da so vse zunanjosti mnoÅ¾ic zaprte. To pa pomeni, da so
  njihovi komplementi, torej zaprtja mnoÅ¾ic odprta, kar je natanko kar smo
  Å¾eleli.
\end{dokaz}
Å½al za te prostore tudi Äe predpostavimo, da je prostor \(Tâ‚€\), nimamo boljÅ¡e
karakterizacije.


\subsection{Heytingovo vrednotene mnoÅ¾ice}\label{sec:modeli-heyting}

Oglejmo si spet primer naravnih Å¡tevil nad nekim prostorom \(X\). To bodo zvezne
preslikave iz odprtih podmnoÅ¾ic \(X\) v \(â„•\). Najprej lahko vsaki taki
preslikavi dodelimo ``resniÄnostno vrednost obstoja'', oziroma \emph{razpon}, ki
bo kar njena domena. To oznaÄimo z \(â€–-â€–\). ÄŒe je \(n : U â†’ â„•\), potem \(n\)
obstaja zgolj na \(U\), saj izven \(U\) nima vrednosti. RazliÄni taki naravni
Å¡tevili lahko tudi primerjamo, tako da preprosto pogledamo mnoÅ¾ico, na kateri
sta enaki: \(âŸ¦n = mâŸ§ = \set{t âˆˆ \e n âˆ© \e m}{n(t) = m(t)}\), kjer seveda pazimo,
da \(t\) jemljemo zgolj iz razpona obeh Å¡tevil. NaÄeloma bi morali vzeti
notranjost te mnoÅ¾ice, saj morajo biti resniÄnostne vrednosti odprte, ampak v
tem primeru, ker so funkcije lokalno konstantne, bo ta mnoÅ¾ica odprta. Potem pa
se izkaÅ¾e, da velja enakost \(âŸ¦n = nâŸ§ = \e n\), tako da Äe znamo primerjati
vsa Å¡tevila, lahko izpeljemo tudi razpon, kar bomo tudi vzeli kot osnovni
gradnik naÅ¡ih objektov.

Kot omenjeno zgoraj, se topoloÅ¡ke modele konstruira iz okoliÅ¡ev, tako da bomo to
na skrivaj storili tudi mi. Topologija vsakega topoloÅ¡kega prostora je namreÄ
okoliÅ¡, tako da izvedimo konstrukcijo za polno Heytingovo algebro \(â„’\), ki si
lahko mislimo, da je enaka \(ğ’ªX\).
\begin{definicija}\label{def:â„’set}
  \emph{Heytingovo vrednotena mnoÅ¾ica} oziroma \emph{tip} je mnoÅ¾ica \(A\),
  skupaj s preslikavo, ki jo piÅ¡emo \(âŸ¦- = -âŸ§ : AÃ—A â†’ â„’\), tako da velja
  \begin{align*}
    âŸ¦ a = b âŸ§ â‰¤ âŸ¦ b = a âŸ§\\
    âŸ¦ a = b âŸ§ âˆ§ âŸ¦ b = c âŸ§ â‰¤ âŸ¦ a = c âŸ§
  \end{align*}
  ÄŒe iz konteksta ni razvidno kateri mnoÅ¾ici pripada preslikava \(âŸ¦- = -âŸ§\),
  jo piÅ¡emo z indeksom \(âŸ¦- =_A -âŸ§\). Prav tako bomo po potrebi mnoÅ¾ici \(A\)
  pravili \emph{mnoÅ¾ica elementov (tipa A)}.

  Kot zgoraj naj bo \(â€–aâ€– â‰” âŸ¦a = aâŸ§\) \emph{razpon \(a\)}.
\end{definicija}

ÄŒe \(â‰¤\) beremo kot logiÄno implikacijo, zgornja aksioma zgledata zelo podobno
aksiomoma simetriÄnosti in tranzitivnosti relacije \(=\), tako da bi lahko
rekli, da so tipi natanko mnoÅ¾ice opremljene z (interno) delno ekvivalenÄno
relacijo.

\begin{primer}
  Na \(\set{f : U â†’ â„•}{U âˆˆ â„’\text{, }f\text{ lokalno konstantna}}\) lahko
  definiramo enakost
  \[ âŸ¦n = mâŸ§ = \set{t âˆˆ X}{n(t) = m(t)}\text. \]
  To je tip, ki ga bomo oznaÄili z \(ğ’©\).
\end{primer}

\begin{primer}\label{ex:reals}
  Na \(\set{f : U â†’ â„}{U âˆˆ â„’\text{, }f\text{ zvezna}}\) lahko definiramo enakost
  \[ âŸ¦f = gâŸ§ = \int{\p{\set{t âˆˆ X}{f(t) = g(t)}}}\text. \]
  To je tip, ki ga bomo oznaÄili z \(â„›\).
  %, oziroma z \(â„_d\), saj se
  %izkaÅ¾e, da je to objekt dedekindovih realnih Å¡tevil v internem svetu.
\end{primer}

Gornja dva primera sta primera bolj sploÅ¡ne konstrukcije, saj so zvezne
preslikave v \(â„•\) lokalno konstantne (in lokalno konstantne so oÄitno zvezne).
Tej konstrukciji v sploÅ¡nem pravimo \emph{snop lokalnih prerezov}. SpecifiÄno so
njeni elementi lokalni prerezi preslikave \(Ï€ : XÃ—A â†’ X\). Ta konstrukcija dela
le za topoloÅ¡ke prostore, in je naravni naÄin kako topoloÅ¡ki prostor \(A\)
``internalizirati''. Je pa vredno omeniti, da lahko vsakemu tipu priredimo
priredimo tak topoloÅ¡ki prostor, da bo snop lokalnih prerezov izomorfen
zaÄetnemu tipi. Detajle o tem si lahko ogledate v~\cite[pogl.~2]{MM92}, kjer
izvedejo konstrukcijo prostora, in~\cite[pogl.~4]{FS79}
ali~\cite[pogl.~2.6-2.8]{Borceux94}, kjer pokaÅ¾ejo ekvivalenco med Heytingovo
vrednotenimi mnoÅ¾icami in snopi, kot so definirani v prvem viru.

Struktura Heytingovo vrednotenih mnoÅ¾ic pa zajema veÄ kot le snope lokalnih
prerezov.

\begin{konstrukcija}
  MnoÅ¾ica \(âˆ…\) je tip. MnoÅ¾ica \(\{*\}\) z enakostjo \(\i{*=*} = X\) je tip, ki
  ga oznaÄimo z \(\bb 1\). Pravimo jima \emph{prazen tip} in \emph{tip z enim
    elementom}.
\end{konstrukcija}
\begin{dokaz}
  OÄitno je enakost na \(\{*\}\) simetriÄna in tranzitivna. Prav tako ima
  mnoÅ¾ica \(âˆ…\) za enakost prazno preslikavo, ki na prazno zadoÅ¡Äa pogojema.
\end{dokaz}

\begin{primer}
  MnoÅ¾ica \(â„•\) skupaj z enakostjo definirano kot
  \[ âŸ¦n = mâŸ§ â‰”
    \begin{cases}
      X &; n = m\\
      âˆ… &; n â‰  m
    \end{cases}
  \]
  je tip, ki ga bomo oznaÄevali z \(\c â„•\).
\end{primer}

Ti primeri so primeri bolj sploÅ¡ne konstrukcije imenovane \emph{konstantni tipi}.
\begin{konstrukcija}\label{def:constant-hvs}
  Naj bo \(A\) mnoÅ¾ica in enakost na njej definirana kot zgoraj, torej
  \(\i{a = b} â‰” â‹ƒ\set{X}{a = b}\). To je tip, ki ga oznaÄimo \(\c A\).
\end{konstrukcija}
\begin{dokaz}
  MnoÅ¾ica \(\i{a = b}\) bo \(X\) natanko tedaj, ko je \(\i{b = a} = X\), tako da
  je enakost simetriÄna.

  ÄŒe je \(\i{a = b} âˆ§ \i{b = c} = X\), vemo, da je \(a = b = c\), torej je
  \(\i{a = c} = X\). ÄŒe pa je ta presek prazen, bo pa gotovo manjÅ¡i od Äesarkoli
  na desni strani.
\end{dokaz}
Ko ne bo dvoumno bomo podÄrtaj na konstantnih tipih opuÅ¡Äali.

Te nam sluÅ¾ijo kot vloÅ¾itve navadnih mnoÅ¾ic v notranji svet topoloÅ¡kega modela.
Najbolj prav to pride, ko imamo druÅ¾ino elementov tipa, in jo Å¾elimo smatrati
kot druÅ¾ino tudi znotraj modela.

Poznamo pa tudi primere, ki pa ne spadajo v gornje kategorije.
\begin{primer}
  MnoÅ¾ica \(â„’\) skupaj z enakostjo \(\i{p = q} â‰” p â‡” q\) je tip. OznaÄimo ga z
  \(Î©\), saj so njeni elementi natanko resniÄnostne vrednosti naÅ¡e logike.
\end{primer}

Ampak naÅ¡a motivacija za definicijo Heytingovo vrednotenih mnoÅ¾ic so bile ravno
mnoÅ¾ice zveznih preslikav, kar te niso.
To je zato, ker imajo zvezne funkcije Å¡e dve pomembni lastnosti, ki jih v
strukturi sami ne zajamemo.
PrviÄ, funkcije lahko zoÅ¾amo. To preprosto pomeni, da Äe vrednost obstaja na
neki odprti mnoÅ¾ici, potem obstaja tudi na vsaki manjÅ¡i odprti mnoÅ¾ici.
DrugiÄ, Äe imamo druÅ¾ino zveznih funkcij, ki se paroma ujemajo na presekih
njihovih domen, jih lahko enoliÄno zlepimo v zvezno funkcijo, definirano na
uniji njihovih domen. V primeru zveznih funkcij v naravna Å¡tevila je ta lastnost
zelo zanimiva, saj je vsaka lokalno konstantna funkcija tak zlepek konstantnih
funkcij. Potem pa Äe to zdruÅ¾imo Å¡e z zoÅ¾itvami, lahko reÄemo, da je vsaka
funkcija \(U â†’ â„•\) zlepek zoÅ¾itev konstantnih funkcij \(X â†’ â„•\).
Tako lahko na nek naÄin reÄemo, da so zvezne funkcije v naravna Å¡tevila
``generirane'' z mnoÅ¾ico naravnih Å¡tevil samo.
To pa zares pomeni, da je \(ğ’©\) nekakÅ¡na \emph{napolnitev} tipa \(\c â„•\).

Torej ne bomo zahtevali, da so naÅ¡i objekti zaprti za zoÅ¾itve in lepljenje, saj
jih lahko vedno napolnimo. IzkaÅ¾e pa se, da nam to ustvari nekaj teÅ¾av pri
definiciji funkcij.
Å½eleli bi, da bi preslikave zadoÅ¡Äale dvem pogojem. PrviÄ, upali bi, da nekako
spoÅ¡tujejo enakosti na tipih, torej da velja \(\i{a=a'} â‰¤ \i{f(a) = f(a')}\).
Poleg tega pa, bi priÄakovali, da Äe \(a\) obstaja, bi obstajal tudi \(f(a)\),
oziroma da velja \(\e a â‰¤ \e{f(a)}\). IzkaÅ¾e pa se, da to ne bo zajelo vseh
moÅ¾nih preslikav, ki bi jih Å¾eleli definirati.

\begin{primer}\label{ex:one-to-one}
  Naj bo \(\p{2, ğ’«2}\) diskreten prostor na dveh toÄkah.
  Tip \(A\) naj ima dva elementa, \(aâ‚€\) in \(aâ‚\), definirana v vsaki od toÄk
  prostora. Prvi problem je, da tip \(A\) sploh nima elementa, ki bi obstajal na
  celem prostoru. A vendar lahko definramo relacijo \(R(*,aáµ¢)â‰”\{i\}\), ki se
  izkaÅ¾e da je funkcijska na primeren naÄin. Ta se obnaÅ¡a, kot da slika \(*\) na
  \(0\) v \(aâ‚€\) in na \(1\) v \(aâ‚\). Ampak oÄitno taka preslikava ne obstaja
  kot funkcija \(\bb 1 â†’ A\).
\end{primer}

To nam da idejo, da lahko preslikave definiramo kot funkcijske relacije, seveda
spet vrednostene v logiki odprtih mnoÅ¾ic.

Definirajmo najprej, kaj pomeni, da je neka presliakva z vrednostmi v \(â„’\)
relacija. Prav tako definirajmo kaj pomeni, da je preslikava med tipi operacija.
Te porodijo poseben primer morfizmov, ki pa dejansko so funkcije med mnoÅ¾icami
elementov.
\begin{definicija}
  Preslikava \(R : Aâ‚Ã—\dotsÃ—Aâ‚™ â†’ â„’\) je \emph{relacija na \(Aâ‚Ã—\dotsÃ—Aâ‚™\)}, ko
  velja
  \begin{align*}
    \i{aâ‚ = aâ‚'} âˆ§ \dots âˆ§ \i{aâ‚™ = aâ‚™'} âˆ§ R(aâ‚,â€¦,aâ‚™) â‰¤ R(aâ‚',â€¦,aâ‚™')\text{ in}\\
    R(aâ‚,â€¦,aâ‚™) â‰¤ \e{aâ‚}âˆ§\dotsâˆ§\e{aâ‚™}\text.
  \end{align*}
  Relacijam na \(AÃ—B\) bomo pravili tudi \emph{relacije med \(A\) in \(B\)}.

  Preslikava \(f : Aâ‚Ã—\dotsÃ—Aâ‚™ â†’ B\) je \emph{operacija tipa \(Aâ‚Ã—\dotsÃ—Aâ‚™ â†’ B\)},
  ko velja 
  \begin{align*}
    \i{aâ‚ = aâ‚'} âˆ§ \dots âˆ§ \i{aâ‚™ = aâ‚™'} â‰¤ f(aâ‚,â€¦,aâ‚™) = f(aâ‚',â€¦,aâ‚™')\text{ in}\\
    f(aâ‚,â€¦,aâ‚™) â‰¤ \e{aâ‚}âˆ§\dotsâˆ§\e{aâ‚™}\text.
  \end{align*}
  PiÅ¡imo \(f : Aâ‚Ã—\dotsÃ—Aâ‚™ â† B\).
\end{definicija}

\begin{definicija}\label{def:â„’map}
  \emph{Morfizem} med tipoma \(A\) in \(B\) je relacija \(f\) med \(A\) in
  \(B\), za katero velja
  \begin{align}
    &f(a,b) âˆ§ f(a,b') â‰¤ \i{b =_B b'} \tag{enoliÄnost}\label{eq:enoliÄnost-raw}\\
    &\e a â‰¤ â‹_{b âˆˆ B} f(a,b)         \tag{celovitost}\label{eq:celovitost-raw}
  \end{align}

  Ker so morfizmi torej funkcijske relacije, jih bomo pisali v funkcijskem
  zapisu kot \(f : A â†¬ B\).
\end{definicija}
Vseeno pa bomo internem jeziku na \(â‹_{b âˆˆ B} Ï†(b)\) gledali kot eksistenÄni
kvantifikator, torej celovitost res pravi, da obstaja nek \(b\), ki je slika
elementa \(a\). To nam bo kasneje omogoÄilo, da na morfizme gledamo kot
operacije. Ampak, ne prenaglimo se, povejmo najprej toÄno, kaj ta interni jezik
sploh je.


\subsubsection{Interni jezik}

Uvedimo oznako za interpretacijo logiÄnih formul kot odprte mnoÅ¾ice, t.~j.~za
formulo \(Ï†\) oznaÄimo njeno interpretacijo kot \(âŸ¦Ï†âŸ§\). Ta je namerno enaka
enakosti, saj bomo enakosti v internem jeziku intepretirali kot enakosti na
Heytingovo vrednotenih mnoÅ¾icah. Kot lahko sklepate, bomo v to logiko dodali
Heytingovo vrednotene mnoÅ¾ice kot \emph{tipe}. Definirajmo najprej, kaj pomeni,
da je v internem jeziku nek izraz \emph{term} tipa \(A\).
% Spomnimo se sedaj tabele za logiko odprtih mnoÅ¾ic, z novim zapisom:
% \begin{center}
%   \begin{tabularx}{0.6\textwidth}{p{0.2\textwidth}|X}
%     \(âŸ¦âŠ¤âŸ§\)     & \(â‰” X\)\\
%     \(âŸ¦âŠ¥âŸ§\)     & \(â‰” âˆ…\)\\
%     \(âŸ¦U âˆ§ VâŸ§\) & \(â‰” U âˆ© V\)\\
%     \(âŸ¦U âˆ¨ VâŸ§\) & \(â‰” U âˆª V\)\\
%     \(âŸ¦Â¬UâŸ§\)    & \(â‰” \ext{U}\)\\
%     \(âŸ¦U â‡’ VâŸ§\) & \(â‰” \int{\p{V âˆª Uá¶œ}}\)
%   \end{tabularx}
% \end{center}
% Torej, vse je enako kot prej, ampak sedaj lahko naÅ¡emu jeziku dodamo Å¡e
% Heytingovo vrednotene mnoÅ¾ice. Najprej, interpretirajmo terme jezika.

Nek izraz je term tipa \(A\), ko ga lahko \emph{skonstruiramo} na enega od
sledeÄih naÄinov. NajosnovnejÅ¡i naÄin je, da vzamemo kar dobesedne elemente tipa
\(A\). ÄŒe imamo operacijo tipa \(B â†’ A\), jo lahko uporabimo na nekem obstojeÄem
termu tipa \(B\), da dobimo term tipa \(A\). Poleg tega pa se v izrazih lahko
pojavljajo spremenljivke, recimo v kvantificiranih izrazih. Te interpretiramo
kot spremenljivke istega tipa v zunanjem svetu. Zares bi lahko v jezik uvedli
polnomoÄen \(Î»\) raÄun, a to ni potrebno.
% TODO: to bi loh nardil, ampak rabim like, enkrat.
% Ker je naÅ¡ jezik zelo osnoven, bo to
% vse, bomo pa kasneje uvedli polnomoÄen \(Î»\) raÄun, kar nam bo olajÅ¡alo delo z
% jezikom.

Naj \(Ï„ : A\) pomeni ``term \(Ï„\) je tipa \(A\)'' in za \(Ï„ : A\) induktivno
definiramo \(\i Ï„_A\) kot element (ali izraz s prosto spremenljivko) tipa \(A\),
glede na tabelo~\ref{tab:int-term}.

\begin{table}[h]
  \centering
  \begin{align*}
    &\i a_A â‰” a \text{, za \(a âˆˆ A\)}\\
    &\i x_A â‰” x \text{, za spremenljivko \(x\) tipa \(A\)}\\
    &\i{f(Î²)}_A â‰” f{\p{\i Î²_B}} \text{, za operacijo \(f : B â†’ A\) in \(Î² : B\)}
  \end{align*}

  \caption{Interpretacija termov v internem jeziku}
  \label{tab:int-term}
\end{table}

Prav tako induktivno definiramo interpretacijo formul s \(\i -\).

\begin{table}[h]
  \centering
  \begin{tabularx}{0.8\textwidth}{p{0.2\textwidth}|c}
    Interna logika          & Topologija\\
    \hline
    \(âŠ¤\)                   & \(X\)\\
    \(âŠ¥\)                   & \(âˆ…\)\\
    \(Ï† âˆ§ Ïˆ\)               & \(\i Ï† âˆ© \i Ïˆ\)\\
    \(Ï† âˆ¨ Ïˆ\)               & \(\i Ï† âˆª \i Ïˆ\)\\
    \(Â¬Ï†\)                  & \(\ext{\i Ï†}\)\\
    \(Ï† â‡’ Ïˆ\)               & \(\int{\p{\i Ïˆ âˆª {\i Ï†}á¶œ}}\)\\
    \(\for{x : A}{Ï†(x)}\)   & \(\int{\p{â‹‚_{a âˆˆ A}\i{\e a â‡’ Ï†(a)}}}\)\\
    \(\exist{x : A}{Ï†(x)}\) & \(â‹ƒ_{a âˆˆ A}\i{\e a âˆ§ Ï†(a)}\)\\
    \(Ï„ = Ïƒ\)               & \(\i{\i Ï„_A = \i Ïƒ_A}\)\\
    %\(\i{\e Ï„}\)                & \(â‰” \e{\i Ï„}\)\\
    %\(\i{Ï„ \sim f(Ïƒ)}\)         & \(â‰” \i{\i Ï„ \sim f(\i Ïƒ)}\)\\
    \(R(Ï„)\)                & \(R{\p{\i Ï„_A}}\), kjer je \(R\) relacija na \(A\)
  \end{tabularx}

  \caption{Interpretacija formul v internem jeziku}
  \label{tab:int-sent}
\end{table}
\begin{opomba}
  Vsi morfizmi so relacije torej jih v interni jezik dodamo kot relacijske
  simbole. Prav tako je \(\e -\) relacija, saj velja
  \(\i{a = a'}âˆ§\e{a'} â‰¤ \e a\) in \(\e a â‰¤ \e a\), tako da tudi to dodamo kot
  relacijski simbol.
\end{opomba}
\begin{opomba}    
  Vredno je tudi omeniti, da so enakosti Heytingovo vrednotenih mnoÅ¾ic tudi
  relacije, in da je njihova interpretacija kot enakost in kot relacija enaka.
\end{opomba}

\begin{definicija}\label{def:valid}
  Formula \(Ï†\) brez prostih spremenljivk je \emph{veljavna na \(U\)} (piÅ¡emo
  \(U âŠ© Ï†\)), ko je \(\i Ï† â‰¥ U\).

  Formula \(Ï†\) je \emph{veljavna} ko je veljavna na \(X\), in to bomo pisali
  tudi kot \(âŠ© Ï†\).
\end{definicija}

\begin{trditev}\label{th:valid-res}
  Veljavnost lakho zoÅ¾imo, torej Äe velja \(U âŠ© Ï†\) in je \(V âŠ† U\), velja tudi
  \(V âŠ© Ï†\).
\end{trditev}
\begin{dokaz}
  Po definiciji \(V âŠ† U âŠ† \i Ï†\).
\end{dokaz}

\begin{trditev}\label{th:valid-glue}
  Veljavnost lahko lepimo, torej Äe je \(C\) pokritje \(U\), in za vsak
  \(V âˆˆ C\) velja \(V âŠ© Ï†\), velja tudi \(U âŠ© Ï†\).
\end{trditev}
\begin{dokaz}
  ÄŒe za vsak \(V âˆˆ C\) velja \(V âŠ† \i Ï†\), bo \(\i Ï†\) veÄji tudi od njihove
  unije, kar je pa natanko \(U\).
\end{dokaz}
To nam da zanimivo posledico, da je veljavnost ekvivalentna lokalni veljavnosti.
\begin{definicija}
  Zunanji predikat \(P : â„’ â†’ \{âŠ¤,âŠ¥\}\) je na \(U\) \emph{lokalno ali sÄasoma res}
  (piÅ¡emo \(\eventually{V âŠ† U}{P(V)}\)), ko obstaja pokritje \(C\) mnoÅ¾ice
  \(U\), tako da za vsak element pokritja velja \(P(V)\).
\end{definicija}
Tukaj bo bil \(P(V)\) najpogosteje oblike \(\exist{aâˆˆA}{V âŠ© \e a âˆ§ Ï†(a)}\).
V tem primeru bomo v naravnem jeziku pravili ``sÄasoma na V obstajaâ€¦''.

Ampak za \(P(V) â‰” V âŠ© Ï†\) nam pa gornji pojem povzame trditvi~\ref{th:valid-res}
in~\ref{th:valid-glue}.
\begin{posledica}\label{th:valid-local}
  \(U âŠ© Ï†\) natanko tedaj ko \(\eventually{V âŠ† U}{V âŠ© Ï†}\).
\end{posledica}

\begin{trditev}
  Veljavnost formule se lahko raÄuna po tabeli~\ref{tab:kj-sem}.
  \begin{table}[h]
    \centering
    \begin{tabularx}{0.9\textwidth}{p{0.25\textwidth}X}
      \(U âŠ© âŠ¤\)                   & vedno\\
      \(U âŠ© âŠ¥\)                   & ko je \(U = âˆ…\)\\
      \(U âŠ© Ï† âˆ§ Ïˆ\)               & ko \(U âŠ© Ï†\) in \(U âŠ© Ïˆ\)\\
      \(U âŠ© Ï† âˆ¨ Ïˆ\)               & ko
                                    \(\eventually{V âŠ† U}{V âŠ© Ï†\text{ ali }V âŠ© Ïˆ}\)\\ 
      \(U âŠ© Ï† â‡’ Ïˆ\)               & ko za vsak \(V âˆˆ ğ’ªU\) velja, da iz \(V âŠ© Ï†\)
                                    sledi \(V âŠ© Ïˆ\)\newline
                                    ali ko velja \(Uâˆ©\i Ï† âŠ© Ïˆ\)\\
      \(U âŠ© Â¬Ï†\)                  & ko za vsak \(V âˆˆ ğ’ªU\) velja, da iz \(V âŠ© Ï†\)
                                    sledi \(V = âˆ…\)\newline
                                    ali ko velja \(U âŠ¥ \i Ï†\)\\
      \(U âŠ© \for{x : A}{Ï†(x)}\)   & ko za vsak \(a âˆˆ A\) velja \(U âˆ© \e a âŠ© Ï†(a)\)\\
      \(U âŠ© \exist{x : A}{Ï†(x)}\) & ko \(\eventually{V âŠ† U}{\exist{a âˆˆ A}{V âŠ† \e a
                                    \text{ in } V âŠ© Ï†(a) }}\)
    \end{tabularx}

    \caption{Veljavnost formul oziroma Kripke-Joyalova semantika}
    \label{tab:kj-sem}
  \end{table}
\end{trditev}
\begin{dokaz}
  VeÄina toÄk zgoraj je oÄitna, tako da se osredotoÄimo zgolj na disjunkcijo in
  obstoj.
  
  Pri disjunkciji po definiciji \(U âŠ© Ï† âˆ¨ Ïˆ\) velja, ko je \(U â‰¤ \i Ï† âˆª \i Ïˆ\), torej, ko
  \(\i Ï†\) in \(\i Ïˆ\) pokrivata prostor. Ampak, oÄitno velja \(\i Ï† âŠ© Ï†\) in
  \(\i Ïˆ âŠ© Ïˆ\), torej obstaja Å¾eleno pokritje.
  Obratno pa, Äe vzamemo vse elemente pokritja, na katerih velja \(Ï†\), bo \(Ï†\)
  veljal tudi na njihovi uniji, tako da Äe tako pokritje obstaja, bi ga vedno lahko
  zamenjali s pokritjem \(\{\i Ï†, \i Ïˆ\}\).

  Situacija z obstojem je popolnoma analogna, saj pogoj na desni pravi natanko,
  da mnoÅ¾ice \(\i{\e a âˆ§ Ï†(a)}\) pokrivajo \(U\).
\end{dokaz}
\begin{opomba}
  Pri implikaciji imamo dva naÄina, kako jo dokazati. IzkaÅ¾e se, da je v
  razliÄnih primerih laÅ¾je uporabiti razliÄne naÄine. Ponavadi, Äe sta izraza
  \(Ï†\) in \(Ïˆ\) dokaj preprosta, bo drugi naÄin boljÅ¡i, ampak Äe prevajamo kak
  zahtevnejÅ¡i izraz, je pa bolj praktiÄno interpretirati implikacijo kot kar
  implikacijo, in stvari poenostaviti kasneje.
\end{opomba}

Ker Å¾elimo v internem jeziku pisati matematiko, bi bilo dobro, da lahko v njem
dejansko sklepamo.
\begin{izrek}[Zdravost]
  ÄŒe je formula \(Ï†\) konstruktivno formalno dokazljiva, je tudi veljavna v naÅ¡i
  logiki.
\end{izrek}

Dokaza tu ne navedemo, da se ognemo 20 stranem toÄne definicije ``formalno
dokazljiva'', si pa to lahko ogledate v~\cite{Scott79,FS79}. Dokaz poteka dokaj
rutinsko, preveriti je zgolj treba, da so interpretacije vseh aksiomov veljavne.
Na primer za univerzalni kvantifikator mora veljati
\(\p{\for{x:A}{Ï†(x)}}âˆ§\e t â‡’ Ï†(t)\). Za vajo lahko preverite, da se res
interpretira v \(âŠ¤\).

% Pri disjunkciji pa dejansko dobimo nekaj veÄ. ÄŒe je \(Ï†âˆ¨Ïˆ\) konstruktivno res,
% je res kar Å¾e en od disjunktov (recimo \(Ï†\)). Potem pa po indukciji velja
% \(X âŠ© Ï†\), torej \(Ï†\) je res na celotnem \(X\), kar je moÄneje od
% interpretacije \(Ï†âˆ¨Ïˆ\) v naÅ¡i logiki. To je posledica dejstva, da je
% konstruktivna resnica moÄnejÅ¡a od resnice v naÅ¡ih modelih, kajti topoloÅ¡ki
% modeli niso vsi moÅ¾ni modeli konstruktivne logike.

Ponovimo sedaj gornje definicije v internem jeziku.
\begin{redefinicija}{def:â„’set}
  \emph{Tip \(A\)} je mnoÅ¾ica \(A\) z relacijo \(=\) na \(AÃ—A\), za katero velja
  \begin{align*}
    &âŠ© \for{x,y:A}{x = y â‡’ y = x}\text{ in}\\
    &âŠ© \for{x,y,z:A}{x = y âˆ§ y = z â‡’ x = z}\text.
  \end{align*}
\end{redefinicija}
Zares tu ne moremo govoriti o relaciji na mnoÅ¾ici, dokler ta ni tip. Ampak ta
definicija sluÅ¾i zgolj za ilustracijo, tako da to ni problematiÄno. Definicijo
morfizmov pa lahko brez problema napiÅ¡emo v tem stilu.

\begin{redefinicija}{def:â„’map}
  \emph{Morfizem med tipoma \(A\) in \(B\)} je relacija \(f\) med \(A\) in
  \(B\), za katero veljata
  \begin{align}
    &âŠ© \for{x:A}{\for{y,y':B}{f(x,y)âˆ§f(x,y') â‡’ y=y'}} \tag{enoliÄnost}\label{eq:enoliÄnost}\\
    &âŠ© \for{x : A}{\exist{y : B}{f(x,y)}}             \tag{celovitost}\label{eq:celovitost}
  \end{align}
\end{redefinicija}
\begin{opomba}
  Pogoja enoliÄnosti in celovitosti lahko sedaj zdruÅ¾imo v en pogoj
  \[ \for{x:A}{\unique{y:B}{f(x,y)}}\text. \]
  Res, drugi pogoj nam pove, da tak \(y\) obstaja, medtem ko nam prvi pogoj
  pove, da je tak \(y\) enoliÄen.
\end{opomba}


\subsubsection{Relacije in podobjekti}

Z notranjim jezikom si lahko pomagamo pri konstruiranju relacij. NatanÄno to
pomeni, da bomo formule s prostimi spremenljivkami interpretirali kot
preslikave, ki pa bodo avtomatsko zadoÅ¡Äale pravilom relacij.

Najprej si olajÅ¡ajmo delo, in definirajmo produkte tipov. Potem bomo lahko vse
definirali za eno spremenljivko, saj lahko relacije na veÄ spremenljivkah
predstavimo kot eniÅ¡ko relacijo (ozioma predikat) na produktu.

\begin{konstrukcija}\label{cons:prod}
  Naj bosta \(A\) in \(B\) tipa. Njun produkt je mnoÅ¾ica
  \[ \set{(a, b) âˆˆ AÃ—B}{\e a = \e b}, \]
  enakost pa definiramo po toÄkah
  \[ \i{\p{a, b} = \p{a', b'}} â‰” \i{a = a'} âˆ§ \i{b = b'}\text. \]
\end{konstrukcija}
\begin{dokaz}
  Gornja enakost je oÄitno simetriÄna in tranzitivna, tako da tvori
  tip.
\end{dokaz}
\begin{opomba}
  Zgoraj za nosilec produkta vzamemo pare, ki so enako definirani. To storimo
  zato, da bomo kasneje lahko definirali ustrezne projekcije iz produkta, saj
  sicer te nebi bile morfizmi.
\end{opomba}

\begin{konstrukcija}\label{cons:rel-from-formula}
  Naj bo \(Ï†\) formula s prosto spremenljivko \(x\) tipa \(A\). Potem preslikava
  \(a â†¦ \e a âˆ§ \i{Ï†(a)}\) definira relacijo na \(A\).
\end{konstrukcija}
\begin{dokaz}
  OznaÄimo to preslikavo s \(\hat Ï†\).
  Preslikava je oÄitno stroga. Prav tako je ekstenzionalna, saj velja
  \begin{align*}
    \i{a = a'} âˆ§ \hat Ï†(a')
    &â‰¤ \i{a = a'} âˆ§ \e{a'} âˆ§ \i{Ï†(a')}\\
    &â‰¤ \e a âˆ§ \i{a = a' âˆ§ Ï†(a')}\\
    &â‰¤ \e a âˆ§ \i{Ï†(a)} = \hat Ï†(a)\text.\qedhere
  \end{align*}
\end{dokaz}
\begin{opomba}
  ÄŒe je formula \(Ï†\) Å¾e taka, da velja \(\i{Ï†(a)} â‰¤ \e a\) za vse \(a âˆˆ A\),
  lahko preprosto piÅ¡emo \(\hat Ï†(a) â‰” \i{Ï†(a)}\).
\end{opomba}

\begin{primer}
  ÄŒe je \(R\) relacija na \(A\), je \(\hat R = R\). Res, ker je \(R\) Å¾e sama po
  sebi stroga, lahko uporabimo gornjo opombo in piÅ¡emo \(\hat R(a) = \i{R(a)}\).
  Ampak to je pa natanko \(R(a)\).
\end{primer}
\begin{primer}
  Naj bo \(x â‰¡ y \mod 2\) formula s prostima spremenljivkama tipa \(\c â„•\). Potem
  ta definira relacijo, ki je simetriÄna in tranzitivna, torej definira tip.
  Njegova mnoÅ¾ica elementov je neskonÄna, a je izomorfen tipu \(\c 2\).
\end{primer}
Na ta naÄin lahko torej definramo izpeljane tipe. Je pa to najbolj uporabno pri
definiciji morfizmov.

\begin{konstrukcija}
  ÄŒe imamo morfizma \(A \oset{f}{â†¬} B \oset{g}{â†¬} C\), je njun kompozitum
  \({gâˆ˜f : A â†¬ C}\) definiran z relacijo
  \[ \exist{y : B}{f(x,y) âˆ§ g(y,z)}\text. \]
\end{konstrukcija}
\begin{dokaz}
  Kompozitum funckijskih relacij je konstruktivno spet funkcijska relacija, tako
  da je res morfizem.
\end{dokaz}

\begin{konstrukcija}
  Identiteta na \(A\) je kar \(âŸ¦- =_A -âŸ§\).
\end{konstrukcija}
\begin{dokaz}
  Znotraj je enakost na \(A\) identitetna relacija, torej je enota za
  kompozitum.
\end{dokaz}

\begin{definicija}
  Kategorijo tipov z morfizmi in gornjim kompozitumom in identiteto oznaÄimo z
  \(\cat{Set}(â„’)\).
\end{definicija}

Oglejmo si kaj so podobjekti tipa \(A\). ObiÄajno so te do izomorfizma
natanÄno monomorfizmi s kodomeno \(A\). Poleg tega so urejeni, tako da je
\(S âŠ† T\) natanko tedaj, ko obstaja monomorfizem \(S â†’ T\). Vemo pa tudi, da
ponavadi lahko podobjekte predstavimo s \emph{predikati} na mnoÅ¾ici, torej
funkcijami iz \(A\) v mnoÅ¾ico resniÄnostnih vrednostih.

V naÅ¡em primeru igra topologija \(â„’\) vlogo mnoÅ¾ice resniÄnostnih vrednosti,
tako da bi lahko za podobjekte vzeli morfizme tipa \(A â†¬ â„’\), ampak se izkaÅ¾e,
da lahko definicijo Å¡e poenostavimo.

\begin{lema}\label{th:â„’sub-is-map-to-Î©}
  Za vsak morfizem \(f : A â†¬ Î©\) obstaja enoliÄna operacija \(\hat f : A â†’ Î©\),
  tako da je morfizem porojen z \(\hat f\) enak \(f\).
\end{lema}
\begin{dokaz}
  Definirajmo \(\hat f(a) â‰” f(a,âŠ¤)\).
  OÄitno je \(\hat f(a) â‰¤ \e a\), saj je vsak \(f(a,âŠ¤) â‰¤ \e a\).

  Denimo sedaj, da je \(a=a'\). Potem je \(f(a,âŠ¤) = f(a',âŠ¤)\), torej je
  \(\hat f(a) = \hat f(a')\), torej je \(\hat f\) res operacija.

  Naj velja \(f(a,U)\). Potem je \(f(a,U) = f(a,âŠ¤)\), torej je
  \({U = f(a,U) = \hat f(a)}\).

  Obratno, naj velja \(f(a,âŠ¤) = U\) in denimo, da \(U\) velja. Potem pa tudi
  \(f(a,U)\) velja, po prvi lasnosti relacije.
\end{dokaz}

Torej lahko za podobjekte vzamemo kar eniÅ¡ke relacije na \(A\), saj so te
natanko operacije v \(Î©\). Kasneje bomo pa pokazali, da so to res podobjekti.

\begin{definicija}\label{def:subset}
  EniÅ¡kim relacijam na \(A\) pravimo \emph{podtipi \(A\)} in oznaÄimo \(S âŠ‘ A\).
  Za \(Ï„ : A\) in \(S âŠ‘ A\) bomo namesto \(S(Ï„)\) pisali \(Ï„ âˆˆ S\). Interni
  jezik razÅ¡irimo z \(âˆˆ\) na oÄiten naÄin.
\end{definicija}

\begin{konstrukcija}\label{cons:â„’-sub-lattice}
  Podtipi tvorijo delno ureditev z ureditvijo
  \[ S âŠ‘ T :â‡”\ âŠ© \for{x : A}{x âˆˆ S â‡’ x âˆˆ T}\text. \]
\end{konstrukcija}

Definirajmo sedaj boljÅ¡i zapis za konstrukcijo~\ref{cons:rel-from-formula}.
\begin{definicija}\label{notation:setbuilder}
  Naj bo \(Ï†\) formula s prosto spremenljivko \(x : A\). Potem relacija
  \[ a â†¦ \e a âˆ§ \i{Ï†(a)} \]
  doloÄa podtip \(A\), ki ga oznaÄimo z \(\set{x : A}{Ï†}\).
\end{definicija}

\begin{definicija}\label{notation:image}
  Vsakemu morfizmu \(f : A â†¬ B\) in podtipoma \(S âŠ‘ A\) in \(T âŠ‘ B\) lahko
  priredimo
  \begin{enumerate}
  \item podtip \(f[S] âŠ‘ B\), definiran kot
    \(\set{y : B}{\exist{x âˆˆ S}{f(x,y)}}\), imenovan \emph{slika} in
  \item podtip \(fâ»Â¹[T] âŠ‘ A\), definiran kot
    \(\set{x : A}{\exist{y âˆˆ T}{f(x,y)}}\), imenovan \emph{praslika}. 
  \end{enumerate}
\end{definicija}

\begin{konstrukcija}\label{cons:sing}\label{notation:sing-image}
  Za \(a âˆˆ A\) lahko tvorimo \(\s a â‰” \set{x : A}{x = a}\). Temu podtipu
  bomo pravili \emph{enojec}.

  Za enojce lahko poenostavimo zapis za sliko in prasliko,
  \[ f[a] â‰” f[\s a] = \set{y : B}{f(a,y)} \text{ in}\]
  \[ fâ»Â¹[b] â‰” fâ»Â¹[\s b] = \set{x : A}{f(x,b)} \text,\]
  kot smo vajeni.
\end{konstrukcija}

Primer te konstrukcije smo zares Å¾e videli, v dokazu
leme~\ref{th:â„’sub-is-map-to-Î©}. Tam smo zares iz morfizma \(f : A â†¬ Î©\)
skonstruirali podtip \(fâ»Â¹(âŠ¤)\). Iz teorije kategorij pa vemo, da Äe je \(f\)
karakteristiÄna preslikava podobjekta \(S\), je potem \(S = fâ»Â¹(âŠ¤)\), torej je
to natanko ista konstrukcija. PokaÅ¾imo sedaj, da so podtipi natanko podobjekti.

Preden se lotimo dejanskega dokaza pa pokaÅ¾imo, da lahko iz vsakega podtipa
zgradimo dejanski tip, ki se vloÅ¾i v svoj nadtip. To je zares konstrukcija
podobjekta iz podtipa.
\begin{konstrukcija}\label{cons:â„’set-from-â„’sub}
  Naj bo \(P âŠ‘ A\). Tvorimo tip \(\hat P\) na mnoÅ¾ici \(A\) z enakostjo
  definirano kot \(x =_A x'âˆ§P(x)\).
  Identiteta na \(A\) potem definira monomorfizem \(m : \hat P â†¬ A\).
\end{konstrukcija}
\begin{dokaz}
  Relacija je simetriÄna, saj iz \(x=x'âˆ§P(x)\) sledi \(P(x')\), in obratno.
  Tranzitivnost pa oÄitno sledi iz tranzitivnosti \(=_A\).

  Za morfizem \(m\) velja, da za vsak \(f : B â†¬ \hat P\) velja
  \(mâˆ˜f(b,a) = f(b,a)\). To pa pomeni, da je monomorfizem, torej vloÅ¾itev.
\end{dokaz}

\begin{trditev}\label{th:â„’sub-is-sub}
  Delni ureditvi podtipov \(A\) in podobjektov \(A\) sta si ekvivalentni.
\end{trditev}
\begin{dokaz}
  Naj bo \(m : S â†¬ A\) monomorfizem. Temu lahko priredimo sliko \(m[S]\). Ta
  prireditev ohranja neenakost, tako da je injektivna in dobro definirana na
  mnoÅ¾ici ekvivalenÄnih razredov.
  Obratno, vsakemu podtipu \(P âŠ‘ A\) priredimo monomorfizem \(m : \hat P â†¬ A\),
  kot definiran zgoraj.
  
  Preverimo, da sta si ti operaciji inverzni.
  ÄŒe zaÄnemo z \(m : S â†¬ A\), se \(m\) zoÅ¾i na \(S â†¬ A/m[S]\). Prav tako je ta
  morfizem surjektiven, saj za vsak \(a : A/m[S]\) vemo, da ima razpon
  \(\e a âˆ§ a âˆˆ m[S]\), torej obstaja nek \(s : S\), da je \(m(s,a)\).
  Obratno, Äe je \(P âŠ‘ A\) je \(a âˆˆ \id[\hat P]\) natanko tedaj, ko velja \(a âˆˆ P\).
\end{dokaz}

Za konec pa definirajmo Å¡e kvocientne tipe. Najprej pokaÅ¾imo 

\begin{definicija}
  Relacija \(R\) na \(AÃ—A\) je refleksivna, ko velja \(âŠ© \for{x:A}{R(x,x)}\).
\end{definicija}

\begin{lema}
  Za refleksivno relacijo \(R\) na \(AÃ—A\) velja
  \[ âŠ© \for{x,y:A}{x = y â‡’ R(x,y)}\text. \]
\end{lema}
\begin{dokaz}
  Naj bosta \(a\) in \(b\) tipa \(A\) enaka. Potem je \(R(a,b)\) natanko
  \(R(a,a)\), kar je pa natanko refleksivnost \(R\).
\end{dokaz}

\begin{konstrukcija}\label{cons:quot}
  Naj bo \(R\) ekvivalenÄna relacija na \(AÃ—A\). Potem mnoÅ¾ica \(A\), kjer za
  enakost vzamemo \(R\), tvori tip, ki mu pravimo \emph{kvocient \(A\) po \(R\)}
  in ga oznaÄimo \(\quot A R\).

  Identiteta na \(A\) potem definira kvocientni morfizem \(q : A â†¬ \quot A R\).
\end{konstrukcija}
\begin{dokaz}
  Enakost bo oÄitno simetriÄna in tranzitivna, tako da rabimo preveriti samo, da
  identiteta res definira ustrezen morfizem.

  % Najprej pokaÅ¾imo, da velja \(âŠ©\for{x,y:A}{x = y â‡’ R(x,y)}\). Ker je preslikava
  % refleksivna, to pomeni, da velja \(âŠ© \for{x:A}{R(x, x)}\). Poleg tega
  % pa, ker je relacija, imamo \(âŠ¢ \p{a, a'} = \p{a', a'} âˆ§ R(a',a') â‡’ R(a,a')\).
  % Leva stran implikacije se poenostavi na \(a = a'\), ker smo na \(\e{a'}\) in
  % je \(R(a',a')\) res.

  Naj bo \(f : A â†¬ B\) morfizem, za katerega velja \(R(a,a')âˆ§f(a',b) â‰¤ f(a,b)\).
  Tedaj bo \(f\) tudi morfizem tipa \(\quot A R â†¬ B\), torej je \(q\) res
  kvocientna reslikava.
\end{dokaz}


\subsubsection{Polni tipi}

Pogosto omenjamo, da zaradi lokalne narave naÅ¡e logike in sploÅ¡nosti definicije
tipov nekateri elementi ne obstajajo. Oglejmo si recimo spet
primer~\ref{ex:one-to-one}. Naj bo \(X = 2\), in
\(A = \{aâ‚€,aâ‚\}\), kjer je \(\e{aáµ¢} = \{i\}\).
Potem je \(f(*,aáµ¢) â‰” \{i\}\) funkcijska relacija. Ker je enoliÄna, ima torej
\(f[*]\) kveÄjemu en element. Ampak ne obstaja noben element \(a âˆˆ A\), ki bi
zadoÅ¡Äal \(f[*] = \s a\), torej \(f[*]\) ni zares enojec. Takim elementom
pravimo \emph{podenojci}.

Se pa izkaÅ¾e, da velja \(i âŠ© aáµ¢ âˆˆ f[*]\), torej ima \(f[*]\) nad vsako toÄko
element. V interni logiki torej velja \(\exist{x:A}{xâˆˆf[*]}\). Torej iz
notranjega sveta topoloÅ¡kega modela ne moremo razlikovati med enojci in
podenojci (seveda, razen za prazen podenojec), tako da bomo tem vseeno pravili
\emph{enojci}. IzkaÅ¾e se, da imajo enojci zelo bogato strukturo, namreÄ z njimi
bomo lahko tvorili zoÅ¾itve in zlepke elementov tipov, kot smo Å¾eleli v zaÄetni
motivaciji.

% Seveda pa kot prej, ni nobenega elementa v \(A\), ki bi bil povsod element \(f[*]\).
% Ker pa nam \(f[*]\) vseeno natanko predstavlja ta element, lahko gornjo
% lastnost, torej, \(â„’\)-podmnoÅ¾ica z najveÄ enim elementom, vzamemo kot nekakÅ¡no
% ``napolnitev'' \(â„’\)-mnoÅ¾ice \(A\). IzkaÅ¾e se, da nam bo to dovolilo
% neposredno izraziti zoÅ¾itve in zlepke elementov.

\begin{definicija}\label{def:sing}
  \emph{Enojec} tipa \(A\) je podtip \(Ïƒ âŠ‘ A\), za katerega velja
  \[ âŠ© \for{x,y:A}{x âˆˆ Ïƒ âˆ§ y âˆˆ Ïƒ â‡’ x = y}\text. \]
\end{definicija}
\begin{opomba}
  Za enojce se ponavadi uporablja grÅ¡ke Ärke \(Ïƒ, Ï, Ï„,â€¦\).
\end{opomba}
% \begin{opomba}
%   ÄŒe Å¾elimo dokazati, da je neka preslikava enojec, zadoÅ¡Äa preveriti gornji
%   pogoj ter drugi pogoj za \(â„’\)-podmnoÅ¾ice, torej \(âŠ© a = b âˆ§ b âˆˆ Ïƒ â‡’ a âˆˆ Ïƒ\),
%   saj prvi pogoj sledi iz gornjega pogoja.
% \end{opomba}

Sedaj smo drugiÄ defninirali besedo enojec, enkrat v
konstrukciji~\ref{cons:sing} kot konstrukcijo specifiÄnega podtipa, in Å¡e enkrat
zgoraj kot lastnost podtipov. IzkaÅ¾e se, da to ni dvoumno, saj imajo enojci
lastnost bitja enojec, prav tako pa kot omenjeno zgoraj, iz notranjega pogleda
je vsak podtip z lastnostjo bitja enojec tudi sam enojec (Äim definiramo
ustrezne tipe, da lahko to zatrdimo). ZaÄnimo s prvim delom.
\begin{trditev}\label{th:sing-is-subsing}
  Za \(a âˆˆ A\) je enojec \(\s a\) res enojec v gornjem smislu.
\end{trditev}
\begin{dokaz}
  ÄŒe imamo \(x\), \(y âˆˆ \s a\), je po defniciji potem \(x = a = y\), torej je
  \(x=y\).
\end{dokaz}

\begin{konstrukcija}\label{cons:compl}
  MnoÅ¾ica enojcev \(A\) z relacijo \(Ïƒ = Ï„ â‰” \exist{x : A}{x âˆˆ Ïƒ âˆ§ x âˆˆ Ï„}\)
  tvori tip \(\g A\).
\end{konstrukcija}
\begin{dokaz}
  Gornje oÄitno definira relacijo, saj je definirana v internem jeziku.
  Poleg tega je oÄitno simetriÄna, tako da si poglejmo le tranzitivnost.
  Naj bo \(Ïƒ = Ï„\) in \(Ï„ = Ï\), torej obstajata \(x\) in \(y\), da velja
  \(x âˆˆ Ïƒ âˆ§ x âˆˆ Ï„\) in \(y âˆˆ Ï„ âˆ§ y âˆˆ Ï\). Ker je \(Ï„\) enojec je \(x = y\),
  torej velja \(x âˆˆ Ïƒ\) in \(x âˆˆ Ï\), kar pa po definiciji pomeni \(Ïƒ = Ï\).
\end{dokaz}

PokaÅ¾imo sedaj Å¡e drugi del gornje razprave.
\begin{trditev}\label{th:subsing-is-sing}
  Za vsak tip \(A\) velja
  \[ âŠ© \for{Ïƒ : \g A}{\exist{x : A}{x âˆˆ Ïƒ}}\text. \]
\end{trditev}
\begin{dokaz}
  ÄŒe razpiÅ¡emo gornje dobimo \(\e Ïƒ â‰¤ \i{\exist{x : A}{x âˆˆ Ïƒ}}\). Ampak \(\e Ïƒ\)
  je pa natanko \(\exist{x : A}{x âˆˆ Ïƒ âˆ§ x âˆˆ Ïƒ}\), torej je neenakosti zadoÅ¡Äeno.
\end{dokaz}

PokaÅ¾imo nekaj koristnih lem za delo z enojci.

\begin{lema}\label{lem:singunit}
  Za \(Ïƒ âˆˆ \g A\) veljajo naslednje ekvivalence:
  \begin{enumerate}
  \item \(âŠ© \for{x:A}{\s x = Ïƒ â‡” x âˆˆ Ïƒ}\)
  \item \(âŠ© \for{x,y:A}{\s x = \s y â‡” x = y}\)
  %\item \(âŠ© \for{x,y:A}{x = y â‡” \exist{Ïƒ : \g A}{x âˆˆ Ïƒ âˆ§ y âˆˆ Ïƒ}}\)
  \end{enumerate}
\end{lema}
\begin{dokaz}
  Fiksirajmo \(x\), \(y:A\).
  \begin{enumerate}
  \item ÄŒe velja \(\s x = Ïƒ\), je potem \(x âˆˆ \s x = Ïƒ\). Obratno, Äe je
    \(x âˆˆ Ïƒ\) potem obstaja \(x' : A\) (namreÄ \(x\)), da je \(x = x'\) in
    \(x' âˆˆ Ïƒ\), torej je po definiciji \(\s x = Ïƒ\).
  \item Po prvi toÄki je \(\s x = \s y\) natanko \(x âˆˆ \s y\), torej velja \(x = y\).
  %\item ÄŒe je \(x = y\) potem \(\s x\) oÄitno zadoÅ¡Äa desni strani. Obratno, Äe
  %  za nek \(Ïƒ\) velja \(x âˆˆ Ïƒ âˆ§ y âˆˆ Ïƒ\), pa po definiciji enojca velja \(x = y\).
    \qedhere 
  \end{enumerate}
\end{dokaz}
\begin{posledica}
  Velja \(\for{Ïƒ : \g A}{\exist{x : A}{Ïƒ = \s x}}\), torej so znotraj vsi enojci
  oblike \(\s a\), za nek \(a : A\).
\end{posledica}

\begin{konstrukcija}\label{cons:res}
  Naj bo \(a âˆˆ A\) in \(U âˆˆ â„’\). Potem obstaja natanko en enojec
  \(a{\res U} âŠ‘ A\), za katerega velja
  \(\e a âŠ© \for{x:A}{x âˆˆ a{\res U} â‡” x=aâˆ§U}\). V posebnem velja
  \(\e{a{\res U}} = \e aâˆ§U\).
\end{konstrukcija}
\begin{dokaz}
  Gornja formula enoliÄno doloÄa podtip, namreÄ
  \(a{\res U} â‰” \set{x:A}{x=aâˆ§U}\). To je podenojec, saj je manjÅ¡i od \(\s a\).
  Gornja formula potem velja po definiciji.
  Velja tudi \(\e{a{\res U}} = \exist{x:A}{x=aâˆ§U} = \e aâˆ§U\).
\end{dokaz}

\begin{konstrukcija}
  Naj bo \(a : I â†’ A\) druÅ¾ina elementov, za katero velja \(Uáµ¢âˆ©Uâ±¼ âŠ© aáµ¢ = aâ±¼\),
  kjer so \(Uáµ¢ â‰” \e{aáµ¢}\). Potem obstaja natanko en enojec \(âˆ¨a\), za katerega
  za vsak \(i âˆˆ I\) velja \(Uáµ¢ âŠ© âˆ¨a{\res{Uáµ¢}} = \s{aáµ¢}\) in je
  \(\e{âˆ¨a} = â‹ƒáµ¢Uáµ¢\). 
\end{konstrukcija}
\begin{dokaz}
  Naj bo \(âˆ¨a â‰” \set{x:A}{\exist{i:\c I}{x=aáµ¢}}\). To je enojec, saj Äe sta
  \(x\) in \(y âˆˆ â‹a\), za neka \(i\) in \(j\) velja \(x = aáµ¢\) in \(y = aâ±¼\).
  Vrednost \(x=aáµ¢\) je manjÅ¡a od \(\e{aáµ¢}=Uáµ¢\), torej smo na \(Uáµ¢âˆ©Uâ±¼\). Potem pa
  po predpostavki velja \(aáµ¢ = aâ±¼\), in sta \(x\) in \(y\) enaka.

  Po definiciji je \(aáµ¢ âˆˆ âˆ¨a{\res{Uáµ¢}}\) res, saj obstaja \(i:\c I\), da bo
  \(aáµ¢=aáµ¢\). Prav tako je razpon \(âˆ¨a\) enak uniji razponov elementov druÅ¾ine,
  saj na vsakem od njih obstaja element \(âˆ¨a\).

  ÄŒe je pa \(Ïƒ\) nek drug enojec, za katerega veljajo gornje enakosti, je pa
  nujno enak \(âˆ¨a\) na vsakem od \(Uáµ¢\), torej mu je enak tudi na celotnem
  razponu.
\end{dokaz}

Enojci nam torej dajo naÄin, kako razÅ¡iriti tip z vsemi zoÅ¾itvami in zlepki
njenih elementov. VpraÅ¡anje pa je, kolikokrat moramo to konstrukcijo ponoviti,
da nam to ne doda nobenih novih elementov.

\begin{definicija}\label{def:compl}
  Tip \(A\) je \emph{poln}, kadar je preslikava mnoÅ¾ic elementov \(a â†¦ \s a\)
  bijekcija. Polno podkategorijo polnih tipov oznaÄimo s \(\cat{CSet}(â„’)\).
\end{definicija}

Do sedaj smo delali z navadnimi tipi, ampak polni tipi imajo veliko poÅ¾eljnih
lastonsti. A to pomeni, da moramo zaÄeti znova s polnimi tipi? NamreÄ, do sedaj
smo imeli zgolj en primer polnega tipa, v primeru~\ref{ex:reals}. IzkaÅ¾e se, da
temu ni tako.

% âŸ¨-âŸ© definira idempotentno monado. To mi avtomatsko da naslednjih par
% rezultatov (specifiÄno do izreka da so polne â„’-mnoÅ¾ice refleksivna
% podkategorija).
\begin{lema}\label{th:compl-is-compl}
  Tip \(\g A\) je poln.
\end{lema}
\begin{dokaz}
  Pokazati moramo, da je preslikava \(Ïƒ â†¦ \s Ïƒ\) bijekcija.
  Injektivnost sledi neposredno iz druge toÄke gornje leme.
  % to je inverz enote (in je mnoÅ¾enje).
  Naj bo potem \(Î£ âˆˆ \g{\g A}\). Definirajmo \(Ï„ â‰” \set{x : A}{\s x âˆˆ Î£}\).
  To je enojec, saj velja
  \[
    xâˆˆÏ„ âˆ§ yâˆˆÏ„ â‡” \s x âˆˆ Î£ âˆ§ \s y âˆˆ Î£ â‡’ \s x = \s y â‡” x = y\text.
  \]

  PokaÅ¾imo Å¡e, da je \(Î£ = \s Ï„\), torej \(Ï„ âˆˆ Î£\).
  Ker je \(Ï„\) enojec obstaja nek \(a : A\), da je \(a âˆˆ Ï„\), torej je
  \(\s a âˆˆ Î£\). Poleg tega pa, ker je \(a âˆˆ Ï„\) je \(Ï„ = \s a\), torej je
  \(Ï„ âˆˆ Î£\).
  
  Sledi, da za vsak enojec v \(\g{\g A}\) obstaja natanko en enojec v \(\g A\),
  ki se vanj slika, tako da je preslikava \(\s -\) res bijekcija, in je \(\g A\)
  polna.
\end{dokaz}
\begin{opomba}
  Ta izek nam torej pove, da lahko \(\g A\) pravimo \emph{napolnitev tipa A}.
\end{opomba}

Sedaj lahko vsakemu tipu priredimo poln tip. Å e veÄ, ta tip je izpeljana iz tipa
\(A\), torej lahko vse trditve o \(\g A\) izrazimo z \(A\) (specifiÄno, z enojci
\(A\)). Se pa izkaÅ¾e, da to ni potrebno, saj lahko trditve o \(\g A\) bolj
neposredno primerjamo s trditvami o \(A\).

\begin{izrek}\label{th:sigmaiso}
  Tip \(\g A\) je izomorfna \(A\).
\end{izrek}
\begin{dokaz}
  % {-} je enota monade Ïƒ, Äe je Î· njen inverz, kaj je njena povezava z
  % mnoÅ¾enjem? Plus lahko spustimo pol dokazov, da je {-} morfizem.
  Vemo Å¾e, da se \(A\) vloÅ¾i v \(\g A\) z morfizmom \(a â†¦ \s a\).
  Njen inverz je \({Î·(Ïƒ,a) â‰” \i{a âˆˆ Ïƒ}}\).
  OÄitno je \(Î·(\s a) = a\). Oglejmo si potem \(\s{Î·(Ïƒ)}\). Ker je sÄasoma
  \(Ïƒ = \s a\), je \(\s{Î·(Ïƒ)} = \s{Î·(\s a)} = \s a\). To pa pomeni, da je
  \(\s{Î·(Ïƒ)} = Ïƒ\), torej je res inverz.
\end{dokaz}
\begin{posledica}\label{th:set-eq-cset}
  Kategorija tipov je ekvivalentna kategoriji polnih tipov.
\end{posledica}

To torej pomeni, da lahko v internem jeziku vedno predpostavimo, da so
tipi polne, Äetudi niso. Definirajmo bolj toÄno, kaj to zares pomeni.

Najprej, lahko vse relacije na \(A\) razÅ¡irimo do relacij na \(\g A\). Tako bomo
lahko formule v internem jeziku s prosto spremenljivko tipa \(A\) razÅ¡irili do
formule s prosto spremenljivko tipa \(\g A\).
\begin{konstrukcija}
  Naj bo \(R\) relacija na \(A\). Potem je relacija
  \[ {\hat R(Ïƒ) â‰” \exist{x : A}{x âˆˆ Ïƒâˆ§R(x)}} \]
  enoliÄna relacija na \(\g A\), za katero velja \(R(a) â‡” \hat R(\s a)\).
\end{konstrukcija}
\begin{dokaz}
  OÄitno velja \(\hat R(\s a) â‡” R(a)\), zaj za \(x\) vzamemo kar \(a\).
  Naj bo \(Q\) neka druga relacija, in naj velja \(R(a) â‡” Q(\s a)\).

  Naj bo \(Ïƒ : \g A\). Potem je enak nekemu \(\s a\), tako da preverimo zgolj,
  Äe je \(\hat R(\s a) â‡” Q(\s a)\). Ampak ta sta po predpostavki oba \(R(a)\),
  torej sta enaka.
\end{dokaz}
ÄŒe torej terme \(A\) smatramo kot termre \(\g A\), lahko kar vse relacije
zamenjamo s konstrukcijo zgoraj, in ne eksplicitno loÄujemo med \(R\) in
\(\hat R\).

\begin{izrek}
  Formula \(Ï†\) je veljavna natanko tedaj, ko je veljavna formula, v kateri
  vse relacije \(R\) zamenjamo z \(\hat R\), vse domene kvantifikacije \(A\)
  zamenjamo z njihovimi napolnitvami \(\g A\), in vse konstante \(a\) zamenjamo
  z \(\s a\).
\end{izrek}
Ker so relacije \(\hat R\) enoliÄno doloÄene, jih lahko Å¡e naprej oznaÄujemo kar
z \(R\). Prav tako, ker je \(\s -\) vloÅ¾itev \(A\) v \(\g A\), lahko konstante
tipa \(A\) smatramo kar kot konstante tipa \(\g A\). Nazadnje, spremenimo vse
simbole \(âˆˆ\) v \(=\). To deluje, saj je \(\g{\g A} â‰… \g A\), torej imamo lahko
najveÄ en ``nivo'' elementov, torej bodo vsi primerljivi z \(=\).

Oglejmo si najprej, kaj to pomeni na primeru.
\begin{trditev}
  Velja \(\for{Ïƒ : \g A}{\exist{x : A}{x âˆˆ Ïƒ}}\).
\end{trditev}
\begin{dokaz}
  Po gornjem izreku gornja formula velja natanko tedaj, ko velja
  \[ \for{Ïƒ:\g A}{\exist{x:\g A}{x = Ïƒ}}\text. \]
  To je pa oÄitno res, saj za \(x\) vzamemo kar \(Ïƒ\).
\end{dokaz}

To se torej izkaÅ¾e za zelo koristno, saj pomeni, da lahko v interni logiki
uporabljamo vse lastnosti polnih tipov, ampak ko prevajamo formule v
zunanji svet pa lahko vseeno delamo le z zaÄetnim naborom elementov.
NajpomembnejÅ¡a posledica pa je, da Äe je \(f\) morfizem, lahko na \(f[a]\)
gledamo kot term tipa \(B\). Res, ker je \(f[a]\) enojec, in je \(B â‰… \g B\),
lahko vsako formulo s spremenljivko tipa \(B\), v katero vstavimo \(f[a]\),
preprosto interpretiramo kot formulo nad \(\g B\). Potem pa po gornjem izreku
vemo, da to ohranja veljavnost, tako da ne produciramo nobene nove trditve.
Paziti je le treba, da Äe v internem jeziku konstruiramo \emph{elemente} tipa
\(B\), nam \(f[a]\) oÄitno ne definira dejanskega elementa mnoÅ¾ice \(B\).

Od tod naprej oznaÄujmo enojec \(f[a]\) z \(f(a)\). Ta zapisa sta v edinem
kontekstu, kjer lahko pride do zmede ekvivalentna, saj velja
\(f(a,b) â‡” f[a] = \s b\), tako da ne pride do teÅ¾av.
TODO: actually, smatrejmo enojce kot terme tipa \(B\)

\begin{dokaz}[Dokaz izreka]
  Dokaz poteka po indukciji. Naredimo primer za univerzalni kvantifikator.
  Formula \(\for{x:A}{Ï†(x)}\) velja natanko tedaj, ko za vsak \(a âˆˆ A\) velja
  \(\e a â‡’ Ï†(a)\). Po drugi strani pa je \(\for{Ïƒ:\g A}{Ï†(Ïƒ)}\) veljavna natanko
  tedaj, ko za vsak enojec \(Ïƒ : A â†’ â„’\) velja \(\exist{x:A}{x âˆˆ Ïƒ} â‡’ Ï†(Ïƒ)\).

  OÄitno sta za enojce \(\s a\) ta dva pogoja enaka, torej veljavnost formule za
  \(\g A\) implicira tisto za \(A\). Obratno pa, naj bo \(Ïƒ : A â†’ â„’\) poljuben
  enojec, in naj velja formula za \(A\).
  V internem jeziku je potem \(Ïƒ = \s a\) za nek \(a\), torej je
  \(Ï†(Ïƒ) â‡” Ï†(\s a)\), ki pa po predpostavki drÅ¾i.
\end{dokaz}

\begin{trditev}\label{th:â„’mor-into-compl-is-map}
  Naj bo \(f : A â†¬ B \) in \(B\) poln tip. Tedaj obstaja operacija
  \(Ï† : A â†’ B\), za katero velja \(\i{Ï†(a) = b} = f(a,b)\). 
\end{trditev}
\begin{dokaz}
  Za vsak \(a âˆˆ A\) je slika \(f(a)\) enojec, torej po polnosti \(B\) natanko
  doloÄa en element \(B\), ki ga oznaÄimo \(Ï†(a)\). To definira preslikavo
  \(Ï†\).

  Po definiciji je \(\e{Ï†(a)} = \exist{b:B}{b âˆˆ f[a]} = \e a\).
  Sedaj pa, Äe je \(a = a'\), je \(f(a) = f(a')\), torej je \(Ï†(a) = Ï†(a')\).
\end{dokaz}
\begin{posledica}\label{th:set-eq-cset-with-maps}
  Kategorija polnih tipov je ekvivalentna kategoriji, katere
  \catdef
    {so polni tipi in}
    {so funkcije \(f : A â†’ B\), ki zadoÅ¡Äajo sledeÄima pogojema:
      \begin{itemize}
      \item \(âŠ© a = a' â‡’ f(a) = f(a')\) in
      \item \(âŠ© \e{f(a)} â‡’ \e a\).
      \end{itemize}}
\end{posledica}


\subsubsection{Lastnosti morfizmov}

Za konec pa lahko izraÄunamo nekaj koristnih lastnosti morfizmov. Zgoraj smo Å¾e
povedali, da lahko pod doloÄenimi pogoji vrednosti funkcij obravnavamo kot terme
tipa kodomene. Videli smo Å¾e, da lahko piÅ¡emo \(f(a) = b\) namesto \(f(a,b)\),
ampak nam to omogoÄa tudi druge koristne okrajÅ¡ave.

\begin{lema}
  Morfizma \(f\) in \(g : A â†¬ B\) sta enaka natanko tedaj, ko velja 
  \[ âŠ© \for{x : A}{f(x) = g(x)}\text. \]
\end{lema}
\begin{dokaz}
  ÄŒe sta \(f\) in \(g\) enaka potem formula oÄitno velja.
  
  PokaÅ¾emo sedaj drugo smer previdno, brez posebne rabe notranje polnosti \(B\).

  Predpostavimo torej, da velja gornja formula, in da velja \(f(a,b)\) za neka
  \(a\) in \(b\). Potem po predpostavki vemo, da velja \(f(a) = g(a)\). ÄŒe to
  enakost razpiÅ¡emo, dobimo, da obstaja \(b' âˆˆ B\), tako da veljata \(f(a,b')\)
  in \(g(a,b')\). Potem je pa \(b = b'\) zaradi enoliÄnosti \(f\), torej velja
  tudi \(g(a,b)\). Ker je vloga \(f\) in \(g\) simetriÄna, ter sta \(a\) in
  \(b\) poljubna, velja \(f(a,b)\) natanko tedaj, ko velja \(g(a,b)\), torej sta
  \(f\) in \(g\) enaka.
\end{dokaz}

Gornji lemi se ponavadi pravi \emph{funkcionalna ekstenzionalnost}, saj pravi da
sta si funkciji enaki natanko tedaj, ko sta enaki na vseh vrednostih. IzkaÅ¾e se
tudi, da je to primerna relacija za definicijo \emph{tipa} morfizmov iz \(A\) v
\(B\).

\begin{konstrukcija}\label{cons:exponent}
  \emph{Eksponentni tip \(A\) na \(B\)} je mnoÅ¾ica morfizmov \(A â†¬ B\) z
  enakostjo \(f=g â‡” \for{x:A}{f(x)=g(x)}\) in ga oznaÄimo \(A â†¬ B\) ali \(B^A\).
\end{konstrukcija}
\begin{dokaz}
  To je tip, saj je relacija oÄitno simetriÄna in tranzitivna.
  Pokazati je torej treba le, da obstaja morfizem \(\ev : (Aâ†¬B)Ã—A â†¬ B\), za
  katerega velja, da za vsak \(e : CÃ—A â†¬ B\) obstaja enoliÄna preslikava
  \(u : C â†¬ A â†¬ B\), da je \(e = \evâˆ˜(uÃ—\id)\). ÄŒe to enakost zapiÅ¡emo na
  elementih dobimo, da mora veljati
  \[ e(c,a) = \evâˆ˜(uÃ—\id)(c,a) = \ev(u(c),a) = u(c)(a)\text. \]
  To nam enoliÄno doloÄa preslikavo \(u\) in je dokaz konÄan.
\end{dokaz}

Tako lahko potem reÄemo, da sta morfizma enaka natanko tedaj, ko sta enaka kot
elementa tipa \(A â†¬ B\), zato lahko brez problema uporabljamo isti zapis za oba.

\begin{trditev}\label{th:Î©-is-subobj-class}
  Tip \(Î©\) je \emph{klasifikator podobojektov}.
  % mnoÅ¾ica \(â„’\) skupaj z enakostjo \(â‡”\) in ga oznaÄimo \(Î©\).
\end{trditev}
\begin{dokaz}
  V trditvama~\ref{th:â„’sub-is-map-to-Î©} in~\ref{th:â„’sub-is-sub} smo Å¾e pokazali,
  da lahko vsakemu monomorfizmu \({m : S â†¬ A}\) priredimo enoliÄen morfizem
  \(Ï‡_S : A â†¬ Î©\), da je \(S â‰… Ï‡_Sâ»Â¹(âŠ¤)\), torej je \(Î©\) res klasifikator
  podobjektov.
\end{dokaz}

Kot ponavadi bomo definirali potenÄni tip \(ğ’«A\) kot eksponent \(A â†¬ Î©\), a kot
smo povedali Å¾e prej v trditvi~\ref{th:â„’sub-is-map-to-Î©}, so to natanko podtipi.

\begin{konstrukcija}\label{cons:subobjs}
  \emph{Tip podtipov \(A\)} ozpiroma \emph{potenÄni tip \(A\)} je eksponentni
  tip \(A â†¬ Î©\). Ta je enak tipu na mnoÅ¾ici podtipov \(A\), z isto enakostjo kot
  na ekponentnem tipu. OznaÄimo ga z \(ğ’«{A}\).
\end{konstrukcija}
% \begin{dokaz}
%   V~\ref{th:â„’sub-is-map-to-Î©} smo pokazali, da sta mnoÅ¾ici izomorfni. Poleg
%   tega, je \(S =_{A â†¬ Î©} T\) natanko tedaj, ko \(\for{x:A}{x âˆˆ S â‡” x âˆˆ T}\),
%   torej ko je \(S(a) = T(a)\) za vse \(a âˆˆ A\). To pa natanko pomeni, da sta
%   \(S\) in \(T\) enaka kot preslikavi, torej enaka v konstantem tipu.
% \end{dokaz}

Sedaj ko imamo dostop do vrednosti morfizmov, pa lahko karakteriziramo
epimorfizme in monomorfizme. V obiÄajni teoriji mnoÅ¾ic so te natanko surjekcije
in injekcije, kar se izkaÅ¾e za resniÄno tudi za morfizme med tipi.

Najprej pa konstruirajmo Å¡e nekaj konstrukcij tipov, saj jih potrebujemo
v dokazu.
\begin{konstrukcija}
  Za tipa \(A\) in \(B\) je mnoÅ¾ica \(A+B\) z enakostjo generirano z relacijami
  \(Î¹â‚€(x) = Î¹â‚€(x') â‡” x=x'\) in \(Î¹â‚(y) = Î¹â‚(y') â‡” y=y'\), kjer sta \(x\) in
  \(x'\) prosti spremenljivki tipa \(A\), \(y\) in \(y'\) pa tipa \(B\).
  OznaÄimo ga kar z \(A+B\). Poleg tega sta kanoniÄni vloÅ¾itvi \(Î¹áµ¢\) operaciji.
\end{konstrukcija}
\begin{dokaz}
  Pokazati je treba, da sta vloÅ¾itvi strogi in ekstenzionalni.
  Brez Å¡kode za sploÅ¡nost lahko to pokaÅ¾emo zgolj za \(Î¹ : A â†’ A+B\).
  Pri obeh primerih bomo imeli enakost v \(A+B\) zgolj na komponenti \(A\), tako
  da se bo enakost \(Î¹(a) = Î¹(a')\) vedno prevedla kar na \(a = a'\). Potem je
  pa preslikava oÄitno stroga in ekstenzionalna.
\end{dokaz}
\begin{konstrukcija}
  \emph{Kojedro} morfizma \(f : A â†¬ B\) je zlepek tipov \(B\) in \(B\) po
  podmnoÅ¾ici \(f[A]\). OznaÄimo ga \(\coker(f)\).
\end{konstrukcija}
\begin{dokaz}
  Kot v Uvodu v geometrijsko topologijo ta zlepek konstruiramo kot kvocient
  tipa \(B+B\) po relaciji generirani z \(Î¹â‚(b) \sim Î¹â‚‚(b) â‡” b âˆˆ f[A]\).
\end{dokaz}

\begin{definicija}
  Morfizem \(f : A â†¬ B\) je \emph{surjektiven}, ko velja
  \[ âŠ© \for{y : B}{y âˆˆ f[A]}\text, \]
  in \emph{injektiven}, ko velja
  \[ âŠ© \for{x,y:A}{f(x) = f(y) â‡’ x = y}\text. \]
\end{definicija}
\begin{trditev}
  Surjekcije so natanko epimorfizmi v \(\cat{Set}{\p{â„’}}\).
\end{trditev}
\begin{dokaz}
  Naj bo \(f : A â†¬ B\).

  Denimo, da je \(f\) surjektiven, \(g\) in \(h : B â†¬ C\), in \(g âˆ˜ f = h âˆ˜ f\).
  Naj bo \(b : B\) in dokaÅ¾imo \(g(b) = h(b)\).
  Po surjektivnosti potem obstaja \(a : A\), da je \(b = f(a)\). Potem je pa
  \(g(b) = g(f(a)) = h(f(a)) = h(b)\).

  Po drugi strani pa predpostavimo, da je \(f\) epimorfizem.
  Poglejmo si potem vloÅ¾itvi v kojedro \(Î¹â‚,Î¹â‚‚ : B â†¬ \coker(f)\).
  Te \(f\) po konstrukciji oÄitno izenaÄi, saj je \(\coker(f)\) ravno zlepek
  kopij \(B\) po sliki \(f\). Torej sta po predpostavki enaki, saj je \(f\)
  epimorfizem. Tedaj pa za vsak \(b : B\) velja, da je \(Î¹â‚(b) = Î¹â‚‚(b)\), torej
  da je \(b âˆˆ f[A]\).
\end{dokaz}

\begin{trditev}
  Injekcije so natanko monomorfizmi v \(\cat{Set}{\p{â„’}}\).
\end{trditev}
\begin{dokaz}
  Naj bo \(f : B â†¬ C\).

  Denimo, da je \(f\) injektiven, \(g\) in \(h : A â†¬ B\), in \(f âˆ˜ g = f âˆ˜ h\).
  Naj bo \(a : A\) in dokaÅ¾imo \(g(a) = h(a)\).
  Vemo, da je \(f(g(a)) = f(h(a))\). Po injektivnosti to potem pomeni, da velja
  \(g(a) = h(a)\), kar smo tudi Å¾eleli.

  Obratno, naj bo \(f\) monomorfizem in \(a\), \(a' : A\).
  Denimo, da velja \(f(a) = f(a')\) in naj bosta \(g, h : \bb1 â†¬ A\) definirana
  s predpisoma \(g(*) â‰” a\) ter \(h(*) â‰” a'\). Potem pa velja tudi
  \(f(g(*)) = f(a) = f(a') = f(h(*))\), torej je \(fâˆ˜g = fâˆ˜h\). Od tod pa
  sledi, da je \(g = h\), torej velja \(a = g(*) = h(*) = a'\).
\end{dokaz}

Sedaj se pa Å¾elimo vpraÅ¡ati, kaj so bijekcije tipov. V teoriji mnoÅ¾ic vemo, da
so to ravno izomorfizmi, in res to velja tudi pri nas. Za morfizem \(f : A â†¬ B\)
lahko definiramo dual \(fáµ’ : BÃ—A â†’ â„’\) s predpisom \(fáµ’(b,a) â‰” f(a,b)\).
Kompozituma z dualom sta identiteti, zares je pa treba pokazati, da je \(fáµ’\)
morfizem.

\begin{trditev}
  Za \(f : A â†¬ B\) je \(fáµ’\) morfizem natanko tedaj, ko je \(f\) bijektiven.
  V tem primeru potem velja \(fâˆ˜fáµ’ = \id = fáµ’âˆ˜f\), torej je \(fáµ’\) inverz \(f\).
\end{trditev}
\begin{dokaz}
  Opazimo da je \(fáµ’\) res celovita natanko tedaj, ko je \(f\) surjektivna, in
  da je enoliÄna natanko tedaj, ko je \(f\) injektivna.
  PokaÅ¾imo sedaj le eno neenakost, saj je druga simetriÄna.

  Naj bo \(a = fáµ’(f(a'))\), torej \(f(a)=f(a')\). Ker je \(f\) bijektivna, je
  \(a = a'\), in velja \(\id = fáµ’âˆ˜f\).
\end{dokaz}

TODO: vezno besedilo
\begin{trditev}\label{th:lpov-exponentiable}
  ÄŒe je \(X\) lokalno povezan, velja \(\c A â†¬ B â‰… \c{A â† B}\).
\end{trditev}
\begin{dokaz}
  Naj bodo \(f : \c A â†¬ B\), \(g : \c{A â† B}\), in \(a : \c A\).
  Najprej, obstja pokritje \(C\), tako da sta na njem \(g\) in \(a\) konstantna.
  Zaradi lokalne povezanosti, lahko predpostavimo, da je \(C\) zares particija.
  Potem lahko \(f(a) = g(a)\) definiramo na \(U âˆˆ C\) preprosto kot
  \(f(a,g(a))\), saj na vsakem elementu \(C\) velja \(g(a) âˆˆ B\).

  Potem definiramo preslikavo \(Ï†(f,g) â‰” \for{x:\c A}{f(x) = g(x)}\).

  Naj sedaj velja \(Ï†(f) = Ï†(f')\). Potem za vse \(x : \c A\) velja
  \(f(x) = f'(x)\), torej je \(Ï†\) injektivna. Naj bo \(g : \c{A â† B}\).
  Potem pa naj bo \(f(a, b) â‰” â‹\set{U âˆˆ C}{U âŠ© g(a) = b}\).
  Za tega potem velja \(f(x) = g(x)\), torej velja \(Ï†(f,g)\).

  Sledi, da je \(Ï†\) izomorfizem med \(\c A â†¬ \c B\) in \(\c{A â† B}\).
\end{dokaz}

\begin{trditev}
  Objekt \(\c{B^A}\) je znotraj enak topoloÅ¡kemu prostoru \(B^A\) s kompaktno
  odprto topologijo.
\end{trditev}
\begin{dokaz}
  Naj bo \(Ïƒ\) enojec tipa \(\c{B^A}\). Potem slika elemente mnoÅ¾ice \(B^A\) v
  elemente \(â„’\). ÄŒe je \(t âˆˆ \e Ïƒ\), je \(\set{f : A â†’ B}{t âŠ© f âˆˆ Ïƒ}\)
  podmnoÅ¾ica \(B^A\).
\end{dokaz}



%%% Local Variables:
%%% TeX-master: "main"
%%% End:
