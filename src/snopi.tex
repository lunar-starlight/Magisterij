\section{Snopi nad okoliÅ¡em}

Naj \(X, Y, â€¦\) oznaÄujejo okoliÅ¡e.



\begin{definicija}
  \emph{Predsnop nad okoliÅ¡em \(X\)} je funktor \(F : \op{\O{\p{X}}} â†’ \setcat\).
  Elementom mnoÅ¾ic \(F(U)\) pravimo \emph{prerezi (pri U)}.
\end{definicija}

\begin{opomba}
  Predsnope lahko definiramo tudi nad poljubno kategorijo \(\cat C\).
  V tem primeru piÅ¡emo \(\psh{\cat C} â‰” \op{\cat C} â†’ \setcat\), za predsnope nad okoliÅ¡em
  \(X\) pa raje spustimo \(\mc{O}\) in piÅ¡emo kar \(\psh{X}\).
\end{opomba}

Preden lahko definiramo snope, moramo nekaj povedati o druÅ¾inah prerezov.

\begin{definicija}
  Prereza \(s âˆˆ F(U)\) in \(t âˆˆ F(V)\) sta \emph{skladna}, ko velja \(s\res{V} = t\res{U}\).
  DruÅ¾ina prerezov \(sáµ¢ âˆˆ F(Uáµ¢)\) je \emph{skladna}, ko so njeni elementi paroma
  skladni. Prerez je \emph{skladen} z druÅ¾ino, ko je paroma skladen z vsemi
  njenimi elementi.
\end{definicija}

\begin{definicija}
  \emph{Snop nad okoliÅ¡em} je predsnop, za katerega velja:
  \begin{enumerate}
  \item Za vsako skladno druÅ¾ino prerezov \(sáµ¢ âˆˆ F(Uáµ¢)\) obstaja enoliÄen prerez
    \({s âˆˆ F\p{â‹ƒáµ¢Uáµ¢}}\), ki je skladen z druÅ¾ino.
  \item Za vsako pokritje \(Uáµ¢ \circlearrowright U\) in skladno druÅ¾ino prerezov \(sáµ¢ âˆˆ F(Uáµ¢)\) obstaja enoliÄen prerez
    \(s âˆˆ F(U)\), ki je skladen z druÅ¾ino.
  \item Za vsako skladno druÅ¾ino prerezov \(sáµ¢\) na \(Uáµ¢\) obstaja enoliÄen prerez
    \(s\) na \(â‹ƒáµ¢Uáµ¢\), ki je skladen z druÅ¾ino.
  % \item Za vsako skladno druÅ¾ino prerezov \(sáµ¢ : Uáµ¢\) obstaja enoliÄen prerez
  %   \(s : â‹ƒáµ¢Uáµ¢\), ki je skladen z druÅ¾ino.
  \item Za vsako skladno druÅ¾ino prerezov \(Uáµ¢ âŠ© sáµ¢\) obstaja enoliÄen prerez
    \({â‹ƒáµ¢Uáµ¢ âŠ© s}\), ki je skladen z druÅ¾ino.
  \item Za vsako skladno druÅ¾ino prerezov \(Uáµ¢ âŠ© sáµ¢ âˆˆ F\) obstaja enoliÄen prerez
    \({â‹ƒáµ¢Uáµ¢ âŠ© s âˆˆ F}\), ki je skladen z druÅ¾ino.
  % \item Za vsak par prerezov \(s, t âˆˆ F(U)\), je \(s = t\) natanko tedaj, ko za
  %   pokritje \(Uáµ¢ \circlearrowright U\) velja,
  \end{enumerate}
\end{definicija}

\begin{definicija} %TODO: popravi ta vsaj unija biznis
  \emph{Amalgamacija} druÅ¾ine prerezov je vsak prerez, ki je definiran vsaj na
  uniji druÅ¾ine in je z njo skladen.
\end{definicija}

\begin{opomba}
  ÄŒe druÅ¾ina ni skladna oÄitno nima amalgamacije.
\end{opomba}
\begin{slogan}
  Vsaka skladna druÅ¾ina prerezov v snopu ima enoliÄno amalgamacijo.
\end{slogan}
\begin{slogan}
  Predsnop je snop, kadar ima vsaka skladna druÅ¾ina prerezov enoliÄno amalgamacijo.
\end{slogan}

\begin{definicija}
  Preslikava med (pred)snopoma \(F\) in \(G\) je naravna transformacija med
  njima kot funktorjema.
\end{definicija}

\begin{definicija}
  Kategoriji vseh snopov na \(X\), skupaj z morfizmi med njimi pravimo \(\sh X\).
\end{definicija}


\subsection{Prezentacije snopov}

\begin{definicija}
  \emph{\(ğ“›\)-vrednotena mnoÅ¾ica} oziroma \emph{\(ğ“›\)-mnoÅ¾ica} je mnoÅ¾ica \(A\),
  skupaj s preslikavo, ki jo piÅ¡emo \(âŸ¦- = -âŸ§ : AÃ—A â†’ ğ“›\), tako da velja
  \begin{align*}
    âŸ¦ a = b âŸ§ â‰¤ âŸ¦ b = a âŸ§\\
    âŸ¦ a = b âŸ§ âˆ§ âŸ¦ b = c âŸ§ â‰¤ âŸ¦ a = c âŸ§
  \end{align*}
  ÄŒe iz konteksta ni razvidno kateri mnoÅ¾ici pripada preslikava \(âŸ¦- = -âŸ§\),
  jo piÅ¡emo z indeksom.
\end{definicija}

ÄŒe na okvir \(ğ“›\) mislimo kot mnoÅ¾ico resniÄnostnih vrednosti, lahko reÄemo, da je to simetriÄna in tranzitivna relacija na mnoÅ¾ici \(A\).
%TODO: jezik ğ“›-mnoÅ¾ic?

\begin{definicija}
  \emph{Morfizem med \(ğ“›\)-mnoÅ¾icama} \(A\) in \(B\) je preslikava \(âŸ¦- = f(-)âŸ§ : BÃ—A â†’ ğ“›\),
  za katero velja
  \begin{align*}
    âŸ¦b = b'âŸ§ âˆ§ âŸ¦b' = f(a)âŸ§ â‰¤ âŸ¦b = f(a)âŸ§\\
    âŸ¦b = f(a)âŸ§ âˆ§ âŸ¦a = a'âŸ§ â‰¤ âŸ¦b = f(a')âŸ§\\
    âŸ¦b = f(a)âŸ§ âˆ§ âŸ¦b' = f(a)âŸ§ â‰¤ âŸ¦b = b'âŸ§\\
    âŸ¦a = aâŸ§ = \bigvee_{b âˆˆ B} âŸ¦b = f(a)âŸ§
  \end{align*}
  Na prvi dve pravili lahko gledamo kot na skladnost z relacijama na \(A\) in \(B\), na drugi dve pa kot na enoliÄnost in celovitost, zato piÅ¡emo morfizme tudi v bolj funkcijskem zapisu kot \(f : A \looparrowright B\).

  ÄŒe imamo morfizma \(A \oset f \looparrowright B \oset g \looparrowright C\),
  je njun kompozitum \(gf : A \looparrowright C\) definiran kot
  \[ âŸ¦c = gf(a)âŸ§ â‰” \bigvee_{b âˆˆ B} âŸ¦c = g(b)âŸ§âˆ§âŸ¦b = f(a)âŸ§\text. \]
\end{definicija}

Skupaj z identiteto \(âŸ¦- = -âŸ§_A\) tvorijo \(ğ“›\)-mnoÅ¾ice kategorijo, ki jo oznaÄimo \(\cat{Set}(ğ“›)\).

\begin{lema}
  Naj bosta \(f, g : A \looparrowright B\) morfizma.
  Potem sta enaka natanko tedaj, ko velja
  \[ \for{a âˆˆ A, b âˆˆ B}{ âŸ¦b = f(a)âŸ§ â‰¤ âŸ¦b = g(a)âŸ§ }.\]
\end{lema}
\begin{dokaz}
  V eno smer je trditev oÄitna, tako da predpostavimo,
  da za vsaka \(a\) in \(b\) velja \(âŸ¦b = f(a)âŸ§ â‰¤ âŸ¦b = g(a)âŸ§\).
  Dokazati moramo torej, da velja tudi druga neenakost.
  \begin{align*}
    âŸ¦b = g(a)âŸ§
    &= âŸ¦b = g(a)âŸ§ âˆ§ âŸ¦a = aâŸ§ = âŸ¦b = g(a)âŸ§ âˆ§ \bigvee_{b' âˆˆ B} âŸ¦b' = f(a)âŸ§\\
    &= \bigvee_{b' âˆˆ B} âŸ¦b = g(a)âŸ§ âˆ§ âŸ¦b' = f(a)âŸ§ âˆ§ âŸ¦b' = g(a)âŸ§
    &â‰¤ \bigvee_{b' âˆˆ B} âŸ¦b = b'âŸ§ âˆ§ âŸ¦b' = f(a)âŸ§
    &= âŸ¦b = 1_Bf(a)âŸ§ = âŸ¦b = f(a)âŸ§.
  \end{align*}
\end{dokaz}

ÄŒe na zgornjo formulo gledamo kot neko trditev v jeziku mnoÅ¾ic in funkcij, bi se brala kot "Äe je \(f(a) = b\) je potem tudi \(g(a) = b\)", kar pa ponavadi res pomeni, da sta funkciji \(f\) in \(g\) enaki.

Na podoben naÄin bi si Å¾eleli karakterizirati epimorfizme in monomorfizme, v kategoriji \(\cat{Set}(ğ“›)\),
in res jih lahko karakteriziramo kot surjekcije in injekcije v tem jeziku:

\begin{trditev}
  Morfizem \(f : A \looparrowright B\) je epimorfizem, Äe velja
  \[ \for{b âˆˆ B}{ âŸ¦b = bâŸ§ = \bigvee_{a âˆˆ A} âŸ¦b = f(a)âŸ§ }\text, \]
  in monomorfizem, Äe velja
  \[ \for{a,a' âˆˆ A, b âˆˆ B}{ âŸ¦b = f(a)âŸ§ âˆ§ âŸ¦b = f(a')âŸ§ â‰¤ âŸ¦a = a'âŸ§}\text. \]
\end{trditev}
\begin{dokaz}
  %TODO: dokaz
  long and arduous
\end{dokaz}

\subsubsection{Karakterizacija podobjektov}

Z uporabo gornje karakterizacije monomorfizmov, lahko karakteriziramo tudi podobjekte.

\begin{definicija}
  \(ğ“›\)-podmnoÅ¾ica \(A\) je preslikava \( âŸ¦- âˆˆ SâŸ§ : A â†’ ğ“› \), za katero velja
  \begin{align*}
    âŸ¦a âˆˆ SâŸ§ â‰¤ âŸ¦a = aâŸ§\\
    âŸ¦a = a'âŸ§ âˆ§ âŸ¦a' âˆˆ SâŸ§ â‰¤ âŸ¦a âˆˆ SâŸ§
  \end{align*}
  t.~j. je skladna z relacijo na \(A\).
\end{definicija}

\begin{trditev}
  Obstaja ekvivalenca med delnima ureditvima \(ğ“›\)-podmnoÅ¾ic \(A\) in podobjektov \(A\).
\end{trditev}
\begin{proof}
  Naj bo \(m : S \looprightarrow A\) monomorfizem \(ğ“›\)-mnoÅ¾ic.
  Potem definiramo preslikavo \( âŸ¦- âˆˆ SâŸ§ : A â†’ ğ“› \) s predpisom
  \(a â†¦ \bigvee_{s âˆˆ S} âŸ¦a = m(s)âŸ§\).

  %TODO: complete proof
\end{proof}

\subsubsection{Polne \texorpdfstring{\(ğ“›\)}{ğ“›}-mnoÅ¾ice}

Naj bo \(F\) snop nad \(ğ“›\). Potem lahko za \(m âˆˆ F(U)\) definiramo enojec
\(âŸ¦a âˆˆ âŸ¨mâŸ©âŸ§ â‰” âŸ¦a = mâŸ§\), kjer je \(a âˆˆ F(V), V âˆˆ ğ“›\).
Na enojcih lahko definiramo tudi \(âŸ¦âŸ¨mâŸ© = âŸ¨nâŸ©âŸ§ â‰” âŸ¦m = nâŸ§\).
Snop \(F\) lahko sedaj rekonstruiramo iz njegovih enojcev.
Podobno bomo storili za \(ğ“›\)-mnoÅ¾ice.

\begin{definicija}
  \emph{Enojec} na \(ğ“›\)-mnoÅ¾ici \(A\) je \(ğ“›\)-podmnoÅ¾ica \(S\), za katero velja
  \(\for{a,b âˆˆ S}{âŸ¦a âˆˆ SâŸ§ âˆ§ âŸ¦b âˆˆ SâŸ§ â‰¤ âŸ¦a = bâŸ§} \).
\end{definicija}

\begin{lema}
  Za vsak \(m âˆˆ A\) lahko tvorimo enojec \(\sigma_m : A â†’ ğ“›\), s predpisom
  \(a â†¦ âŸ¦a = mâŸ§\). MnoÅ¾ico enojcev \(A\) oznaÄimo s \(\sigma(A)\).
\end{lema}

Snopi so natanko doloÄeni s svojimi enojci, tako da si poglejmo \(ğ“›\)-mnoÅ¾ice, ki so prav tako doloÄene s svojimi enojci.

\begin{definicija}
  \(ğ“›\)-mnoÅ¾ica \(A\) je \emph{polna}, kadar je preslikava \(m â†¦ \sigma_m\) bijekcija.
  Polno podkategorijo polnih \(ğ“›\)-mnoÅ¾ic oznaÄimo s \(\cat{CSet}(ğ“›)\).
\end{definicija}

\begin{izrek}
  MnoÅ¾ica \(\sigma(A)\), skupaj z relacijo \(âŸ¨\rho, \tauâŸ© â‰” \bigvee_{a âˆˆ A} \rho(a)âˆ§\tau(a)\)
  je \(ğ“›\)-mnoÅ¾ica, ki je izomorfna \(A\).
\end{izrek}
\begin{dokaz}
  %TODO: dokaz
\end{dokaz}

\begin{trditev}
  %TODO: morfizmi v polne ğ“›-mnoÅ¾ice so funkcije
\end{trditev}

\begin{izrek}
  Kategorija polnih \(ğ“›\)-mnoÅ¾ic je ekvivalentna kategoriji snopov nad \(ğ“›\).
\end{izrek}



%%% Local Variables:
%%% TeX-master: "main"
%%% End:
