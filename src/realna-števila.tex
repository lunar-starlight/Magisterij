\section{Realna Å¡tevila v topoloÅ¡kih modelih}\label{sec:reals}

\begin{trditev}\label{th:Rd-maps}
  Nad \(X\) je objekt Dedekindovih realnih Å¡tevil \(ğ’ªX\)-mnoÅ¾ica iz
  primera~\ref{ex:reals}.
  % Nad \(X\) je objekt Dedekindovih realnih Å¡tevil \(ğ’ªX\)-mnoÅ¾ica
  % \(\set{f : U â†’ â„}{U âˆˆ ğ’ªX\text{, }f\text{ zvezna}}\), z enakostjo definirano
  % kot \(\i{f = g} â‰” \int{\set{t âˆˆ X}{f(t) = g(t)}}\).
\end{trditev}
\begin{dokaz}
  Naj bo \(x = \p{L, U}\) dedekindov rez v interni logiki.
  Sedaj lahko zunaj za \(t âˆˆ \e x\) definiramo
  \[ Lâ‚œ â‰” \set{q : â„š}{t âˆˆ \i{q âˆˆ L}}\text{ in} \]
  \[ Uâ‚œ â‰” \set{r : â„š}{t âˆˆ \i{r âˆˆ U}}\text. \]
  Ta tvorita Dedekindov rez, tako da nam \(t â†¦ \p{Lâ‚œ, Uâ‚œ}\) definira preslikavo
  iz \(\e x â†’ â„\).
  Pokazati ostane, da je ta preslikava (oznaÄimo jo \(\hat x\)) zvezna.
  Naj bo \(\p{a,b}\) racionalen interval v \(â„\). Praslika tega intervala s
  \(\hat x\) je mnoÅ¾ica \(\set{t âˆˆ \e x}{a < \hat x(t) < b}\).
  Ta pogoj je pa ekvivalenten \(t âˆˆ \i{a âˆˆ L âˆ§ b âˆˆ U}\), torej je praslika kar
  enaka \(\i{aâˆˆLâˆ§bâˆˆU}\). Ta je pa odprta, torej je \(\hat x\) zvezna.

  Obratno, Äe je \(x : \e x â†’ â„\) zvezna preslikava, lahko tvorimo preslikavi
  \[ L(t) â‰” \set{q : â„š}{q < x(t)}\text{ in} \]
  \[ U(t) â‰” \set{r : â„š}{x(t) < r}\text. \]
  Ti znotraj tvorita Dedekindov rez \(\p{L, U}\).
\end{dokaz}

\begin{trditev}\label{th:Rc-maps}
  Naj bo prostor \(X\) lokalno povezan. Tedaj je nad \(X\) objekt Cauchyjevih
  realnih Å¡tevil \(ğ’ªX\)-mnoÅ¾ica \(\c â„\).
\end{trditev}
\begin{dokaz}
  Pokazati je zares treba, da je objekt Cauchyjevih realnih Å¡tevil \(\g{\c â„}\),
  torej da so lokalno konstantne preslikave v \(â„\).

  Podobno kot zgoraj nad \(t âˆˆ \e x\) dobimo Cauchyjevo zaporedje \((xâ‚™(t))â‚™\),
  torej preslikavo \(\e x â†’ â„\). Ker je \(X\) lokalno povezan ima pokritje iz
  povezanih mnoÅ¾ic, tako da brez Å¡kode za sploÅ¡nost predpostavimo, da je
  \(\e x\) povezan. Ker pa je povezan, pa vemo, da so vsi \(xáµ¢\) konstantne
  preslikave, torej morajo biti vsi \(xâ‚™(t)\) enaki (za vse \(t âˆˆ \e x\)), tako
  da je \(t â†¦ (xâ‚™(t))â‚™\) konstantna.

  Obratno pa, Äe je \(f : U â†’ â„\) konstantna preslikava, recimo konstantno
  \({x âˆˆ â„}\), ima potem pripadajoÄe Cauchyjevo zaporedje \((xâ‚™)â‚™\). Sedaj pa
  lahko tvorimo konstantne preslikave \(xâ‚™ : U â†’ â„š\), ki torej znotraj tvorijo
  Cauchyjevo zaporedje.
\end{dokaz}

\begin{trditev}
  Nad \(â„\) sta objekta Dedekindovih in Cauchyjevih realnih Å¡tevil razliÄna.
\end{trditev}
\begin{dokaz}
  Identiteta na \(â„\) je Dedekindovo realno Å¡tevilo, ki pa ni lokalno
  konstantno, torej ni Cauchyjevo.
\end{dokaz}

TODO: cite elephant
\begin{trditev}\label{real:Rm-maps}
  Objekt MacNeillovih realnih Å¡tevil je natanko \(â„’\)-mnoÅ¾ica parov funkcij
  \(\p{\uline f, \bar f}\) tipa \(U â†’ â„\) za \(U âˆˆ ğ’ªX\), za katere velja
  \begin{align*}
    \bar   f(t) &=
    \limsup_{y â†’ t}\uline f(y)\text{ in}\\
    %\inf\set{\sup \uline f(V)}{V\nbd t}\text{ in}\\
    \uline f(t) &=
    \liminf_{y â†’ t}\bar   f(y)\text.
    % \sup\set{\inf \bar   f(V)}{V\nbd t}\text.
  \end{align*}
\end{trditev}
\begin{dokaz}
  TODO: reword all this. kaj je s temi liminfi? a to dela sploh?

  ÄŒe je \(x = \p{L,U}\) Dedekind-MacNeilleov rez, lahko za \(L\) in \(U\)
  konstruiramo funkciji \(\uline f\) in \(\bar f\) kot pri Dedekindovih rezih,
  s tem da slikamo v enostranske reze zunaj. KlasiÄno so te ekvivalentni
  Dedekindovim rezom, tako da dobimo preslikavi \(\e x â†’ â„\).

  Limes inferior definira navzdol polzvezno preslikavo, namreÄ supremum vseh
  navzgor polzveznih preslikav manjÅ¡ih ali enakih \(\bar f\).
  To pomeni, da moramo pokazati, da je vsaka navzdol polzvezna preslikava manjÅ¡a
  ali enaka \(\uline f\).

  Vemo, da so navzdol polzvezne preslikave natanko enostranski rezi v interni
  logiki \(X\), tako da naj bo \(L'\) tak rez. Pogoj, da je preslikava manjÅ¡a al
  enaka \(\bar f\) pa pravi, da je \(L'\) vsebovan v komplementu \(U\).

  Sedaj pa naj bo \(q âˆˆ L'\). Ker je \(L'\) navzgor odprt obstaja nek \(s > q\),
  ki je Å¡e vedno v \(L'\), torej je \(s âˆˆ Uá¶œ\). To pa pomeni, da je
  \(q âˆˆ \int{\p{Uá¶œ}} = L\), in je \(L' âŠ† L\). To pa oÄitno pomeni, da je
  \(f â‰¤ \uline f\) in je \(\uline f = \liminf_{y â†’ t}\bar f(y)\).

  % Naj bo \(t âˆˆ \e x\). Ker je \(L = \int{Uá¶œ}\), je
  % \(\uline f(t) = \int{\bar f(t)á¶œ} = \int{\set{r:â„š}{tâˆˆ\i{râˆˆU}}á¶œ}\).
  % Komplement notranje mnoÅ¾ice je pa kar \(\set{r:â„š}{tâˆ‰\i{râˆˆU}}\), Äigar
  % notranjost je \(\set{r:â„š}{tâˆˆ\i{râˆ‰U}}\).

  % % i'm oopid, to ni trebaâ€¦
  % PokaÅ¾imo zgolj, da je \(\uline f\) navzdol polzvenzna, saj je dokaz
  % simetriÄen. Naj bo \(a âˆˆ â„\). Potem je
  % \(\uline fâ»Â¹(a,âˆ) = \set{t âˆˆ \e x}{f(t) > a}\).
  % Po definiciji je \(\uline f(t) = \set{q : â„š}{t âˆˆ \i{q < x}}\), in ta je veÄji
  % od \(a\) ko je \(a\) element \(f(t)\), torej ko velja \(t âˆˆ \i{a < x}\). Sledi,
  % da je \(\uline fâ»Â¹(a,âˆ) = \i{a < x}\), torej je navzdol polzvezna.

  Obratno, Äe je pa \(\p{\uline f, \bar f}\) tak par, preslikavi definirata
  enostranska reza \(L\) in \(U\). OÄitno je \(L âŠ† \int{\p{Uá¶œ}}\). Ampak
  \(\int{\p{Uá¶œ}}\) je tudi enostranski rez, torej definira navzdol polzvezno
  preslikavo, ki je manjÅ¡a od \(\bar f\), torej je tudi \(\int{\p{Uá¶œ}} âŠ† L\).
\end{dokaz}

\begin{trditev}
  Nad \(\p{3,\{âˆ…, \{1\}, \{2\}, \{1,2\}, \{0,1,2\}\}}\) ne velja \(\Rm = \Rd\).
\end{trditev}
\begin{dokaz}
  Naj bo \(x â‰” \sup\set{x : \Rm}{x = 0 âˆ¨ x = 1âˆ§\{1\}}\).
  To je po lemi~\ref{th:Rm-sup} MacNeillovo realno Å¡tevilo, saj je poseljeno z
  \(0\) in omejeno z \(1\).

  Poglejmo sedaj, Äe velja \(x < 1 âˆ¨ x > 0\). ÄŒe velja \(x < 1\), je potem
  \(x = 0\), torej \(\{1\}\) ne drÅ¾i. Sledi, da je \(\i{x < 1} = \{2\}\).
  Podobno lahko sklepamo, da je \(\i{x > 1} = \{1\}\). To pa pomeni, da \(x\) ni
  locirano pri \(0\), torej ni Dedekindovo.
\end{dokaz}
\begin{dokaz}[Alternativni dokaz]
  Definirajmo MacNeillovo realno Å¡tevilo s preslikavama
  \begin{align*}
    \uline f(0) = 0 && \bar f(0) = 1\\
    \uline f(1) = 1 && \bar f(1) = 1\\
    \uline f(2) = 0 && \bar f(2) = 0
  \end{align*}

  Ti oÄitno zadoÅ¡Äata pogojem zgoraj, in se na \(0\) ne ujemata, tako da ne
  definirata Dedekindovega realnega Å¡tevila.
\end{dokaz}


\subsection{\(\Rd{} = \Rc\)}\label{sec:reals-Rd=Rc}

Najprej si oglejmo klasiÄen dokaz ekvivalence Dedekindovih in Cauchyjevih
realnih Å¡tevil.
\begin{izrek}[KlasiÄni]
  Pokazati je zgolj potrebno, da ima vsak Dedekindov rez pripadajoÄe Cauchyjevo
  zaporedje.
  Naj bo \(\p{L, U}\) obojestranski dedekindov rez. Cauchyjevo zaporedje lahko
  podamo kot zaporedje hitro padajoÄih racionalnih intervalov.

  Naj bosta \(pâ‚€ âˆˆ L\) in \(qâ‚€ âˆˆ U\) racionalni Å¡tevili.
  Potem pa na \(n\)-tem koraku definiramo
  \[ a â‰” \frac{2pâ‚™ + qâ‚™}{3}\text,\quad b â‰” \frac{pâ‚™ + 2qâ‚™}{3}\text{, in}\quad
     \p{pâ‚™â‚Šâ‚, qâ‚™â‚Šâ‚} â‰” \begin{cases}
       \p{a, qâ‚™} ;& a âˆˆ L\\
       \p{pâ‚™, b} ;& b âˆˆ U\text.
     \end{cases}
  \]
  Te intervali hitro konvergirajo proti \(\p{L, U}\), torej je to Å¾eleno
  Cauchyjevo Å¡tevilo.
\end{izrek}

Gornji izrek naredi Å¡tevno mnogo odloÄitev, ko se odloÄamo, Äe velja \(a âˆˆ L\)
ali \(b âˆˆ U\) (oziroma ali velja \(a < x\) ali \(x < b\)), torej dokaz ni
konstruktiven.
Znana sta dva nekonstruktivna principa, ki sta zadostna za gornji odkaz in sta
Å¡ibkejÅ¡a od izkljuÄene tretje moÅ¾nosti. To sta \(\alpo*\) ter \(\CCv\).
ÄŒe velja \(\alpo*\) je potem \(a < x\) odloÄljivo, torej lahko vnaprej popravimo
drugi primer na \(x < b âˆ§ Â¬\p{a < x}\).

ÄŒe pa imamo na voljo \(\CCv\) pa preprosto lahko naredimo Å¡tevno mnogo
odloÄitev. Zares potrebujemo tu zgolj \(\CCv_{Î£_â„}\), kar je
pa tudi posledica \(\alpo*\).

ÄŒeprav je iz tega oÄitno, da niti \(\alpo*\) niti \(\CCv\) nista potrebna za
\(\Rd = \Rc\), jih vseeno Å¾elimo strogo loÄiti.

\begin{konstrukcija}
  Nad \(\Ncof\) velja \(\Rd = \Rc\), a ne velja princip Å¡tevne
  disjunktivne izbire.
\end{konstrukcija}
\begin{dokaz}
  Prostor naravnih Å¡tevil s kokonÄno topologijo ima lastnost, da je vsaka
  funkcija \(â„• â†’ â„\) konstantna. To velja tudi za (neprazne) odprte podmnoÅ¾ice,
  ker so Å¡tevno neskonÄne s kokonÄno topologijo, kar pa pomeni, da se, v toposu
  snopov nad \(â„•\) s to topologijo, Dedekindova in Cauchyjeva realna Å¡tevila
  ujemajo.

  Naj bo \(R(n, b) â‰” â„•â§µ\{2n+b\}\). Ta relacija je celovita, saj lahko za vsak
  \(n : â„•\) \(â„•\) pokrijemo z \(R(n,0)\) in \(R(n,1)\). PokaÅ¾imo, da za to
  relacijo ne obstaja funkcija izbire.

  Denimo, da je \(f : â„• â†’ 2\) njena funkcija izbire, torej da velja
  \(\for{n:â„•}{R(n,f(n))}\). ÄŒe bi bila \(f\) konstantno \(b\), bi potem moralo
  veljati \(â„• âŠ© R(n, b)\) za vse \(n\), kar pa ni res. To pomeni, da sta
  \(\i{0 = f(n)}\) in \(\i{1 = f(n)}\) obe neprazni, torej, ker sta odprti,
  imata neprazen presek (ki je tudi neskonÄna odprta mnoÅ¾ica). Potem pa na tej
  mnoÅ¾ici velja \(0 = 1\), kar pa oÄitno ne drÅ¾i.\contradiction

  Sledi, da funkcija izbire za ta \(R\) ne more obstajati, torej \(\CCv\) ne
  drÅ¾i.
\end{dokaz}
\begin{dokaz}
  Naj bodo \(Câ‚™ â‰” \{â„•â§µ\{2n\}, â„•â§µ\{2n+1\}\}\) pokritja \(\Ncof\) in \(C\) njihova
  skupna pofinitev. Potem mora vsak \(U âˆˆ C\) biti podmnoÅ¾ica enega od elementov
  vsakega od \(Câ‚™\). To pa pomeni, da ima \(U\) neskonÄen komplement, torej je
  prazna mnoÅ¾ica. Sledi, da \(C\) pokrije zgolj prazno mnoÅ¾ico, torej \(\CCv\)
  ne drÅ¾i.
\end{dokaz}

Primer podan zgoraj pa vseeno zadoÅ¡Äa principu \(\alpo*\), ki konstruktivno
implicira ujemanje Cantorjevih in Dedekindovih realnih
Å¡tevil~\cite{Birchfield24}.

TODO: restructure?
IzkaÅ¾e se, da za lokalno povezane prostore to tudi priÄakujemo.
\begin{izrek}
  ÄŒe je \(X\) lokalno povezan in velja \(X âŠ© \Rd = \Rc\), velja \(X âŠ© \alpo*\).
\end{izrek}
Ta izrek je zares kar posledica izreka~\ref{th:lpov-lpo}, saj je \(\lpo*\)
natanko \(\alpo*\) za Cauchyjeva realna Å¡tevila.
\begin{opomba}
  Zares namesto lokalne povezanosti zadoÅ¡Äa \(X âŠ© \Rc = \c â„\). To je zato, ker
  je \(\alpo*\) za Cauchyjeva realna Å¡tevila ekvivalenten \(\lpo*\).
  TODO: a velja \(\lpo* â‡’ \Rc = \c â„\)?

  V sploÅ¡nem bi se izrek torej lahko glasil \(X âŠ© R = \c â„ â‡’ \alpo*_R\), kjer je
  \(R\) nek objekt realnih Å¡tevil (Dedekindova, Cauchyjeva, Escardo-Simpsonova,
  MacNeillova, itd.).
\end{opomba}

TODO: ta prostor ne dela, oziroma loÄi ta dva, ampak \(\CC\) vela
To pomeni, da Äe Å¾elimo loÄiti \(\Rd = \Rc\) in \(\alpo*\) potrebujemo prostor,
ki ni lokalno povezan. Avtorica meni, da je Fortov prostor na Å¡tevno neskonÄni
mnoÅ¾ici dober kandidat, a ji ni uspelo preveriti detajlov. Vseeno, se je pa
zadostno prepriÄala, da niti \(\alpo*\) niti \(\CCv\) nad tem prostorom ne
drÅ¾ita. Å e veÄ, ker je ta prostor \(Tâ‚†\) validira \(\aks*\), torej ne velja niti
\(\CCv\) za ``realne'' resniÄnostne vrednosti. 


\subsection{\(\Rm{} = \Rd\)}\label{sec:reals-Rm=Rd}

% https://gist.github.com/andrejbauer/689b17b10a4e80ea409d03ec030c98b3
Andrej Bauer je 2023 za prvoaprilsko Å¡alo objavil, kar zgleda kot konstruktiven
dokaz \(\wlem*\). V njem zaÄne z ``znanimi dejstvi'' o MacNeilleovih realnih
Å¡tevilih, zraven pa podtakne Å¡e lociranost. Vemo Å¾e, da je vsako MacNeillovo
realno Å¡tevilo locirano natanko tedaj, ko se ujemajo z Dedekindovimi realnimi
Å¡tevili.
Skratka, pokazal je sledeÄo trditev.
\begin{trditev}
  ÄŒe velja \(\Rm = \Rd\) velja \(\wlem*\).
\end{trditev}
\begin{dokaz}
  Dokaz je povsem konstruktiven, ampak ga lahko za topoloÅ¡ke modele malo
  poenostavimo.

  Naj bo \(U âˆˆ ğ’ªX\). Definirajmo preslikavi \(\uline f\) in \(\bar f\) tako, da
  sta na \(U\) obe \(1\), na \(Â¬U\) obe \(0\), izven tega naj je pa \(\uline f\)
  enaka \(0\), \(\bar f\) pa enaka \(1\).

  Na \(Â¬U\) torej velja \(x â‰¤ 0\), na \(U\) pa \(x â‰¥ 1\).

  To zadoÅ¡Äa pogojema~\ref{real:Rm-maps}, torej definira MacNeillovo realno
  Å¡tevilo.
  Sedaj pa uporabimo predpostavko, da je locirano, torej \(x < 1 âˆ¨ x > 0\).
  Vrednost \(x < 1\) je \(Â¬U\), saj je \(\bar f < 1\) natanko na tej mnoÅ¾ici,
  vrednost \(x > 0\) je pa vsebovana v \(Â¬Â¬U\), saj na \(Â¬U\) velja \(x â‰¤ 0\),
  torej \(\i{x>0}\) ne more sekati \(Â¬U\). 
\end{dokaz}

IzkaÅ¾e pa se, da velja tudi obrat! Inspiracija za to dejstvo, je priÅ¡la iz
predmeta ``Banachove mreÅ¾e'', kjer se obravnava slednji izrek:
\begin{izrek}
  ÄŒe je \(X\) ekstremalno nepovezan je \(ğ’(X,â„)\) polna mreÅ¾a.
\end{izrek}

To pa izgleda zelo sumljivo! ÄŒe se spomnimo, to da je \(X\) ekstremalno povezan
ravno pomeni, da velja \(\wlem*\). Prav tako je \(ğ’(X,â„)\) znotraj mnoÅ¾ica
globalnih Dedekindovih realnih Å¡tevil. Konstruktivno ta niso polna, so pa
MacNeillova realna Å¡tevila, tako da bo supremum Dedekindovih realnih v
MacNeillovih realnih Å¡tevilih obstajal, le da bo to MacNeillovo realno Å¡tevilo.
Potem pa lahko polnost Dedekindovih realnih Å¡tevil izrazimo kot ``vsako
MacNeillovo realno Å¡tevilo je Dedekindovo''.

Vredno je Å¡e omeniti, da je ekstremalna nepovezanost dedna lastnost na odprte
podmnoÅ¾ice, tako da lahko konsekvent napiÅ¡emo tudi kot ``\(ğ’(U,â„)\) je polna
mreÅ¾a za vse \(U\)''. To je pa Å¾e bistveno bliÅ¾je temu, da bi rekli ``realna
Å¡tevila so polna'' v interni logiki. Ampak, preveriti moramo Å¡e, da je polnost
znotraj enaka stvar kot polnost zunaj. 

IzkaÅ¾e se, da nista zares ista stvar, polnost znotraj pravi da ima vsaka
poseljena \emph{odsekoma} omejena mnoÅ¾ica supremum, medtem ko polnost zunaj
zahteva globalno omejenost. Ampak to ni problem, saj je vsaka omejena mnoÅ¾ica
oÄitno tudi odsekoma omejena, torej je notranja trditev moÄnejÅ¡a.

TODO: a dobim tapravi obstoj tu?

Sledi, da lahko gornji izrek sledi iz interpretacije spodnje trditve v interni
logiki.
\begin{trditev}
  Velja implikacija \(\wlem* â‡’ \Rm = \Rd\).
\end{trditev}
\begin{dokaz}
  Za \(x : \Rm\) velja \(Â¬(x < q) â‡’ \for{s<q}{s < x}\).

  Uporabimo \(\wlem*\) na \(x < 1\) in \(2 < x\).
  Ker hkrati oba oÄitno ne moreta veljati, lahko primer, ko sta oba \(Â¬Â¬\)
  veljavna zanemarimo.
  \begin{itemize}
  \item ÄŒe velja \(Â¬(x < 1)\) potem gotovo velja \(0 < x\).
  \item ÄŒe velja \(Â¬(2 < x)\) potem gotovo velja \(x < 3\).
  \end{itemize}
  V vseh primerih torej dobimo \(0 < x âˆ¨ x < 3\), torej je \(x\) lociran.
\end{dokaz}
\begin{dokaz}[TopoloÅ¡ki dokaz]
  TODO: a v topoloÅ¡kih reÄemo, da Äe je \(X\) ekstremalno nepovezan morta bit
  \(\uline f\) in \(\bar f\) zvezni, in a to pomen da sta enaki?

  NOTE: Najdla sm da pomen da je vmes med njima en zvezenâ€¦ nevem zakaj to pomeni
  da sta enakaâ€¦ Aaha, sem ugotovila, ker sta ostra dobimo tud da sta enaka.
\end{dokaz}

Gornji dokaz sem tudi formalizirala v dokazovalnem pomoÄniku Agda, kar nam da
formaliziran, popolnoma konstruktiven dokaz sledeÄega izreka.
\begin{izrek}\label{th:Rm=Rd-wlem}
  MacNeillova realna Å¡tevila se ujemajo z Dedekindovimi natanko tedaj, ko velja
  Å¡ibka izkljuÄena tretja moÅ¾nost.
\end{izrek}
TODO: objavi kodo in jo citiraj tu.

TODO: elephant D4.7.11 je to


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
